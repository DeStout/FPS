[gd_scene load_steps=5 format=3 uid="uid://la6he6vwubnb"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_rf7ub"]
[ext_resource type="Script" path="res://Characters/CampaignEnemy.gd" id="2_pqw3d"]
[ext_resource type="PackedScene" uid="uid://cy12nf62sv60i" path="res://Debug/VectorCube.tscn" id="3_3vsup"]
[ext_resource type="PackedScene" uid="uid://bd2fp3xjnl5vp" path="res://Characters/VisionCone.tscn" id="3_u6o4h"]

[node name="CampaignEnemy" instance=ExtResource("1_rf7ub")]
script = ExtResource("2_pqw3d")

[node name="NavAgent" type="NavigationAgent3D" parent="." index="0"]
debug_enabled = true

[node name="TargetCast" type="RayCast3D" parent="." index="2"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)
target_position = Vector3(0, 0, -1)
collision_mask = 3
debug_shape_custom_color = Color(0, 0.54902, 0.282353, 1)

[node name="Weapons" parent="." index="3"]
transform = Transform3D(0.853488, -0.0733182, 0.515929, -0.224258, 0.842009, 0.490642, -0.470389, -0.534459, 0.702202, 0.165458, 1.44221, -0.374925)

[node name="LookHelper" type="Node3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="VisionCone" parent="LookHelper" index="0" node_paths=PackedStringArray("parent") instance=ExtResource("3_u6o4h")]
unique_name_in_owner = true
transform = Transform3D(5, 0, 0, 0, -2.18557e-07, -5, 0, 5, -2.18557e-07, 0, 0, 0)
parent = NodePath("../..")

[node name="VectorCube" parent="AimHelper" index="0" instance=ExtResource("3_3vsup")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
visible = false

[node name="ShootCast" parent="AimHelper" index="2"]
collision_mask = 13

[node name="Skeleton3D" parent="Puppet" index="2"]
bones/1/position = Vector3(-1.22709e-09, 0.886721, -0.0641973)
bones/2/rotation = Quaternion(-0.137106, 0.000826085, 0.00292398, 0.990552)
bones/4/rotation = Quaternion(0.0888533, 0.013226, 0.0184822, 0.995785)
bones/5/rotation = Quaternion(-0.0148705, -7.86569e-05, -0.000463517, 0.999889)
bones/7/rotation = Quaternion(-0.179236, 0.249786, -0.495436, 0.812419)
bones/8/rotation = Quaternion(0.261196, 0.0351919, -0.0508556, 0.963302)
bones/9/rotation = Quaternion(-0.0238754, -0.333541, -0.00906268, 0.942389)
bones/11/rotation = Quaternion(-0.138778, -0.0287973, 0.154257, 0.977812)
bones/14/rotation = Quaternion(0.0624883, -0.170807, -0.0838483, 0.97974)
bones/17/rotation = Quaternion(-0.312918, -0.0320021, 0.260822, 0.912705)
bones/20/rotation = Quaternion(0.179488, 0.101841, 0.520034, 0.828841)
bones/21/rotation = Quaternion(0.705752, -0.0253678, 0.137419, 0.69454)
bones/22/rotation = Quaternion(0.167374, 0.237091, -0.0515997, 0.955569)
bones/24/rotation = Quaternion(-0.141662, 0.0469757, -0.14659, 0.977874)
bones/25/rotation = Quaternion(-0.0676295, 0.00855269, 0.0317821, 0.997167)
bones/27/rotation = Quaternion(0.101046, 0.157908, 0.111045, 0.975973)
bones/28/rotation = Quaternion(0.0804974, -0.138918, -0.0568012, 0.985391)
bones/30/rotation = Quaternion(-0.536815, -0.390833, 0.59631, 0.451103)
bones/33/rotation = Quaternion(-0.581249, 0.206648, -0.183736, 0.765302)
bones/34/rotation = Quaternion(-0.110907, 0.00383623, 0.16992, 0.97919)
bones/35/rotation = Quaternion(0.274353, -0.129309, -0.644188, 0.702161)
bones/38/rotation = Quaternion(-0.520155, -0.0494406, 0.343812, 0.780249)
bones/39/rotation = Quaternion(-0.147984, -0.00377139, -0.226724, 0.962644)
bones/40/rotation = Quaternion(0.228643, 0.127163, 0.527749, 0.808105)

[node name="Head" parent="Puppet/Skeleton3D" index="1"]
transform = Transform3D(-0.999997, -0.00243158, 0.000344281, -0.00245014, 0.978287, -0.207238, 0.000167112, -0.207239, -0.97829, -0.000397678, 1.56654, -0.0465391)

[node name="HeadArea" parent="Puppet/Skeleton3D/Head" index="0"]
collision_layer = 8
collision_mask = 1

[node name="Neck" parent="Puppet/Skeleton3D" index="2"]
transform = Transform3D(-0.999999, -0.00149567, 0.000245357, -0.00151131, 0.971694, -0.236239, 0.000114927, -0.236239, -0.971695, -0.000301677, 1.50417, -0.0313759)

[node name="NeckArea" parent="Puppet/Skeleton3D/Neck" index="0"]
collision_layer = 8
collision_mask = 1

[node name="Chest" parent="Puppet/Skeleton3D" index="3"]
transform = Transform3D(-0.999982, 0.00601933, -0.000835145, 0.00577222, 0.983793, 0.179212, 0.00190035, 0.179204, -0.98381, -2.13369e-09, 1.12489, -0.0868667)

[node name="ChestArea" parent="Puppet/Skeleton3D/Chest" index="0"]
collision_layer = 8
collision_mask = 1

[node name="Stomach" parent="Puppet/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78941e-09, -3.89234e-07, 3.31093e-08, 0.995501, -0.0947544, 3.87842e-07, -0.0947544, -0.995501, -1.22709e-09, 0.886721, -0.0641973)

[node name="StomachArea" parent="Puppet/Skeleton3D/Stomach" index="0"]
collision_layer = 8
collision_mask = 1

[node name="R_UpperArm" parent="Puppet/Skeleton3D" index="5"]
transform = Transform3D(0.987657, 0.152728, -0.0347519, 0.138514, -0.748066, 0.649007, 0.0731246, -0.64581, -0.759988, 0.194753, 1.38726, -0.0369663)

[node name="R_UpperArmArea" parent="Puppet/Skeleton3D/R_UpperArm" index="0"]
collision_layer = 8
collision_mask = 1

[node name="R_Forearm" parent="Puppet/Skeleton3D" index="6"]
transform = Transform3D(0.964804, -0.262905, 0.00589152, 0.165851, 0.625717, 0.762215, -0.204077, -0.734411, 0.647297, 0.226623, 1.23116, -0.171729)

[node name="R_ForearmArea" parent="Puppet/Skeleton3D/R_Forearm" index="0"]
collision_layer = 8
collision_mask = 1

[node name="R_Hand" parent="Puppet/Skeleton3D" index="7"]
transform = Transform3D(0.853488, -0.0733192, 0.515929, -0.224257, 0.842009, 0.490642, -0.47039, -0.534458, 0.702202, 0.17265, 1.35961, -0.322499)

[node name="R_HandArea" parent="Puppet/Skeleton3D/R_Hand" index="0"]
collision_layer = 8
collision_mask = 1

[node name="L_UpperArm" parent="Puppet/Skeleton3D" index="8"]
transform = Transform3D(0.978096, -0.186719, 0.0920014, -0.150918, -0.940524, -0.304365, 0.14336, 0.283813, -0.948102, -0.195169, 1.38694, -0.036942)

[node name="L_UpperArmArea" parent="Puppet/Skeleton3D/L_UpperArm" index="0"]
collision_layer = 8
collision_mask = 1

[node name="L_Forearm" parent="Puppet/Skeleton3D" index="9"]
transform = Transform3D(0.976794, -0.00049454, 0.214181, -0.0461802, -0.976963, 0.208354, 0.209144, -0.21341, -0.954314, -0.234132, 1.19068, 0.022282)

[node name="L_ForearmArea" parent="Puppet/Skeleton3D/L_Forearm" index="0"]
collision_layer = 8
collision_mask = 1

[node name="L_Hand" parent="Puppet/Skeleton3D" index="10"]
transform = Transform3D(0.894036, 0.0234049, -0.447384, 0.0963025, -0.985329, 0.1409, -0.437522, -0.169054, -0.883173, -0.234233, 0.990118, -0.0215296)

[node name="L_HandArea" parent="Puppet/Skeleton3D/L_Hand" index="0"]
collision_layer = 8
collision_mask = 1

[node name="R_Thigh" parent="Puppet/Skeleton3D" index="11"]
transform = Transform3D(0.488537, 0.0628983, 0.870273, -0.324649, -0.912685, 0.248209, 0.809897, -0.403793, -0.425461, 0.0851499, 0.869232, -0.0593682)

[node name="R_ThighArea" parent="Puppet/Skeleton3D/R_Thigh" index="0"]
collision_layer = 8
collision_mask = 1

[node name="R_Shin" parent="Puppet/Skeleton3D" index="12"]
transform = Transform3D(0.47563, 0.0210106, 0.879395, 0.12457, -0.991248, -0.0436922, 0.87078, 0.130328, -0.474084, 0.111577, 0.485758, -0.229026)

[node name="R_ShinArea" parent="Puppet/Skeleton3D/R_Shin" index="0"]
collision_layer = 8
collision_mask = 1

[node name="R_Foot" parent="Puppet/Skeleton3D" index="13"]
transform = Transform3D(0.245938, 0.0720778, 0.966602, -0.853542, -0.456465, 0.251209, 0.459326, -0.886817, -0.0507406, 0.119461, 0.113834, -0.180126)

[node name="R_FootArea" parent="Puppet/Skeleton3D/R_Foot" index="0"]
collision_layer = 8
collision_mask = 1

[node name="L_Thigh" parent="Puppet/Skeleton3D" index="14"]
transform = Transform3D(0.498625, -0.0549009, -0.865077, -0.0704051, -0.99726, 0.0227086, -0.863954, 0.0495828, -0.501124, -0.0851499, 0.869232, -0.0593682)

[node name="L_ThighArea" parent="Puppet/Skeleton3D/L_Thigh" index="0"]
collision_layer = 8
collision_mask = 1

[node name="L_Shin" parent="Puppet/Skeleton3D" index="15"]
transform = Transform3D(0.490699, -0.0299656, -0.870814, -0.398371, -0.896554, -0.193629, -0.774929, 0.441921, -0.451876, -0.108217, 0.450223, -0.0385355)

[node name="L_ShinArea" parent="Puppet/Skeleton3D/L_Shin" index="0"]
collision_layer = 8
collision_mask = 1

[node name="L_Foot" parent="Puppet/Skeleton3D" index="16"]
transform = Transform3D(0.245939, -0.0720745, -0.966602, 0.853542, -0.456466, 0.251208, -0.459327, -0.886817, -0.050744, -0.11946, 0.11383, 0.127276)

[node name="L_FootArea" parent="Puppet/Skeleton3D/L_Foot" index="0"]
collision_layer = 8
collision_mask = 1

[node name="ShootTimer" type="Timer" parent="." index="8"]
one_shot = true

[connection signal="velocity_computed" from="NavAgent" to="." method="avoid_velocity"]

[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/SMG"]
[editable path="Weapons/SMG/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="Weapons/Shotgun"]
[editable path="Weapons/Sniper"]
[editable path="Puppet"]
