[gd_scene load_steps=16 format=3 uid="uid://65jhlh1xbkow"]

[ext_resource type="Script" path="res://Archive/PuppetEra/PuppetCharacter.gd" id="1_q40s2"]
[ext_resource type="PackedScene" uid="uid://bf4x61feslkq2" path="res://Characters/MannyBase.tscn" id="2_4yyna"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Weapons/Slapper/Slapper.tscn" id="2_e1vp6"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Weapons/Pistol/Pistol.tscn" id="3_igi5e"]
[ext_resource type="PackedScene" uid="uid://dh23vd3s1cpss" path="res://Props/Weapons/SMG/SMG.tscn" id="4_a7f61"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Weapons/Rifle/Rifle.tscn" id="5_nv5n8"]
[ext_resource type="PackedScene" uid="uid://barsvh0ntyosw" path="res://Props/Weapons/Shotgun/Shotgun.tscn" id="6_8xy63"]
[ext_resource type="PackedScene" uid="uid://dlgv171g6as4t" path="res://Props/Weapons/Sniper/Sniper.tscn" id="7_rtaje"]
[ext_resource type="Script" path="res://Characters/Multiplayer/Voice.gd" id="9_hj0ir"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Weapons/Slapper/Slap.ogg" id="10_n02aa"]
[ext_resource type="Script" path="res://RandomAudio.gd" id="11_ntang"]
[ext_resource type="AudioStream" uid="uid://b56r0e1ges6xc" path="res://Characters/Audio/footstep1.ogg" id="12_8kevp"]
[ext_resource type="AudioStream" uid="uid://doju4xf4dtgt" path="res://Characters/Audio/footstep2.ogg" id="13_xgngd"]
[ext_resource type="AudioStream" uid="uid://cxbr801up84rw" path="res://Characters/Audio/footstep4.ogg" id="14_df48h"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_q40s2")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
visible = false
shape = SubResource("CapsuleShape3D_5yxej")

[node name="Mannequin" parent="." instance=ExtResource("2_4yyna")]

[node name="Skeleton3D" parent="Mannequin/Mannequin" index="0"]
bones/0/position = Vector3(-0.000598401, 96.2926, -4.11893e-05)
bones/1/rotation = Quaternion(-0.0114927, -0.0016526, 0.00248148, 0.99993)
bones/2/rotation = Quaternion(-0.0533746, -0.000128106, 0.000686318, 0.998574)
bones/3/rotation = Quaternion(0.0239673, -0.000908669, 0.00246853, 0.999709)
bones/4/rotation = Quaternion(-0.0502251, 0.0233058, 0.00173408, 0.998464)
bones/5/rotation = Quaternion(0.0694219, 0.0257333, -0.00282755, 0.997252)
bones/7/rotation = Quaternion(-0.602095, -0.4349, 0.498473, -0.447066)
bones/8/rotation = Quaternion(0.59428, 0.27177, 0.0545454, 0.754982)
bones/9/rotation = Quaternion(0.527527, -0.663225, 0.376299, 0.374495)
bones/10/rotation = Quaternion(0.100969, 0.963337, 0.243881, 0.0480634)
bones/11/rotation = Quaternion(0.161364, -0.473902, 0.248362, 0.829274)
bones/12/rotation = Quaternion(-0.19284, -0.0873972, -0.363022, 0.907408)
bones/15/rotation = Quaternion(0.277011, -0.0111927, -0.0133586, 0.960709)
bones/16/rotation = Quaternion(0.394131, -0.0748222, -0.037847, 0.915221)
bones/17/position = Vector3(2.31138e-06, 3.41517, -1.00984e-06)
bones/17/rotation = Quaternion(0.198663, 0.019591, -0.0464424, 0.978771)
bones/18/position = Vector3(-9.77092e-07, 3.078, 4.82007e-07)
bones/19/rotation = Quaternion(0.341459, 0.0124959, -0.0122758, 0.939733)
bones/20/position = Vector3(2.00472e-06, 3.61397, -6.52341e-06)
bones/20/rotation = Quaternion(0.367931, -0.0979185, -0.0508924, 0.923281)
bones/21/rotation = Quaternion(0.185156, -0.0564563, 0.0157441, 0.98096)
bones/22/position = Vector3(-4.1237e-05, 3.68017, -2.11275e-06)
bones/23/rotation = Quaternion(0.417372, 0.0495368, 0.0739347, 0.904368)
bones/24/position = Vector3(1.94998e-07, 3.60118, 8.81319e-06)
bones/24/rotation = Quaternion(0.231551, -0.0538949, 0.0131876, 0.971239)
bones/25/position = Vector3(5.94921e-06, 3.30731, 4.29376e-06)
bones/25/rotation = Quaternion(0.32533, -0.0421628, -0.0066479, 0.944637)
bones/27/rotation = Quaternion(0.397955, -0.0106665, 0.0287413, 0.916893)
bones/28/rotation = Quaternion(0.260883, -0.0830007, -0.0205133, 0.961577)
bones/29/position = Vector3(7.07354e-06, 2.59483, 1.63957e-06)
bones/29/rotation = Quaternion(-0.000442966, -0.0400839, -0.0111965, 0.999133)
bones/30/position = Vector3(-4.76107e-06, 2.92387, -1.969e-06)
bones/31/rotation = Quaternion(0.545559, -0.473968, 0.551597, 0.416486)
bones/32/position = Vector3(-9.26929e-07, 12.9223, 3.99202e-06)
bones/32/rotation = Quaternion(0.306209, -0.517339, -0.468208, 0.647594)
bones/33/position = Vector3(-6.21347e-06, 27.4047, -5.76491e-07)
bones/33/rotation = Quaternion(0.185635, 0.678569, -0.438259, 0.559475)
bones/35/rotation = Quaternion(0.269304, -0.237599, -0.479708, 0.800564)
bones/36/rotation = Quaternion(-0.116273, -0.171608, 0.504082, 0.838411)
bones/39/rotation = Quaternion(0.635811, -0.271697, -0.295094, 0.659428)
bones/40/rotation = Quaternion(0.447724, 0.422157, -0.227064, 0.75483)
bones/41/rotation = Quaternion(0.210744, 0.133364, 0.0381054, 0.967651)
bones/43/rotation = Quaternion(0.694863, 0.0388473, 0.0236457, 0.717703)
bones/44/position = Vector3(1.35199e-05, 3.61397, -1.68814e-06)
bones/44/rotation = Quaternion(0.482599, 0.0719053, -0.00111036, 0.872884)
bones/45/rotation = Quaternion(0.363124, 0.103124, -0.0046726, 0.926005)
bones/46/position = Vector3(3.42273e-05, 3.68018, -7.88107e-07)
bones/47/rotation = Quaternion(0.694863, 0.0388503, 0.0236426, 0.717703)
bones/48/position = Vector3(-3.82131e-06, 3.6012, 6.67691e-06)
bones/48/rotation = Quaternion(0.485936, 0.0891751, -0.00948426, 0.869382)
bones/49/position = Vector3(3.35116e-06, 3.30732, -2.67483e-06)
bones/49/rotation = Quaternion(0.383727, 0.0216687, 0.0531668, 0.92166)
bones/50/position = Vector3(3.74552e-05, 3.66012, 8.90995e-07)
bones/51/rotation = Quaternion(0.694863, 0.0388492, 0.0236437, 0.717703)
bones/52/rotation = Quaternion(0.406755, 0.0937909, -0.031474, 0.908165)
bones/53/position = Vector3(-3.99266e-07, 2.59484, -1.74455e-06)
bones/53/rotation = Quaternion(0.420121, 0.0291981, 0.0640542, 0.904734)
bones/55/rotation = Quaternion(0.016414, 0.194109, 0.980319, -0.0320348)
bones/56/rotation = Quaternion(-0.222132, 0.0193791, -0.00455121, 0.974813)
bones/57/rotation = Quaternion(0.520924, -0.0578764, 0.0688003, 0.848855)
bones/58/rotation = Quaternion(0.384319, -0.0612883, -0.0132994, 0.921068)
bones/60/rotation = Quaternion(0.00468906, -0.0649949, 0.997425, 0.0299461)
bones/61/rotation = Quaternion(-0.129058, 0.014915, 0.00699336, 0.9915)
bones/62/rotation = Quaternion(0.644235, 0.0754877, -0.0597956, 0.758741)
bones/63/rotation = Quaternion(0.340253, 0.0494427, 0.00697298, 0.939007)

[node name="Hips" parent="Mannequin/Mannequin/Skeleton3D" index="2"]
transform = Transform3D(-1, 8.78096e-05, 3.02004e-06, 8.78096e-05, 1, 4.95416e-08, -3.02004e-06, 4.98068e-08, -1, -0.000598401, 96.2926, -4.11893e-05)

[node name="Stomach" parent="Mannequin/Mannequin/Skeleton3D" index="3"]
transform = Transform3D(-0.999982, 0.00501233, 0.00336703, 0.00508839, 0.999723, 0.0229754, -0.00325094, 0.0229921, -0.99973, -0.000590418, 106.216, 1.22729)

[node name="Torso" parent="Mannequin/Mannequin/Skeleton3D" index="4"]
transform = Transform3D(-0.999973, 0.00598183, 0.00421125, 0.00647656, 0.99157, 0.12941, -0.00340164, 0.129434, -0.991582, 0.0582143, 117.945, 1.49703)

[node name="Neck" parent="Mannequin/Mannequin/Skeleton3D" index="5"]
transform = Transform3D(-0.99908, 0.0163398, -0.0396587, 0.00886512, 0.983296, 0.181799, 0.0419668, 0.18128, -0.982536, 0.311274, 146.338, 3.59318)

[node name="Head" parent="Mannequin/Mannequin/Skeleton3D" index="6"]
transform = Transform3D(-0.995723, 0.00149261, -0.0923743, -0.00258111, 0.99903, 0.043965, 0.0923503, 0.0440154, -0.994753, 0.355303, 157.059, 2.37677)

[node name="L_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="7"]
transform = Transform3D(-0.572358, -0.125224, 0.810386, 0.255384, -0.966341, 0.0310494, 0.779221, 0.224731, 0.585073, -18.4111, 137.895, 1.55791)

[node name="L_LowerArm" parent="Mannequin/Mannequin/Skeleton3D" index="8"]
transform = Transform3D(0.869883, 0.45745, -0.18451, 0.389968, -0.408746, 0.825138, 0.302041, -0.789726, -0.533951, -21.7877, 111.593, 7.86881)

[node name="L_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="9"]
transform = Transform3D(-0.740414, 0.454047, 0.495609, -0.505085, 0.110655, -0.855947, -0.443481, -0.88408, 0.147402, -9.15541, 100.306, -13.9391)

[node name="R_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="10"]
transform = Transform3D(-0.981122, 0.190204, -0.0349783, -0.170094, -0.934753, -0.311936, -0.0920275, -0.300098, 0.949459, 18.9346, 137.514, 3.98317)

[node name="R_LowerArm" parent="Mannequin/Mannequin/Skeleton3D" index="11"]
transform = Transform3D(0.28619, -0.61074, -0.738303, 0.562392, -0.516777, 0.64549, -0.775765, -0.599948, 0.195579, 24.1471, 111.897, -4.24092)

[node name="R_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="12"]
transform = Transform3D(-0.436603, -0.767506, -0.469374, 0.777812, -0.584203, 0.231765, -0.452091, -0.263896, 0.85204, 7.24658, 97.5617, -20.8057)

[node name="GunTransform" parent="Mannequin/Mannequin/Skeleton3D/R_Hand" index="1"]
remote_path = NodePath("../../../../../Weapons")

[node name="L_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="13"]
transform = Transform3D(0.997404, -0.0692608, -0.0197091, -0.056524, -0.922585, 0.381631, -0.0446154, -0.379526, -0.924105, -9.12505, 89.6362, 0.0553348)

[node name="L_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="14"]
transform = Transform3D(0.998529, -0.0536208, -0.0080316, -0.0539972, -0.996858, -0.0579525, -0.00489889, 0.0583011, -0.998287, -11.937, 52.1798, -15.3532)

[node name="L_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="15"]
transform = Transform3D(0.977992, -0.207892, 0.0176904, -0.1193, -0.48763, 0.864861, -0.171171, -0.847937, -0.5017, -14.1944, 10.2131, -12.8988)

[node name="R_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="16"]
transform = Transform3D(0.998168, 0.0602602, -0.0054697, 0.0590408, -0.989763, -0.129935, -0.0132436, 0.129374, -0.991507, 9.12385, 89.6362, 0.055338)

[node name="R_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="17"]
transform = Transform3D(0.998401, 0.0419605, 0.0378698, 0.0531708, -0.924515, -0.377418, 0.0191746, 0.378828, -0.925269, 11.5704, 49.4523, 5.30787)

[node name="R_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="18"]
transform = Transform3D(0.972901, 0.231212, 0.00204977, 0.118464, -0.50605, 0.85433, 0.198569, -0.830936, -0.519727, 13.3369, 10.5311, 21.2561)

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(-0.00436603, -0.00767506, -0.00469374, 0.00777812, -0.00584203, 0.00231765, -0.00452091, -0.00263896, 0.0085204, 0.0724658, 0.975617, -0.208057)

[node name="Slapper" parent="Weapons" instance=ExtResource("2_e1vp6")]
transform = Transform3D(-0.224442, -0.501342, 0.835634, -0.399893, 0.829368, 0.390176, -0.888659, -0.246592, -0.386628, 0.00662899, -0.0015403, 0.0135412)
visible = false

[node name="Pistol" parent="Weapons" instance=ExtResource("3_igi5e")]
transform = Transform3D(0.907643, -0.419078, 0.0236713, 0.0267876, 0.00155281, -0.99964, 0.41889, 0.90795, 0.0126354, -0.0382926, -0.0126591, 0.00222373)

[node name="SMG" parent="Weapons" instance=ExtResource("4_a7f61")]
transform = Transform3D(0.898794, -0.438371, 1.11759e-08, 9.31323e-09, -4.48199e-08, -1, 0.438371, 0.898794, -3.81842e-08, -0.033591, -0.0112215, -0.00850368)
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("5_nv5n8")]
transform = Transform3D(0.873686, -0.485679, 0.0280673, 0.0243102, -0.0140355, -0.999606, 0.485882, 0.874024, -0.000455644, -0.0376089, -0.0336642, 0.0125195)
visible = false

[node name="Shotgun" parent="Weapons" instance=ExtResource("6_8xy63")]
transform = Transform3D(0.877343, -0.479192, 0.0253764, 0.0240809, -0.00885019, -0.999671, 0.479259, 0.877665, 0.00377468, -0.044263, -0.00856596, 0.0186746)
visible = false

[node name="Sniper" parent="Weapons" instance=ExtResource("7_rtaje")]
transform = Transform3D(0.873686, -0.48568, 0.0280686, 0.0243113, -0.0140362, -0.999606, 0.485882, 0.874024, -0.000455685, -0.0376089, -0.0336642, 0.0125195)
visible = false

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="Camera" type="Camera3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.97237, 0.233445, 0, -0.233445, 0.97237, 0, 0.5, 0.75)
visible = false
cull_mask = 1048551

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
visible = false
target_position = Vector3(0, 0, -999)
collision_mask = 9
hit_back_faces = false
collide_with_areas = true

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("9_hj0ir")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("10_n02aa")
bus = &"SFX"

[node name="Footsteps" type="Node3D" parent="."]
script = ExtResource("11_ntang")

[node name="Footsteps1" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("12_8kevp")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps2" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("13_xgngd")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps3" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("14_df48h")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Hips/HipsArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Stomach/StomachArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Torso/TorsoArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Neck/NeckArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Head/HeadArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_LowerArm/LowerArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_LowerArm/LowerArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Foot/FootArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Foot/FootArea" to="." method="take_damage"]

[editable path="Mannequin"]
[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/SMG"]
[editable path="Weapons/SMG/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="Weapons/Shotgun"]
[editable path="Weapons/Sniper"]
