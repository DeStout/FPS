[gd_scene load_steps=6 format=3 uid="uid://cevbv8x2k7xwv"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_rf7ub"]
[ext_resource type="Script" path="res://Characters/Enemy.gd" id="2_n324u"]
[ext_resource type="PackedScene" uid="uid://cy12nf62sv60i" path="res://Debug/VectorCube.tscn" id="3_3vsup"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0bpq3"]
albedo_color = Color(0.372549, 0.376471, 0.784314, 1)

[sub_resource type="BoxMesh" id="BoxMesh_m0eni"]
material = SubResource("StandardMaterial3D_0bpq3")
size = Vector3(0.3, 0.3, 0.3)

[node name="Enemy" instance=ExtResource("1_rf7ub")]
script = ExtResource("2_n324u")

[node name="NameLabel" type="Label3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.9756, 0)
billboard = 1
text = "Enemy"

[node name="PlayerCast" type="RayCast3D" parent="AimHelper" index="1"]
unique_name_in_owner = true
collision_mask = 3

[node name="VectorCube" parent="AimHelper" index="3" instance=ExtResource("3_3vsup")]

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(-2.16798e-10, 0.89648, -0.0641972)
bones/1/rotation = Quaternion(7.33823e-09, 0.998875, -0.0474305, -1.94488e-07)
bones/2/rotation = Quaternion(-0.166531, 0.00087615, 0.00329995, 0.98603)
bones/4/rotation = Quaternion(0.046525, 0.012442, 0.0193808, 0.998652)
bones/5/rotation = Quaternion(0.076826, -1.59108e-08, 5.54358e-08, 0.997045)
bones/7/rotation = Quaternion(-0.294849, 0.213567, -0.422414, 0.830072)
bones/8/rotation = Quaternion(0.444395, 0.0325452, -0.0865294, 0.891048)
bones/10/rotation = Quaternion(0.228232, 0.162816, 0.496468, 0.821536)
bones/11/rotation = Quaternion(0.500119, -0.0314072, 0.0973798, 0.85989)
bones/12/position = Vector3(0.264005, -0.0909445, -0.0698994)
bones/12/rotation = Quaternion(0.154095, 0.216137, -0.579405, 0.770603)
bones/15/rotation = Quaternion(-0.0716247, -0.0320912, 0.111414, 0.99067)
bones/16/rotation = Quaternion(-0.0728706, -0.00440989, -0.0389535, 0.996571)
bones/21/rotation = Quaternion(0.0612661, -0.169755, -0.0869493, 0.979729)
bones/22/rotation = Quaternion(0.0688571, 0.146545, 0.0441171, 0.985818)
bones/26/rotation = Quaternion(-0.169002, 0.00420304, -0.039211, 0.984827)
bones/27/rotation = Quaternion(-0.176079, 0.0204277, -0.217908, 0.959737)
bones/28/rotation = Quaternion(0.661075, 0.491736, 0.185613, 0.535466)
bones/29/rotation = Quaternion(0.651118, 0.371505, -0.0386307, 0.660709)
bones/30/position = Vector3(-0.209821, 0.139193, 0.329305)
bones/30/rotation = Quaternion(-0.531093, 0.343961, 0.405665, 0.659596)
bones/33/rotation = Quaternion(-0.125195, 0.0276595, -0.146019, 0.980938)
bones/34/rotation = Quaternion(-0.117604, -0.0172697, 0.137017, 0.983411)
bones/39/rotation = Quaternion(0.089804, 0.167209, 0.113941, 0.975189)
bones/40/rotation = Quaternion(0.017629, -0.161482, 0.0307546, 0.986239)
bones/45/rotation = Quaternion(-0.0361723, -0.0997375, 0.176228, 0.978615)
bones/46/rotation = Quaternion(-0.296637, -0.592356, 0.642004, -0.385945)
bones/47/rotation = Quaternion(0.235975, 0.570247, -0.552101, 0.56064)
bones/49/rotation = Quaternion(-0.588626, 0.224681, -0.161, 0.759682)
bones/50/rotation = Quaternion(-0.0737378, 0.00388187, 0.112973, 0.990851)
bones/52/rotation = Quaternion(-0.52944, -0.060085, 0.328655, 0.779788)
bones/53/rotation = Quaternion(-0.109263, -0.00383863, -0.1674, 0.979808)
bones/54/position = Vector3(-0.11946, 0.113842, 0.126346)
bones/54/rotation = Quaternion(0.64937, -0.347814, -0.514224, 0.439225)
bones/56/rotation = Quaternion(0.00495412, -0.00577784, -0.163837, 0.986458)
bones/59/position = Vector3(-0.114721, 0.482147, -0.290625)
bones/60/position = Vector3(-0.356809, 1.29515, 0.50257)
bones/60/rotation = Quaternion(0.58538, -0.408849, -0.43851, 0.545785)
bones/61/position = Vector3(0.11946, 0.113841, -0.203503)
bones/61/rotation = Quaternion(0.64937, 0.347814, 0.514224, 0.439225)
bones/63/rotation = Quaternion(0.00495412, 0.00577784, 0.163837, 0.986458)
bones/66/position = Vector3(0.114721, 0.482147, -0.290625)
bones/67/position = Vector3(0.376082, 0.97357, 0.488814)
bones/67/rotation = Quaternion(0.58538, 0.408849, 0.43851, 0.545785)

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-1, -5.07503e-08, -4.03781e-07, 4.94606e-08, 0.969437, -0.245338, 4.06127e-07, -0.245338, -0.969438, -1.33381e-10, 1.57385, -0.014933)

[node name="HeadArea" parent="PuppetAnimations/Character/Skeleton3D/Head" index="0"]
collision_layer = 8
body_seg = null

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, -9.63919e-08, -4.47035e-07, -5.43805e-08, 0.995579, -0.0939257, 4.56348e-07, -0.0939256, -0.995579, 6.0536e-09, 1.50995, -0.00890432)

[node name="NeckArea" parent="PuppetAnimations/Character/Skeleton3D/Neck" index="0"]
collision_layer = 8
body_seg = null

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00679963, -0.000629102, 0.00645581, 0.971381, 0.237439, 0.00222559, 0.237429, -0.971402, -1.12339e-09, 1.13465, -0.0868667)

[node name="ChestArea" parent="PuppetAnimations/Character/Skeleton3D/Chest" index="0"]
collision_layer = 8

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78938e-09, -3.89234e-07, 3.31093e-08, 0.9955, -0.0947543, 3.87842e-07, -0.0947543, -0.995501, -2.16798e-10, 0.89648, -0.0641972)

[node name="StomachArea" parent="PuppetAnimations/Character/Skeleton3D/Stomach" index="0"]
collision_layer = 8

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.957334, -0.245912, -0.151786, -0.285728, -0.884085, -0.369799, -0.0432537, 0.397391, -0.916629, -0.194961, 1.39343, -0.021439)

[node name="L_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/L_UpperArm" index="0"]
collision_layer = 8

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.992254, -0.0891368, 0.0865221, -0.1202, -0.864762, 0.487583, 0.0313595, -0.494206, -0.868779, -0.246276, 1.20894, 0.0614854)

[node name="L_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/L_Forearm" index="0"]
collision_layer = 8

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.240441, -0.957652, -0.1584, -0.922695, 0.27616, -0.269013, 0.301364, 0.0814731, -0.950022, -0.264574, 1.03141, -0.0399715)

[node name="L_HandArea" parent="PuppetAnimations/Character/Skeleton3D/L_Hand" index="0"]
collision_layer = 8

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.981408, 0.191142, -0.017416, 0.128931, -0.589321, 0.797544, 0.142181, -0.784962, -0.603009, 0.194961, 1.39343, -0.0214389)

[node name="R_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/R_UpperArm" index="0"]
collision_layer = 8

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.984228, -0.118161, -0.131656, 0.166812, 0.3721, 0.91308, -0.0589014, -0.920641, 0.385942, 0.234847, 1.27045, -0.185238)

[node name="R_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/R_Forearm" index="0"]
collision_layer = 8

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.432532, 0.901471, -0.016322, -0.0423052, -0.00220862, 0.999102, 0.900625, 0.432834, 0.0390923, 0.210556, 1.34669, -0.374172)

[node name="R_HandArea" parent="PuppetAnimations/Character/Skeleton3D/R_Hand" index="0"]
collision_layer = 8

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.496626, -0.0507972, -0.866477, -0.120825, -0.992612, -0.0110595, -0.859514, 0.110184, -0.499094, -0.0851499, 0.87899, -0.0593681)

[node name="L_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/L_Thigh" index="0"]
collision_layer = 8

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.493692, -0.0345615, -0.86895, -0.339124, -0.927755, -0.155773, -0.800789, 0.371586, -0.469746, -0.106493, 0.461934, -0.0130731)

[node name="L_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/L_Shin" index="0"]
collision_layer = 8

[node name="L_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="13"]
transform = Transform3D(0.245938, -0.0720784, -0.966602, 0.853542, -0.456465, 0.251209, -0.459326, -0.886817, -0.0507401, -0.11946, 0.113842, 0.126346)

[node name="L_FootArea" parent="PuppetAnimations/Character/Skeleton3D/L_Foot" index="0"]
collision_layer = 8

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.48171, 0.0583924, 0.874383, -0.295109, -0.92869, 0.224599, 0.825146, -0.36623, -0.430127, 0.0851499, 0.87899, -0.0593681)

[node name="R_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/R_Thigh" index="0"]
collision_layer = 8

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.474155, 0.0260565, 0.880056, 0.0352136, -0.999323, 0.0106154, 0.879737, 0.0259564, -0.474752, 0.109684, 0.488792, -0.213243)

[node name="R_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/R_Shin" index="0"]
collision_layer = 8

[node name="R_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="16"]
transform = Transform3D(0.245938, 0.0720784, 0.966602, -0.853542, -0.456465, 0.251209, 0.459326, -0.886817, -0.0507401, 0.11946, 0.113841, -0.203503)

[node name="R_FootArea" parent="PuppetAnimations/Character/Skeleton3D/R_Foot" index="0"]
collision_layer = 8

[node name="NavAgent" type="NavigationAgent3D" parent="." index="7"]
target_desired_distance = 3.0

[node name="NavTarget" type="Marker3D" parent="." index="8"]
top_level = true
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavTarget" index="0"]
mesh = SubResource("BoxMesh_m0eni")

[node name="PlayerTimer" type="Timer" parent="." index="9"]
wait_time = 5.0
one_shot = true

[node name="StuckTimer" type="Timer" parent="." index="10"]
wait_time = 3.0
one_shot = true

[node name="ShootTimer" type="Timer" parent="." index="11"]
one_shot = true

[connection signal="timeout" from="PlayerTimer" to="." method="_player_lost"]
[connection signal="timeout" from="StuckTimer" to="." method="_stuck"]

[editable path="PuppetAnimations"]
