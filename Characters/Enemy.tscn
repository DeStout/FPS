[gd_scene load_steps=6 format=3 uid="uid://cevbv8x2k7xwv"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_rf7ub"]
[ext_resource type="Script" path="res://Characters/Enemy.gd" id="2_ojr6m"]
[ext_resource type="PackedScene" uid="uid://cy12nf62sv60i" path="res://Debug/VectorCube.tscn" id="3_3vsup"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0bpq3"]
albedo_color = Color(0.372549, 0.376471, 0.784314, 1)

[sub_resource type="BoxMesh" id="BoxMesh_m0eni"]
material = SubResource("StandardMaterial3D_0bpq3")
size = Vector3(0.3, 0.3, 0.3)

[node name="Enemy" instance=ExtResource("1_rf7ub")]
script = ExtResource("2_ojr6m")

[node name="NameLabel" type="Label3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.9756, 0)
billboard = 1
text = "Enemy"

[node name="NavAgent" type="NavigationAgent3D" parent="." index="1"]
target_desired_distance = 3.0

[node name="NavTarget" type="Marker3D" parent="." index="2"]
top_level = true
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavTarget" index="0"]
mesh = SubResource("BoxMesh_m0eni")

[node name="PlayerCast" type="RayCast3D" parent="." index="4"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)
collision_mask = 3

[node name="VectorCube" parent="AimHelper" index="1" instance=ExtResource("3_3vsup")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
visible = false

[node name="FPCamera" type="Camera3D" parent="AimHelper" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.210124)
cull_mask = 1048567

[node name="Weapons" parent="." index="6"]
transform = Transform3D(-0.212984, -0.178889, -0.96054, -0.970991, 0.148122, 0.187715, 0.108696, 0.972656, -0.205247, 0.172177, 1.35565, -0.269146)

[node name="Skeleton" parent="PuppetBase" index="2"]
bones/1/position = Vector3(1.61993e-09, 0.885074, -0.0641973)
bones/2/rotation = Quaternion(0.00408516, 2.57785e-05, 0.000314819, 0.999992)
bones/4/rotation = Quaternion(0.00359069, 2.26402e-05, 0.000276594, 0.999994)
bones/5/rotation = Quaternion(0.00476558, 2.93147e-05, 0.000367103, 0.999989)
bones/7/rotation = Quaternion(0.0151871, 0.885532, 0.275021, 0.374121)
bones/8/rotation = Quaternion(-0.0162748, -0.722054, -0.0158341, 0.691464)
bones/9/rotation = Quaternion(-0.402054, 0.723911, 0.129689, 0.545423)
bones/11/rotation = Quaternion(0.0308323, -0.0187181, -0.0720035, 0.996752)
bones/14/rotation = Quaternion(0.00121846, 0.00217961, -0.0011387, 0.999996)
bones/17/rotation = Quaternion(0.328376, 0.0524841, 0.0454484, 0.941992)
bones/20/rotation = Quaternion(-0.131478, 0.949633, 0.264611, 0.104363)
bones/21/rotation = Quaternion(0.250892, 0.383504, -0.243888, 0.854691)
bones/22/rotation = Quaternion(-0.217927, -0.842444, -0.142993, 0.471539)
bones/24/rotation = Quaternion(0.0126138, 0.0234489, 0.0787152, 0.996542)
bones/25/rotation = Quaternion(-0.000530693, -0.00742049, 0.00193918, 0.99997)
bones/27/rotation = Quaternion(-0.00728674, -0.0138778, -0.0469322, 0.998775)
bones/28/rotation = Quaternion(0.00188618, -0.0142419, 0.00331308, 0.999891)
bones/30/rotation = Quaternion(-0.342952, 0.502636, -0.566207, 0.556013)
bones/33/rotation = Quaternion(-0.140883, 0.058308, 0.988235, -0.0119951)
bones/34/rotation = Quaternion(-0.0300847, 0.995886, 0.0853079, 0.00530425)
bones/35/rotation = Quaternion(0.0742332, 0.796383, -0.588955, 0.115739)
bones/38/rotation = Quaternion(0.133431, -0.170931, 0.975929, -0.0232681)
bones/39/rotation = Quaternion(0.0523486, 0.987492, 0.14844, -0.00922935)
bones/40/rotation = Quaternion(-0.0836975, 0.688997, -0.713259, -0.097674)

[node name="Head" parent="PuppetBase/Skeleton" index="1"]
transform = Transform3D(0.999998, -0.00191489, 0.000179303, 0.00191876, 0.999689, -0.0248802, -0.000131604, 0.0248805, 0.99969, -0.000311372, 1.56495, -0.0476649)

[node name="HeadArea" parent="PuppetBase/Skeleton/Head" index="0"]
collision_layer = 8

[node name="Neck" parent="PuppetBase/Skeleton" index="2"]
transform = Transform3D(1, -0.000629422, 5.41287e-05, 0.000629843, 0.999966, -0.00817023, -4.89844e-05, 0.00817026, 0.999967, 0.0020341, 1.44674, -0.0286968)

[node name="NeckArea" parent="PuppetBase/Skeleton/Neck" index="0"]
collision_layer = 8

[node name="Chest" parent="PuppetBase/Skeleton" index="3"]
transform = Transform3D(1, -0.000629422, 5.41287e-05, 0.000629843, 0.999966, -0.00817023, -4.89844e-05, 0.00817026, 0.999967, 7.13326e-10, 1.12324, -0.0868668)

[node name="ChestArea" parent="PuppetBase/Skeleton/Chest" index="0"]
collision_layer = 8

[node name="Stomach" parent="PuppetBase/Skeleton" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61993e-09, 0.885074, -0.0641973)

[node name="StomachArea" parent="PuppetBase/Skeleton/Stomach" index="0"]
collision_layer = 8

[node name="R_UpperArm" parent="PuppetBase/Skeleton" index="5"]
transform = Transform3D(0.1947, -0.825671, -0.529489, -0.275372, 0.472097, -0.837434, 0.941415, 0.308855, -0.13545, 0.194798, 1.38569, -0.0375584)

[node name="R_UpperArmArea" parent="PuppetBase/Skeleton/R_UpperArm" index="0"]
collision_layer = 8

[node name="R_Forearm" parent="PuppetBase/Skeleton" index="6"]
transform = Transform3D(0.711506, -0.632897, 0.305288, 0.383888, -0.0137896, -0.923277, 0.588549, 0.774113, 0.23315, 0.226044, 1.22801, -0.170621)

[node name="R_ForearmArea" parent="PuppetBase/Skeleton/R_Forearm" index="0"]
collision_layer = 8

[node name="R_Hand" parent="PuppetBase/Skeleton" index="7"]
transform = Transform3D(-0.212983, -0.17889, -0.96054, -0.970991, 0.148121, 0.187715, 0.108696, 0.972656, -0.205248, 0.172177, 1.35565, -0.322125)

[node name="R_HandArea" parent="PuppetBase/Skeleton/R_Hand" index="0"]
collision_layer = 8

[node name="L_UpperArm" parent="PuppetBase/Skeleton" index="8"]
transform = Transform3D(0.233052, 0.847942, 0.47611, -0.64819, 0.500422, -0.573957, -0.724938, -0.174848, 0.666252, -0.195124, 1.38544, -0.0375393)

[node name="L_UpperArmArea" parent="PuppetBase/Skeleton/L_UpperArm" index="0"]
collision_layer = 8

[node name="L_Forearm" parent="PuppetBase/Skeleton" index="9"]
transform = Transform3D(0.466952, 0.857819, -0.214714, -0.544599, 0.470272, 0.694447, 0.696684, -0.20734, 0.686761, -0.233739, 1.18897, 0.0212091)

[node name="L_ForearmArea" parent="PuppetBase/Skeleton/L_Forearm" index="0"]
collision_layer = 8

[node name="L_Hand" parent="PuppetBase/Skeleton" index="10"]
transform = Transform3D(-0.224203, 0.267614, 0.937078, -0.783513, 0.522297, -0.33662, -0.579518, -0.809684, 0.0925787, -0.233538, 0.988488, -0.0229713)

[node name="L_HandArea" parent="PuppetBase/Skeleton/L_Hand" index="0"]
collision_layer = 8

[node name="R_Thigh" parent="PuppetBase/Skeleton" index="11"]
transform = Transform3D(-0.96331, -0.00019896, 0.268393, -0.091031, -0.940482, -0.327424, 0.252484, -0.339842, 0.905958, 0.0851499, 0.867585, -0.0593682)

[node name="R_ThighArea" parent="PuppetBase/Skeleton/R_Thigh" index="0"]
collision_layer = 8

[node name="R_Shin" parent="PuppetBase/Skeleton" index="12"]
transform = Transform3D(0.966909, -0.0239984, -0.25399, -0.0151975, -0.999216, 0.0365566, -0.254668, -0.0314868, -0.966516, 0.111815, 0.485384, -0.23184)

[node name="R_ShinArea" parent="PuppetBase/Skeleton/R_Shin" index="0"]
collision_layer = 8

[node name="R_Foot" parent="PuppetBase/Skeleton" index="13"]
transform = Transform3D(-1, -1.63913e-07, -6.6217e-07, -6.4075e-07, -3.53903e-07, 1, -1.93715e-07, 1, 2.27243e-07, 0.11946, 0.113837, -0.180126)

[node name="R_FootArea" parent="PuppetBase/Skeleton/R_Foot" index="0"]
collision_layer = 8

[node name="L_Thigh" parent="PuppetBase/Skeleton" index="14"]
transform = Transform3D(-0.960016, 0.00727874, -0.27985, -0.0401372, -0.992913, 0.111864, -0.277052, 0.118624, 0.953504, -0.0851499, 0.867585, -0.0593682)

[node name="L_ThighArea" parent="PuppetBase/Skeleton/L_Thigh" index="0"]
collision_layer = 8

[node name="L_Shin" parent="PuppetBase/Skeleton" index="15"]
transform = Transform3D(0.962188, 0.0180933, 0.271785, 0.0969049, -0.955251, -0.279474, 0.254566, 0.295244, -0.920884, -0.108467, 0.448425, -0.0421583)

[node name="L_ShinArea" parent="PuppetBase/Skeleton/L_Shin" index="0"]
collision_layer = 8

[node name="L_Foot" parent="PuppetBase/Skeleton" index="16"]
transform = Transform3D(-1, -2.38419e-07, 5.96046e-07, 6.18398e-07, 1.3411e-06, 1, -2.38419e-07, 1, -1.13249e-06, -0.11946, 0.113833, 0.127275)

[node name="L_FootArea" parent="PuppetBase/Skeleton/L_Foot" index="0"]
collision_layer = 8

[node name="PlayerTimer" type="Timer" parent="." index="9"]
wait_time = 3.0
one_shot = true

[node name="StuckTimer" type="Timer" parent="." index="10"]
wait_time = 3.0
one_shot = true

[node name="ShootTimer" type="Timer" parent="." index="11"]
one_shot = true

[connection signal="timeout" from="PlayerTimer" to="." method="_player_lost"]
[connection signal="timeout" from="StuckTimer" to="." method="_stuck"]

[editable path="PuppetBase"]
