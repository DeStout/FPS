[gd_scene load_steps=6 format=3 uid="uid://cevbv8x2k7xwv"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_rf7ub"]
[ext_resource type="Script" path="res://Characters/Enemy.gd" id="2_n324u"]
[ext_resource type="PackedScene" uid="uid://cy12nf62sv60i" path="res://Debug/VectorCube.tscn" id="3_3vsup"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0bpq3"]
albedo_color = Color(0.372549, 0.376471, 0.784314, 1)

[sub_resource type="BoxMesh" id="BoxMesh_m0eni"]
material = SubResource("StandardMaterial3D_0bpq3")
size = Vector3(0.3, 0.3, 0.3)

[node name="Enemy" instance=ExtResource("1_rf7ub")]
script = ExtResource("2_n324u")

[node name="NameLabel" type="Label3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.9756, 0)
billboard = 1
text = "Enemy"

[node name="PlayerCast" type="RayCast3D" parent="AimHelper" index="1"]
unique_name_in_owner = true
collision_mask = 3

[node name="VectorCube" parent="AimHelper" index="3" instance=ExtResource("3_3vsup")]

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(3.12477e-10, 0.893502, -0.0641972)
bones/1/rotation = Quaternion(7.33823e-09, 0.998875, -0.0474305, -1.94488e-07)
bones/2/rotation = Quaternion(-0.160613, 0.000856335, 0.00330515, 0.987012)
bones/4/rotation = Quaternion(0.0545765, 0.0125978, 0.0192799, 0.998244)
bones/5/rotation = Quaternion(0.0621736, -1.65256e-08, 1.883e-08, 0.998065)
bones/7/rotation = Quaternion(-0.290604, 0.204609, -0.426842, 0.831559)
bones/8/rotation = Quaternion(0.426248, 0.0328792, -0.082996, 0.90019)
bones/10/rotation = Quaternion(0.224025, 0.161196, 0.498649, 0.821692)
bones/11/rotation = Quaternion(0.502744, -0.0313492, 0.0978909, 0.858302)
bones/12/position = Vector3(0.264513, -0.0945336, -0.0711236)
bones/12/rotation = Quaternion(0.154095, 0.216137, -0.579405, 0.770603)
bones/15/rotation = Quaternion(-0.0716247, -0.0320912, 0.111414, 0.99067)
bones/16/rotation = Quaternion(-0.0728706, -0.00440989, -0.0389535, 0.996571)
bones/21/rotation = Quaternion(0.0612661, -0.169755, -0.0869493, 0.979729)
bones/22/rotation = Quaternion(0.0688571, 0.146545, 0.0441171, 0.985818)
bones/26/rotation = Quaternion(-0.169002, 0.00420304, -0.039211, 0.984827)
bones/27/rotation = Quaternion(-0.176079, 0.0204277, -0.217908, 0.959737)
bones/28/rotation = Quaternion(0.664276, 0.492841, 0.18266, 0.53149)
bones/29/rotation = Quaternion(0.65507, 0.371267, -0.0408589, 0.656791)
bones/30/position = Vector3(-0.209419, 0.137571, 0.328033)
bones/30/rotation = Quaternion(-0.541421, 0.342424, 0.404556, 0.652644)
bones/33/rotation = Quaternion(-0.125195, 0.0276595, -0.146019, 0.980938)
bones/34/rotation = Quaternion(-0.117604, -0.0172697, 0.137017, 0.983411)
bones/39/rotation = Quaternion(0.089804, 0.167209, 0.113941, 0.975189)
bones/40/rotation = Quaternion(0.017629, -0.161482, 0.0307546, 0.986239)
bones/45/rotation = Quaternion(-0.0361723, -0.0997375, 0.176228, 0.978615)
bones/46/rotation = Quaternion(-0.300399, -0.593675, 0.636178, -0.390626)
bones/47/rotation = Quaternion(0.238674, 0.571946, -0.545248, 0.564462)
bones/49/rotation = Quaternion(-0.585999, 0.218066, -0.169413, 0.761808)
bones/50/rotation = Quaternion(-0.0871218, 0.00386758, 0.133478, 0.987207)
bones/52/rotation = Quaternion(-0.526169, -0.0545881, 0.334512, 0.779916)
bones/53/rotation = Quaternion(-0.118708, -0.00382415, -0.181871, 0.976124)
bones/54/position = Vector3(-0.11946, 0.113842, 0.126346)
bones/54/rotation = Quaternion(0.64937, -0.347814, -0.514224, 0.439225)
bones/56/rotation = Quaternion(0.00495412, -0.00577784, -0.163837, 0.986458)
bones/59/position = Vector3(-0.114721, 0.482147, -0.290625)
bones/60/position = Vector3(-0.352749, 1.29246, 0.50132)
bones/60/rotation = Quaternion(0.582095, -0.411473, -0.43605, 0.549287)
bones/61/position = Vector3(0.11946, 0.113841, -0.203503)
bones/61/rotation = Quaternion(0.64937, 0.347814, 0.514224, 0.439225)
bones/63/rotation = Quaternion(0.00495412, 0.00577784, 0.163837, 0.986458)
bones/66/position = Vector3(0.114721, 0.482147, -0.290625)
bones/67/position = Vector3(0.376083, 0.97848, 0.491209)
bones/67/rotation = Quaternion(0.582095, 0.411473, 0.43605, 0.549287)

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-1, 1.51261e-08, -3.36088e-07, 9.83366e-08, 0.969744, -0.244126, 3.21957e-07, -0.244126, -0.969744, 9.27621e-09, 1.57159, -0.0212362)

[node name="HeadArea" parent="PuppetAnimations/Character/Skeleton3D/Head" index="0"]
collision_layer = 8

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, 2.11876e-08, -3.66941e-07, 6.73754e-08, 0.992544, -0.121887, 3.61353e-07, -0.121886, -0.992544, 7.91624e-09, 1.50788, -0.0134128)

[node name="NeckArea" parent="PuppetAnimations/Character/Skeleton3D/Neck" index="0"]
collision_layer = 8

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00679963, -0.000629099, 0.00648205, 0.974159, 0.225767, 0.00214797, 0.225757, -0.974181, -5.94112e-10, 1.13167, -0.0868667)

[node name="ChestArea" parent="PuppetAnimations/Character/Skeleton3D/Chest" index="0"]
collision_layer = 8

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78938e-09, -3.89234e-07, 3.31093e-08, 0.9955, -0.0947543, 3.87842e-07, -0.0947543, -0.995501, 3.12477e-10, 0.893502, -0.0641972)

[node name="StomachArea" parent="PuppetAnimations/Character/Skeleton3D/Stomach" index="0"]
collision_layer = 8

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.95822, -0.23943, -0.156485, -0.281234, -0.888431, -0.362763, -0.0521694, 0.391616, -0.918649, -0.194961, 1.39121, -0.0245485)

[node name="L_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/L_UpperArm" index="0"]
collision_layer = 8

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.992348, -0.0983226, 0.0746883, -0.12176, -0.879671, 0.45973, 0.0204992, -0.465307, -0.884912, -0.244923, 1.20582, 0.0571707)

[node name="L_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/L_Forearm" index="0"]
collision_layer = 8

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.240441, -0.957652, -0.1584, -0.919013, 0.277118, -0.280392, 0.312413, 0.0781538, -0.946726, -0.265105, 1.02524, -0.0383529)

[node name="L_HandArea" parent="PuppetAnimations/Character/Skeleton3D/L_Hand" index="0"]
collision_layer = 8

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.981977, 0.188538, -0.0132352, 0.127005, -0.606384, 0.784963, 0.13997, -0.772497, -0.6194, 0.194961, 1.39121, -0.0245484)

[node name="R_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/R_UpperArm" index="0"]
collision_layer = 8

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.984951, -0.117687, -0.126577, 0.161043, 0.359037, 0.919324, -0.0627468, -0.925873, 0.372587, 0.234303, 1.26468, -0.185747)

[node name="R_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/R_Forearm" index="0"]
collision_layer = 8

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.436524, 0.899689, -0.00231625, -0.0437643, -0.0186625, 0.998867, 0.898627, 0.436131, 0.047521, 0.210143, 1.33839, -0.375822)

[node name="R_HandArea" parent="PuppetAnimations/Character/Skeleton3D/R_Hand" index="0"]
collision_layer = 8

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.497367, -0.0522467, -0.865966, -0.102238, -0.994759, 0.00129654, -0.861495, 0.0878899, -0.500102, -0.0851499, 0.876013, -0.0593681)

[node name="L_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/L_Thigh" index="0"]
collision_layer = 8

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.492649, -0.0329393, -0.869605, -0.360122, -0.91742, -0.169266, -0.792218, 0.396553, -0.463828, -0.107102, 0.458054, -0.0224403)

[node name="L_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/L_Shin" index="0"]
collision_layer = 8

[node name="L_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="13"]
transform = Transform3D(0.245938, -0.0720784, -0.966602, 0.853542, -0.456465, 0.251209, -0.459326, -0.886817, -0.0507401, -0.11946, 0.113842, 0.126346)

[node name="L_FootArea" parent="PuppetAnimations/Character/Skeleton3D/L_Foot" index="0"]
collision_layer = 8

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.482358, 0.0597667, 0.873933, -0.308561, -0.922132, 0.23337, 0.81983, -0.38223, -0.426357, 0.0851499, 0.876013, -0.0593681)

[node name="R_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/R_Thigh" index="0"]
collision_layer = 8

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.473528, 0.0245158, 0.880437, 0.0502513, -0.998736, 0.000782982, 0.879344, 0.0438723, -0.474162, 0.110261, 0.488569, -0.219966)

[node name="R_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/R_Shin" index="0"]
collision_layer = 8

[node name="R_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="16"]
transform = Transform3D(0.245938, 0.0720784, 0.966602, -0.853542, -0.456465, 0.251209, 0.459326, -0.886817, -0.0507401, 0.11946, 0.113841, -0.203503)

[node name="R_FootArea" parent="PuppetAnimations/Character/Skeleton3D/R_Foot" index="0"]
collision_layer = 8

[node name="NavAgent" type="NavigationAgent3D" parent="." index="7"]
target_desired_distance = 3.0

[node name="NavTarget" type="Marker3D" parent="." index="8"]
top_level = true
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavTarget" index="0"]
mesh = SubResource("BoxMesh_m0eni")

[node name="PlayerTimer" type="Timer" parent="." index="9"]
wait_time = 5.0
one_shot = true

[node name="StuckTimer" type="Timer" parent="." index="10"]
wait_time = 3.0
one_shot = true

[connection signal="timeout" from="PlayerTimer" to="." method="_player_lost"]
[connection signal="timeout" from="StuckTimer" to="." method="_stuck"]

[editable path="PuppetAnimations"]
