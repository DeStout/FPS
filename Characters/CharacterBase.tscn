[gd_scene load_steps=16 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_bax7o"]
[ext_resource type="PackedScene" uid="uid://cmdilq5ptgg8g" path="res://Characters/PuppetBase.tscn" id="2_1bt1c"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Weapons/Slapper/Slapper.tscn" id="2_26305"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Weapons/Pistol/Pistol.tscn" id="3_c6pft"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Weapons/Rifle/Rifle.tscn" id="4_7rqvl"]
[ext_resource type="Script" path="res://Characters/Voice.gd" id="4_8ihun"]
[ext_resource type="PackedScene" uid="uid://barsvh0ntyosw" path="res://Props/Weapons/Shotgun/Shotgun.tscn" id="5_gqd55"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Weapons/Slapper/Slap.ogg" id="5_tm5o4"]
[ext_resource type="AudioStream" uid="uid://b56r0e1ges6xc" path="res://Characters/Audio/footstep1.ogg" id="9_4go11"]
[ext_resource type="Script" path="res://RandomAudio.gd" id="9_druge"]
[ext_resource type="AudioStream" uid="uid://doju4xf4dtgt" path="res://Characters/Audio/footstep2.ogg" id="10_i4x8w"]
[ext_resource type="AudioStream" uid="uid://brbwtdst5aopq" path="res://Characters/Audio/footstep3.ogg" id="11_ccipe"]
[ext_resource type="AudioStream" uid="uid://cxbr801up84rw" path="res://Characters/Audio/footstep4.ogg" id="12_hl0ln"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ulpgl"]
albedo_color = Color(0.839216, 0.6, 0.466667, 1)
subsurf_scatter_enabled = true
subsurf_scatter_strength = 1.0
subsurf_scatter_skin_mode = true

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_bax7o")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(-0.280032, -0.25194, -0.926341, -0.40514, 0.905822, -0.123887, 0.870313, 0.340605, -0.35573, 0.1153, 1.30943, -0.316609)

[node name="Slapper" parent="Weapons" instance=ExtResource("2_26305")]
transform = Transform3D(-0.224442, -0.501342, 0.835634, -0.399893, 0.829368, 0.390176, -0.888659, -0.246592, -0.386628, 0.00662899, -0.0015403, 0.0135412)
visible = false

[node name="Pistol" parent="Weapons" instance=ExtResource("3_c6pft")]
transform = Transform3D(-0.251316, -0.445546, 0.859261, -0.304137, 0.87914, 0.366899, -0.918881, -0.169126, -0.356449, -0.0750129, -0.0176662, 0.0586265)
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("4_7rqvl")]
transform = Transform3D(-0.277545, -0.400644, 0.873187, -0.250446, 0.90764, 0.336847, -0.927494, -0.125196, -0.35225, -0.0631537, -0.00211084, 0.0455215)
visible = false

[node name="Shotgun" parent="Weapons" instance=ExtResource("5_gqd55")]
transform = Transform3D(-0.280149, -0.40288, 0.871323, -0.249981, 0.906971, 0.338989, -0.926837, -0.122847, -0.3548, -0.0860773, 0.00929606, 0.0509185)
visible = false

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="Camera" type="Camera3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.210124)
cull_mask = 1048567

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
target_position = Vector3(0, 0, -999)
collision_mask = 9
hit_back_faces = false
collide_with_areas = true

[node name="PuppetBase" parent="." instance=ExtResource("2_1bt1c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0529786)

[node name="Skeleton" parent="PuppetBase" index="2"]
bones/1/position = Vector3(1.61993e-09, 0.881413, -0.0641973)
bones/2/rotation = Quaternion(-0.269209, -2.50407e-06, 1.07573e-06, 0.963082)
bones/4/rotation = Quaternion(0.183421, -4.50574e-09, 1.76421e-08, 0.983034)
bones/5/rotation = Quaternion(0.107117, -5.22496e-10, 3.95202e-09, 0.994246)
bones/7/rotation = Quaternion(0.591693, 0.641838, -0.176114, -0.454893)
bones/8/rotation = Quaternion(-0.010184, -0.716539, -0.00990475, 0.697403)
bones/9/rotation = Quaternion(-0.6431, 0.733644, -0.121875, 0.182579)
bones/10/rotation = Quaternion(2.38419e-07, -2.98023e-08, -1.19209e-07, 1)
bones/11/rotation = Quaternion(0.00271381, -0.255441, 0.044515, 0.965795)
bones/12/rotation = Quaternion(-0.272552, -0.455981, -0.0670652, 0.844571)
bones/14/rotation = Quaternion(-0.049032, -0.261497, 0.0947445, 0.959291)
bones/15/rotation = Quaternion(-0.258924, -0.444884, 0.113674, 0.849773)
bones/16/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/17/rotation = Quaternion(0.198748, 0.173299, 0.00706563, 0.964581)
bones/18/rotation = Quaternion(0.0789544, 0.210591, 0.0199645, 0.974176)
bones/20/rotation = Quaternion(-0.254574, 0.949012, -0.0606359, 0.175759)
bones/21/rotation = Quaternion(0.347844, 0.19838, -0.338141, 0.851652)
bones/22/rotation = Quaternion(-0.548604, -0.670534, 0.404666, 0.292681)
bones/23/rotation = Quaternion(5.96046e-08, -5.96046e-08, 1.78814e-07, 1)
bones/24/rotation = Quaternion(-0.20883, 0.386756, -0.0108419, 0.898161)
bones/25/rotation = Quaternion(-0.308406, 0.646145, -0.0907914, 0.692199)
bones/27/rotation = Quaternion(-0.549932, 0.610126, 0.091792, 0.562935)
bones/28/rotation = Quaternion(-0.215846, 0.422604, -0.0633122, 0.877957)
bones/29/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/30/rotation = Quaternion(-0.430492, 0.1199, -0.304196, 0.841288)
bones/31/rotation = Quaternion(-0.33108, 0.456871, -0.11983, 0.816882)
bones/33/rotation = Quaternion(-0.14131, 0.0496001, 0.98867, -0.0101129)
bones/34/rotation = Quaternion(-0.036749, 0.993856, 0.104205, 0.00647907)
bones/35/rotation = Quaternion(0.0720757, 0.802955, -0.580105, 0.116393)
bones/38/rotation = Quaternion(0.133437, -0.178492, 0.974531, -0.024989)
bones/39/rotation = Quaternion(0.0575748, 0.98485, 0.163259, -0.0101508)
bones/40/rotation = Quaternion(-0.0821621, 0.694692, -0.707784, -0.0984613)
bones/41/rotation = Quaternion(-4.21469e-08, 1, 5.96047e-08, -1.26441e-07)

[node name="Body" parent="PuppetBase/Skeleton" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_ulpgl")

[node name="Head" parent="PuppetBase/Skeleton" index="1"]
transform = Transform3D(1, -3.62481e-06, -4.10428e-06, 3.46442e-06, 0.999261, -0.0384252, 4.24053e-06, 0.0384252, 0.999261, -6.31686e-07, 1.52931, -0.266777)

[node name="Neck" parent="PuppetBase/Skeleton" index="2"]
transform = Transform3D(1, -7.23795e-07, -5.40244e-06, 3.42027e-06, 0.855053, 0.518541, 4.24406e-06, -0.518541, 0.855053, 0.00223447, 1.42538, -0.207378)

[node name="Chest" parent="PuppetBase/Skeleton" index="3"]
transform = Transform3D(1, -7.23795e-07, -5.40244e-06, 3.42027e-06, 0.855053, 0.518541, 4.24406e-06, -0.518541, 0.855053, 7.1333e-10, 1.11958, -0.0868668)

[node name="Stomach" parent="PuppetBase/Skeleton" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61993e-09, 0.881413, -0.0641973)

[node name="R_UpperArm" parent="PuppetBase/Skeleton" index="5"]
transform = Transform3D(0.504499, -0.863033, 0.0256037, 0.160452, 0.0645747, -0.984929, 0.848372, 0.501004, 0.171053, 0.194961, 1.36868, -0.182762)

[node name="R_Forearm" parent="PuppetBase/Skeleton" index="6"]
transform = Transform3D(0.712709, -0.0848983, 0.696303, 0.647355, -0.302677, -0.699513, 0.270142, 0.949305, -0.160761, 0.282134, 1.21589, -0.295007)

[node name="R_Hand" parent="PuppetBase/Skeleton" index="7"]
transform = Transform3D(-0.280032, -0.25194, -0.926341, -0.40514, 0.905822, -0.123887, 0.870313, 0.340605, -0.35573, 0.1153, 1.30943, -0.369588)

[node name="GunTransform" parent="PuppetBase/Skeleton/R_Hand" index="1"]
remote_path = NodePath("../../../../Weapons")

[node name="L_UpperArm" parent="PuppetBase/Skeleton" index="8"]
transform = Transform3D(0.919767, 0.237763, 0.312245, 0.380238, -0.342821, -0.859007, -0.0971963, 0.908814, -0.405722, -0.194961, 1.36868, -0.182763)

[node name="L_Forearm" parent="PuppetBase/Skeleton" index="9"]
transform = Transform3D(0.287435, 0.263794, -0.920757, -0.869245, -0.331871, -0.366435, -0.402236, 0.90569, 0.133911, -0.117189, 1.33124, -0.372747)

[node name="L_Hand" parent="PuppetBase/Skeleton" index="10"]
transform = Transform3D(-0.188846, 0.160203, 0.968851, 0.460945, 0.885622, -0.0565951, -0.867103, 0.4359, -0.241091, 0.0391341, 1.35335, -0.503972)

[node name="R_Thigh" parent="PuppetBase/Skeleton" index="11"]
transform = Transform3D(-0.96314, 0.00107021, 0.268997, -0.0963398, -0.935032, -0.341223, 0.251156, -0.354561, 0.90067, 0.0851499, 0.863924, -0.0593682)

[node name="R_Shin" parent="PuppetBase/Skeleton" index="12"]
transform = Transform3D(0.96711, -0.0252237, -0.253106, -0.0204942, -0.999563, 0.0213056, -0.253533, -0.0154177, -0.967204, 0.112325, 0.484515, -0.237821)

[node name="R_Foot" parent="PuppetBase/Skeleton" index="13"]
transform = Transform3D(-1, -1.78814e-07, -3.72529e-07, -3.9069e-07, 6.25849e-07, 1, -1.04308e-07, 1, -5.23403e-07, 0.11946, 0.113839, -0.180125)

[node name="L_Thigh" parent="PuppetBase/Skeleton" index="14"]
transform = Transform3D(-0.959858, 0.00597867, -0.280421, -0.0340147, -0.994875, 0.0952182, -0.278415, 0.100934, 0.955143, -0.0851499, 0.863924, -0.0593682)

[node name="L_Shin" parent="PuppetBase/Skeleton" index="15"]
transform = Transform3D(0.962516, 0.0192927, 0.270539, 0.103293, -0.948374, -0.299862, 0.250787, 0.316567, -0.914818, -0.108992, 0.444553, -0.0496398)

[node name="L_Foot" parent="PuppetBase/Skeleton" index="16"]
transform = Transform3D(-1, -5.96046e-08, -7.45058e-08, -7.45058e-08, -2.08616e-07, 1, -8.9407e-08, 1, 2.68221e-07, -0.11946, 0.113838, 0.127274)

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("4_8ihun")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("5_tm5o4")

[node name="Footsteps" type="Node3D" parent="."]
script = ExtResource("9_druge")

[node name="Footsteps1" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("9_4go11")
unit_size = 2.0
max_distance = 3.0

[node name="Footsteps2" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("10_i4x8w")
unit_size = 2.0
max_distance = 3.0

[node name="Footsteps3" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("11_ccipe")
unit_size = 2.0
max_distance = 3.0

[node name="Footsteps4" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("12_hl0ln")
unit_size = 2.0
max_distance = 3.0

[connection signal="take_damage" from="PuppetBase/Skeleton/Head/HeadArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Neck/NeckArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Chest/ChestArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Stomach/StomachArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_UpperArm/R_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Forearm/R_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Hand/R_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_UpperArm/L_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Forearm/L_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Hand/L_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Thigh/R_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Shin/R_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Foot/R_FootArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Thigh/L_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Shin/L_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Foot/L_FootArea" to="." method="_take_damage"]

[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="Weapons/Shotgun"]
[editable path="PuppetBase"]
