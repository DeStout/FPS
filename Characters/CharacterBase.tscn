[gd_scene load_steps=10 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_2ivhj"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Pistol.tscn" id="2_0n5ny"]
[ext_resource type="PackedScene" uid="uid://cmdilq5ptgg8g" path="res://Characters/PuppetBase.tscn" id="2_hk3ry"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Slapper.tscn" id="2_p785k"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Rifle.tscn" id="3_radhw"]
[ext_resource type="Script" path="res://Characters/Voice.gd" id="5_1op2j"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Slap.ogg" id="7_shw64"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ulpgl"]
albedo_color = Color(0.839216, 0.6, 0.466667, 1)
subsurf_scatter_enabled = true
subsurf_scatter_strength = 1.0
subsurf_scatter_skin_mode = true

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_2ivhj")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
target_position = Vector3(0, 0, -99)
collision_mask = 13
collide_with_areas = true
debug_shape_thickness = 1

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(-0.219557, -0.165258, -0.961501, -0.963361, 0.192341, 0.186923, 0.154046, 0.967313, -0.201433, 0.174784, 1.37761, -0.271107)

[node name="Slapper" parent="Weapons" instance=ExtResource("2_p785k")]
transform = Transform3D(1, 0, 0, -7.45058e-08, 1, 4.47035e-08, -2.98023e-08, 0, 1, -0.0806546, -0.0416175, 0.0439858)
visible = false

[node name="Pistol" parent="Weapons" instance=ExtResource("2_0n5ny")]
transform = Transform3D(-0.249066, -0.429781, 0.867903, -0.310145, 0.884345, 0.348921, -0.917485, -0.182271, -0.353554, -0.0656748, -0.0175465, 0.0636245)
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("3_radhw")]
transform = Transform3D(-0.247434, -0.469154, 0.847746, -0.310294, 0.867242, 0.389376, -0.917876, -0.166706, -0.360159, -0.0597211, 0.00324258, 0.0451551)
visible = false

[node name="PuppetBase" parent="." instance=ExtResource("2_hk3ry")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0529786)

[node name="AnimationTree" parent="PuppetBase" index="1"]
active = true
parameters/Idle/UpperIdle/blend_position = Vector2(0, 1)
parameters/Run/UpperRun/blend_position = Vector2(0, 1)

[node name="Skeleton" parent="PuppetBase" index="2"]
bones/1/position = Vector3(1.61994e-09, 0.894185, -0.0641973)
bones/2/rotation = Quaternion(0.0103335, 7.0249e-05, 0.000795524, 0.999946)
bones/4/rotation = Quaternion(0.00903721, 6.7183e-05, 0.000694059, 0.999959)
bones/5/rotation = Quaternion(0.0120548, 8.36189e-05, 0.000927347, 0.999927)
bones/7/rotation = Quaternion(0.0101554, 0.882215, 0.270564, 0.385213)
bones/8/rotation = Quaternion(-0.0175689, -0.723206, -0.0170857, 0.690197)
bones/9/rotation = Quaternion(-0.394913, 0.728409, 0.143314, 0.541226)
bones/10/rotation = Quaternion(2.38419e-07, -2.98023e-08, -1.19209e-07, 1)
bones/11/rotation = Quaternion(0.0321756, -0.0153254, -0.0733077, 0.996672)
bones/12/rotation = Quaternion(-5.96047e-08, -2.38419e-07, 2.38419e-07, 1)
bones/14/rotation = Quaternion(0.00304212, 0.00542128, -0.00282554, 0.999977)
bones/15/rotation = Quaternion(-5.96046e-08, 5.96046e-08, 1.78814e-07, 1)
bones/16/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/17/rotation = Quaternion(0.336127, 0.0664866, 0.0428167, 0.938491)
bones/18/rotation = Quaternion(-0.0177395, 0.184228, 0.00458947, 0.982713)
bones/20/rotation = Quaternion(-0.136117, 0.94937, 0.253036, 0.127047)
bones/21/rotation = Quaternion(0.244885, 0.393588, -0.238049, 0.853494)
bones/22/rotation = Quaternion(-0.258015, -0.83352, -0.12594, 0.472029)
bones/23/rotation = Quaternion(5.96046e-08, -5.96046e-08, 1.78814e-07, 1)
bones/24/rotation = Quaternion(0.0105558, 0.0228783, 0.0653671, 0.997543)
bones/25/rotation = Quaternion(-0.00124891, -0.0188322, 0.00484714, 0.99981)
bones/27/rotation = Quaternion(-0.00589394, -0.013547, -0.0393975, 0.999114)
bones/28/rotation = Quaternion(0.00512311, -0.0361442, 0.00816287, 0.9993)
bones/29/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/30/rotation = Quaternion(-0.34676, 0.490638, -0.552493, 0.57774)
bones/31/rotation = Quaternion(-0.0929818, 0.136922, -0.113451, 0.979661)
bones/33/rotation = Quaternion(-0.139416, 0.0850327, 0.986418, -0.0176484)
bones/34/rotation = Quaternion(-0.00982267, 0.999562, 0.0278528, 0.00173181)
bones/35/rotation = Quaternion(0.0806127, 0.77609, -0.615053, 0.113563)
bones/38/rotation = Quaternion(0.133329, -0.150037, 0.979473, -0.0185542)
bones/39/rotation = Quaternion(0.0378153, 0.993493, 0.107229, -0.00666707)
bones/40/rotation = Quaternion(-0.0878979, 0.672928, -0.728244, -0.0954065)
bones/41/rotation = Quaternion(-4.21469e-08, 1, 5.96047e-08, -1.26441e-07)

[node name="Body" parent="PuppetBase/Skeleton" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_ulpgl")

[node name="Head" parent="PuppetBase/Skeleton" index="1"]
transform = Transform3D(0.999988, -0.00481691, 0.000593703, 0.00484469, 0.998014, -0.0628095, -0.000289976, 0.0628117, 0.998025, -0.000785627, 1.57369, -0.0414665)

[node name="Neck" parent="PuppetBase/Skeleton" index="2"]
transform = Transform3D(0.999999, -0.00158951, 0.000156931, 0.00159241, 0.999785, -0.0206658, -0.000124049, 0.020666, 0.999786, 0.00172877, 1.4551, -0.0246589)

[node name="Chest" parent="PuppetBase/Skeleton" index="3"]
transform = Transform3D(0.999999, -0.00158951, 0.000156931, 0.00159241, 0.999785, -0.0206658, -0.000124049, 0.020666, 0.999786, 7.13331e-10, 1.13235, -0.0868668)

[node name="Stomach" parent="PuppetBase/Skeleton" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61994e-09, 0.894185, -0.0641973)

[node name="R_UpperArm" parent="PuppetBase/Skeleton" index="5"]
transform = Transform3D(0.194796, -0.835546, -0.513729, -0.328971, 0.437769, -0.836742, 0.924031, 0.331995, -0.189595, 0.194551, 1.39435, -0.0342987)

[node name="R_Forearm" parent="PuppetBase/Skeleton" index="6"]
transform = Transform3D(0.695865, -0.642413, 0.321057, 0.376458, -0.0544198, -0.924834, 0.611597, 0.764424, 0.203973, 0.22929, 1.24568, -0.176544)

[node name="R_Hand" parent="PuppetBase/Skeleton" index="7"]
transform = Transform3D(-0.219557, -0.165258, -0.961501, -0.963361, 0.192341, 0.186923, 0.154046, 0.967313, -0.201433, 0.174784, 1.37761, -0.324086)

[node name="GunTransform" parent="PuppetBase/Skeleton/R_Hand" index="1"]
remote_path = NodePath("../../../../Weapons")

[node name="L_UpperArm" parent="PuppetBase/Skeleton" index="8"]
transform = Transform3D(0.227329, 0.852582, 0.470559, -0.659152, 0.490407, -0.570106, -0.716827, -0.180568, 0.673464, -0.195371, 1.39373, -0.0342504)

[node name="L_Forearm" parent="PuppetBase/Skeleton" index="9"]
transform = Transform3D(0.461001, 0.862913, -0.207023, -0.537847, 0.457259, 0.708262, 0.705832, -0.215163, 0.674912, -0.235817, 1.19836, 0.0268841)

[node name="L_Hand" parent="PuppetBase/Skeleton" index="10"]
transform = Transform3D(-0.223051, 0.26685, 0.937571, -0.775759, 0.533827, -0.336492, -0.590294, -0.802384, 0.0879406, -0.23782, 0.997166, -0.013904)

[node name="R_Thigh" parent="PuppetBase/Skeleton" index="11"]
transform = Transform3D(-0.963758, -0.00366212, 0.266753, -0.0763553, -0.954289, -0.288967, 0.255618, -0.298862, 0.919424, 0.0851499, 0.876695, -0.0593682)

[node name="R_Shin" parent="PuppetBase/Skeleton" index="12"]
transform = Transform3D(0.966343, -0.0206602, -0.256426, -0.000380777, -0.996884, 0.0788841, -0.257256, -0.0761315, -0.96334, 0.110422, 0.487296, -0.215138)

[node name="R_Foot" parent="PuppetBase/Skeleton" index="13"]
transform = Transform3D(-1, -8.9407e-08, -4.13507e-07, -4.2282e-07, 4.76837e-07, 1, -5.96046e-08, 1, -4.54485e-07, 0.11946, 0.113836, -0.180126)

[node name="L_Thigh" parent="PuppetBase/Skeleton" index="14"]
transform = Transform3D(-0.960503, 0.0111076, -0.278047, -0.0585274, -0.984916, 0.162835, -0.272044, 0.172677, 0.946665, -0.0851499, 0.876695, -0.0593682)

[node name="L_Shin" parent="PuppetBase/Skeleton" index="15"]
transform = Transform3D(0.96121, 0.0145695, 0.275433, 0.0771084, -0.972982, -0.217626, 0.26482, 0.230423, -0.936363, -0.106926, 0.459024, -0.0192247)

[node name="L_Foot" parent="PuppetBase/Skeleton" index="16"]
transform = Transform3D(-1, -1.49012e-07, 3.72529e-08, 2.23517e-08, -1.3411e-07, 1, -8.9407e-08, 1, 1.04308e-07, -0.11946, 0.113828, 0.127276)

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("5_1op2j")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_shw64")

[connection signal="take_damage" from="PuppetBase/Skeleton/Head/HeadArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Neck/NeckArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Chest/ChestArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Stomach/StomachArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_UpperArm/R_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Forearm/R_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Hand/R_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_UpperArm/L_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Forearm/L_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Hand/L_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Thigh/R_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Shin/R_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Foot/R_FootArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Thigh/L_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Shin/L_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Foot/L_FootArea" to="." method="_take_damage"]

[editable path="PuppetBase"]
