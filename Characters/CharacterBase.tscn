[gd_scene load_steps=11 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="PackedScene" uid="uid://dmcns46qj2v0" path="res://Characters/PuppetBase.tscn" id="1_1iwo3"]
[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_2ivhj"]
[ext_resource type="AudioStream" uid="uid://dorffy05scj1f" path="res://Characters/Death.ogg" id="3_rmkl3"]
[ext_resource type="AudioStream" uid="uid://b6xaykxcxbnky" path="res://Characters/Hurt1.ogg" id="4_diix5"]
[ext_resource type="AudioStream" uid="uid://cxb302ihv2n7h" path="res://Characters/Hurt2.ogg" id="5_brm8y"]
[ext_resource type="AudioStream" uid="uid://3m7adjbyrt67" path="res://Characters/Reuben_ImDying.ogg" id="5_q51va"]
[ext_resource type="AudioStream" uid="uid://wdi4vhf1xuc0" path="res://Characters/Reuben_Ow.ogg" id="5_xiyfn"]
[ext_resource type="AudioStream" uid="uid://baa48amuq07d8" path="res://Characters/Autumn_Dying.ogg" id="6_jyhq2"]
[ext_resource type="AudioStream" uid="uid://de1gfib320d8u" path="res://Characters/Autumn_Ow.ogg" id="6_okrld"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_2ivhj")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65573, -0.058521)

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.105338)
target_position = Vector3(0, 0, -99)
collide_with_areas = true
debug_shape_thickness = 1

[node name="Weapons" type="Node3D" parent="AimHelper"]

[node name="PuppetAnimations" parent="." instance=ExtResource("1_1iwo3")]

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(3.99405e-10, 0.897158, -0.0641972)
bones/2/rotation = Quaternion(-0.168173, 0.000881645, 0.00329849, 0.985752)
bones/4/rotation = Quaternion(0.0442894, 0.0123985, 0.0194086, 0.998753)
bones/5/rotation = Quaternion(0.0808889, -1.61695e-08, 1.91368e-08, 0.996723)
bones/7/rotation = Quaternion(-0.295959, 0.216016, -0.421187, 0.829667)
bones/8/rotation = Quaternion(0.449275, 0.0324525, -0.0874796, 0.888508)
bones/10/rotation = Quaternion(0.229404, 0.163264, 0.495858, 0.821489)
bones/11/rotation = Quaternion(0.499512, -0.0314205, 0.0972615, 0.860256)
bones/12/position = Vector3(0.263872, -0.0900054, -0.0695791)
bones/28/rotation = Quaternion(0.660182, 0.491426, 0.186432, 0.536566)
bones/29/rotation = Quaternion(0.650017, 0.371568, -0.0380117, 0.661793)
bones/30/position = Vector3(-0.209953, 0.139723, 0.32972)
bones/30/rotation = Quaternion(-0.528212, 0.344378, 0.405961, 0.661507)
bones/46/rotation = Quaternion(-0.295595, -0.591989, 0.643609, -0.38463)
bones/47/rotation = Quaternion(0.235229, 0.569778, -0.553995, 0.559562)
bones/49/rotation = Quaternion(-0.589426, 0.226733, -0.158375, 0.759004)
bones/50/rotation = Quaternion(-0.0695819, 0.00388583, 0.106606, 0.991856)
bones/52/rotation = Quaternion(-0.530388, -0.0616883, 0.326939, 0.77974)
bones/53/rotation = Quaternion(-0.106492, -0.00384262, -0.163155, 0.980829)
bones/60/position = Vector3(-0.357937, 1.29589, 0.502917)
bones/60/rotation = Quaternion(0.586289, -0.408118, -0.439191, 0.544809)
bones/67/position = Vector3(0.376082, 0.972206, 0.488149)
bones/67/rotation = Quaternion(0.586289, 0.408118, 0.439191, 0.544809)

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-1, -8.89625e-08, -3.64883e-07, 7.1891e-09, 0.969354, -0.245669, 3.80837e-07, -0.245669, -0.969354, 5.87213e-09, 1.57432, -0.0131838)

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, -6.44941e-08, -4.09782e-07, -2.51675e-08, 0.996282, -0.0861484, 4.19095e-07, -0.0861484, -0.996282, 1.00117e-08, 1.51037, -0.00765427)

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00679964, -0.000629099, 0.00644836, 0.970584, 0.240674, 0.00224709, 0.240664, -0.970606, -5.07184e-10, 1.13533, -0.0868667)

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78938e-09, -3.89234e-07, 3.31093e-08, 0.9955, -0.0947543, 3.87842e-07, -0.0947543, -0.995501, 3.99405e-10, 0.897158, -0.0641972)

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.957066, -0.247755, -0.150473, -0.286986, -0.882916, -0.371614, -0.0407858, 0.398842, -0.916112, -0.194961, 1.39388, -0.0205771)

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.992197, -0.0865373, 0.0897588, -0.119843, -0.860529, 0.495103, 0.0343953, -0.501997, -0.864185, -0.24666, 1.20964, 0.0626502)

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.240441, -0.957652, -0.1584, -0.923694, 0.275887, -0.265846, 0.298288, 0.0823928, -0.950913, -0.264434, 1.03292, -0.0404009)

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.981246, 0.19186, -0.0185906, 0.129466, -0.584528, 0.800977, 0.142809, -0.788363, -0.598405, 0.194961, 1.39388, -0.020577)

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.984016, -0.118379, -0.133038, 0.168423, 0.375974, 0.911195, -0.057847, -0.919037, 0.389902, 0.234997, 1.27191, -0.185086)

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.431454, 0.901908, -0.0202243, -0.0418932, 0.00236345, 0.999119, 0.901162, 0.431921, 0.0367642, 0.210691, 1.34894, -0.37374)

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.496394, -0.0503521, -0.866636, -0.126606, -0.991841, -0.0148912, -0.858815, 0.117113, -0.498719, -0.0851499, 0.879669, -0.0593681)

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.494013, -0.0350599, -0.868747, -0.332603, -0.930807, -0.15157, -0.803322, 0.363825, -0.471492, -0.106306, 0.462937, -0.0101619)

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.481521, 0.0579913, 0.874514, -0.291162, -0.930553, 0.222026, 0.826657, -0.361536, -0.431196, 0.0851499, 0.879669, -0.0593681)

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.474339, 0.0265053, 0.879943, 0.0308025, -0.999434, 0.0135002, 0.879803, 0.0207007, -0.474887, 0.109515, 0.488688, -0.211271)

[node name="DmgLbl" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="HurtSFX" type="Node3D" parent="."]

[node name="HurtSFX_Reuben" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_xiyfn")
volume_db = 4.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX_Autumn" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("6_okrld")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0
panning_strength = 0.5

[node name="HurtSFX_De1" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("4_diix5")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX2_De2" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_brm8y")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="DeathSFX" type="Node3D" parent="."]

[node name="DeathSFX_Reuben" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("5_q51va")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0

[node name="DeathSFX_Autumn" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("6_jyhq2")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0

[node name="Death_SFX_De" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("3_rmkl3")
unit_size = 5.0
max_db = 0.0

[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Head/HeadArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Neck/NeckArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Chest/ChestArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Stomach/StomachArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_UpperArm/L_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Forearm/L_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Hand/L_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_UpperArm/R_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Forearm/R_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Hand/R_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Thigh/L_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Shin/L_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Foot/L_FootArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Thigh/R_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Shin/R_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Foot/R_FootArea" to="." method="_take_damage"]

[editable path="PuppetAnimations"]
