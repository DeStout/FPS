[gd_scene load_steps=16 format=3 uid="uid://65jhlh1xbkow"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_hsiy1"]
[ext_resource type="PackedScene" uid="uid://bf4x61feslkq2" path="res://Characters/MannyBase.tscn" id="2_4yyna"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Weapons/Slapper/Slapper.tscn" id="2_e1vp6"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Weapons/Pistol/Pistol.tscn" id="3_igi5e"]
[ext_resource type="PackedScene" uid="uid://dh23vd3s1cpss" path="res://Props/Weapons/SMG/SMG.tscn" id="4_a7f61"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Weapons/Rifle/Rifle.tscn" id="5_nv5n8"]
[ext_resource type="PackedScene" uid="uid://barsvh0ntyosw" path="res://Props/Weapons/Shotgun/Shotgun.tscn" id="6_8xy63"]
[ext_resource type="PackedScene" uid="uid://dlgv171g6as4t" path="res://Props/Weapons/Sniper/Sniper.tscn" id="7_rtaje"]
[ext_resource type="Script" path="res://Characters/Multiplayer/Voice.gd" id="9_hj0ir"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Weapons/Slapper/Slap.ogg" id="10_n02aa"]
[ext_resource type="Script" path="res://RandomAudio.gd" id="11_ntang"]
[ext_resource type="AudioStream" uid="uid://b56r0e1ges6xc" path="res://Characters/Audio/footstep1.ogg" id="12_8kevp"]
[ext_resource type="AudioStream" uid="uid://doju4xf4dtgt" path="res://Characters/Audio/footstep2.ogg" id="13_xgngd"]
[ext_resource type="AudioStream" uid="uid://cxbr801up84rw" path="res://Characters/Audio/footstep4.ogg" id="14_df48h"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_hsiy1")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
visible = false
shape = SubResource("CapsuleShape3D_5yxej")

[node name="Mannequin" parent="." instance=ExtResource("2_4yyna")]

[node name="Skeleton3D" parent="Mannequin/Mannequin" index="0"]
bones/0/position = Vector3(-0.000598402, 77.7623, -4.11995e-05)
bones/0/rotation = Quaternion(4.3568e-05, 0.995564, -0.0940824, 5.63399e-06)
bones/1/rotation = Quaternion(-0.0607302, -1.93821e-08, 6.12552e-06, 0.998154)
bones/2/rotation = Quaternion(0.000196129, 2.99933e-08, -9.31617e-06, 1)
bones/3/rotation = Quaternion(0.0577117, 2.20959e-06, 3.28261e-06, 0.998333)
bones/4/rotation = Quaternion(0.00282766, 1.00661e-09, -1.03364e-10, 0.999996)
bones/5/rotation = Quaternion(1.04821e-15, -8.32911e-12, 3.36915e-13, 1)
bones/7/rotation = Quaternion(-0.453835, -0.544849, 0.551139, -0.439794)
bones/8/position = Vector3(-1.03137e-06, 12.9223, 3.3827e-06)
bones/8/rotation = Quaternion(-0.0104523, -0.00106275, 0.101151, 0.994816)
bones/9/position = Vector3(1.34076e-05, 27.4047, 2.05513e-05)
bones/9/rotation = Quaternion(6.19658e-07, 2.29502e-08, 4.99191e-10, 1)
bones/10/position = Vector3(1.9679e-06, 27.6145, -2.11914e-07)
bones/10/rotation = Quaternion(7.06671e-07, -8.58562e-09, -7.69297e-08, 1)
bones/11/position = Vector3(-3.00298, 3.78882, 2.16717)
bones/11/rotation = Quaternion(0.251894, -0.0594643, 0.221923, 0.940087)
bones/12/position = Vector3(2.80144e-06, 4.74498, 2.10612e-05)
bones/12/rotation = Quaternion(7.34595e-06, 3.49539e-07, 7.88365e-07, 1)
bones/13/position = Vector3(-3.03984e-06, 4.38212, -1.14274e-05)
bones/13/rotation = Quaternion(7.68741e-07, 1.01119e-08, -1.59256e-07, 1)
bones/14/position = Vector3(-1.30505e-05, 3.45907, -6.33013e-06)
bones/15/position = Vector3(-2.82204, 12.2666, 0.231824)
bones/15/rotation = Quaternion(6.47053e-07, -6.68509e-08, 4.68632e-06, 1)
bones/16/position = Vector3(1.1357e-06, 3.89197, -2.50272e-07)
bones/16/rotation = Quaternion(-1.55177e-06, 1.15806e-07, -6.21284e-06, 1)
bones/17/position = Vector3(1.6546e-06, 3.41515, -7.70791e-06)
bones/17/rotation = Quaternion(6.31507e-08, -5.60645e-08, 1.97358e-09, 1)
bones/18/position = Vector3(-6.56911e-07, 3.07799, -1.10778e-05)
bones/19/position = Vector3(-1.01914e-05, 12.7755, -1.09959e-05)
bones/19/rotation = Quaternion(-5.57954e-07, 3.80937e-08, 1.66014e-09, 1)
bones/20/position = Vector3(-4.72173e-07, 3.61396, 1.8098e-05)
bones/20/rotation = Quaternion(2.29219e-07, -9.2039e-09, 5.88214e-09, 1)
bones/21/position = Vector3(2.88791e-05, 3.45976, 1.99635e-06)
bones/21/rotation = Quaternion(5.6853e-07, -2.75176e-08, -8.25482e-09, 1)
bones/22/position = Vector3(-3.45972e-05, 3.68019, 9.12112e-06)
bones/23/position = Vector3(2.21664, 12.147, -0.00999877)
bones/23/rotation = Quaternion(-7.1533e-07, -1.12732e-10, 4.6344e-06, 1)
bones/24/position = Vector3(-3.35528e-06, 3.60119, 6.75308e-06)
bones/24/rotation = Quaternion(-1.64625e-06, 2.27254e-08, -8.22491e-06, 1)
bones/25/position = Vector3(1.99561e-06, 3.30732, -8.03228e-06)
bones/25/rotation = Quaternion(2.78251e-07, 2.74517e-07, 3.33538e-07, 1)
bones/27/position = Vector3(4.72584, 10.9082, 0.226121)
bones/27/rotation = Quaternion(1.35441e-06, 1.59052e-07, 0.000140977, 1)
bones/28/position = Vector3(2.14952e-06, 4.13665, 9.60969e-07)
bones/28/rotation = Quaternion(-4.62341e-06, -4.63214e-07, -0.000368424, 1)
bones/29/position = Vector3(1.1654e-06, 2.59483, 2.72266e-06)
bones/29/rotation = Quaternion(5.29424e-06, 6.38796e-07, 0.000230579, 1)
bones/30/position = Vector3(2.70834e-06, 2.92388, -5.75008e-06)
bones/31/rotation = Quaternion(0.453838, -0.544847, 0.55114, 0.439793)
bones/32/position = Vector3(6.12706e-07, 12.9223, -1.20768e-05)
bones/32/rotation = Quaternion(-0.0104557, 0.00106302, -0.101149, 0.994816)
bones/33/position = Vector3(-8.73257e-07, 27.4047, 1.46078e-06)
bones/33/rotation = Quaternion(2.26326e-07, 1.3809e-08, 2.95745e-08, 1)
bones/34/position = Vector3(1.32006e-05, 27.6145, -3.87289e-06)
bones/34/rotation = Quaternion(-2.96338e-07, -5.75544e-08, 1.15299e-08, 1)
bones/35/rotation = Quaternion(0.251896, 0.0594639, -0.221924, 0.940086)
bones/36/position = Vector3(1.09077e-05, 4.74495, -1.9086e-05)
bones/36/rotation = Quaternion(7.70147e-06, -1.27394e-07, -6.56117e-07, 1)
bones/37/position = Vector3(-6.7353e-06, 4.38215, 1.56035e-05)
bones/38/position = Vector3(1.23662e-05, 3.45906, -1.47019e-05)
bones/39/position = Vector3(2.82204, 12.2666, 0.231843)
bones/39/rotation = Quaternion(4.59441e-08, -3.89493e-08, -4.80884e-06, 1)
bones/40/position = Vector3(-3.09137e-06, 3.89195, -1.29938e-05)
bones/40/rotation = Quaternion(1.55368e-06, 1.23164e-07, 4.20995e-06, 1)
bones/41/position = Vector3(-1.63016e-05, 3.41515, -1.7957e-06)
bones/41/rotation = Quaternion(-6.31424e-08, 7.05899e-08, -5.30383e-08, 1)
bones/42/position = Vector3(-1.97089e-06, 3.07799, -9.4189e-06)
bones/43/position = Vector3(1.62835e-05, 12.7755, 1.49186e-05)
bones/43/rotation = Quaternion(1.25276e-06, 6.59927e-08, -4.20863e-07, 1)
bones/44/position = Vector3(-8.95778e-07, 3.61397, -6.06815e-06)
bones/44/rotation = Quaternion(-2.29216e-07, -5.47319e-09, 3.95078e-08, 1)
bones/45/position = Vector3(-3.02028e-05, 3.45975, -3.10753e-06)
bones/45/rotation = Quaternion(-5.68528e-07, -2.00655e-08, 3.71478e-08, 1)
bones/46/position = Vector3(2.71791e-05, 3.68019, -4.36043e-06)
bones/47/position = Vector3(-2.21663, 12.147, -0.00998622)
bones/47/rotation = Quaternion(1.40997e-06, 2.79821e-08, -4.76679e-06, 1)
bones/48/position = Vector3(-2.96703e-07, 3.6012, 2.92134e-06)
bones/48/rotation = Quaternion(-6.60298e-07, -5.12148e-08, 7.88917e-06, 1)
bones/49/position = Vector3(-2.55616e-06, 3.3073, 1.2004e-06)
bones/49/rotation = Quaternion(-5.59822e-08, 5.59947e-08, 2.4316e-07, 1)
bones/50/position = Vector3(2.45013e-05, 3.66011, -4.2995e-06)
bones/51/position = Vector3(-4.72583, 10.9082, 0.226141)
bones/51/rotation = Quaternion(1.18513e-06, 1.5308e-08, -3.2276e-06, 1)
bones/52/position = Vector3(-5.06207e-06, 4.13664, -6.05879e-06)
bones/52/rotation = Quaternion(-1.61924e-07, 5.29972e-08, 1.06332e-05, 1)
bones/53/position = Vector3(-4.64936e-06, 2.59484, -2.37878e-06)
bones/53/rotation = Quaternion(2.55611e-07, -9.7446e-09, -1.07546e-05, 1)
bones/54/position = Vector3(-3.02762e-06, 2.92388, 4.26785e-06)
bones/55/rotation = Quaternion(0.269263, 0.595571, 0.75677, -0.00961489)
bones/56/rotation = Quaternion(-0.861797, 0.138012, 0.0101845, 0.488011)
bones/57/rotation = Quaternion(0.458499, -0.0391075, 0.0661373, 0.885367)
bones/58/rotation = Quaternion(0.565512, -0.0993374, 0.0212915, 0.818459)
bones/60/rotation = Quaternion(-0.221876, 0.646324, 0.729454, 0.0305322)
bones/61/rotation = Quaternion(-0.827992, -0.0987132, 0.0471377, 0.549966)
bones/62/rotation = Quaternion(0.357712, 0.0117657, -0.0900156, 0.929409)
bones/63/rotation = Quaternion(0.450711, 0.0751375, 0.0033805, 0.889496)

[node name="Hips" parent="Mannequin/Mannequin/Skeleton3D" index="2"]
transform = Transform3D(-1, 8.78097e-05, 3.02003e-06, 8.56894e-05, 0.982297, -0.18733, -1.9416e-05, -0.18733, -0.982297, -0.000598402, 77.7623, -4.11995e-05)

[node name="Stomach" parent="Mannequin/Mannequin/Skeleton3D" index="3"]
transform = Transform3D(-1, 9.90219e-05, 1.44262e-05, 9.78358e-05, 0.997763, -0.0668584, -2.10143e-05, -0.0668585, -0.997762, -0.000590418, 87.74, -0.653403)

[node name="Chest" parent="Mannequin/Mannequin/Skeleton3D" index="4"]
transform = Transform3D(-1, 8.03952e-05, 1.4331e-05, 7.92494e-05, 0.997736, -0.0672498, -1.97051e-05, -0.0672498, -0.997736, 0.000571307, 99.4457, -1.43779)

[node name="Neck" parent="Mannequin/Mannequin/Skeleton3D" index="5"]
transform = Transform3D(-1, 8.78097e-05, -3.17806e-07, 8.63147e-05, 0.982297, -0.18733, -1.61372e-05, -0.18733, -0.982297, 0.00294757, 127.492, -5.93779)

[node name="Head" parent="Mannequin/Mannequin/Skeleton3D" index="6"]
transform = Transform3D(-1, 8.78097e-05, -3.17789e-07, 8.63147e-05, 0.982297, -0.18733, -1.61372e-05, -0.18733, -0.982297, 0.00385028, 137.042, -10.9582)

[node name="L_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="7"]
transform = Transform3D(-7.90595e-07, -1, -8.93138e-05, 0.18733, 8.7684e-05, -0.982297, 0.982297, -1.75447e-05, 0.18733, -18.7584, 121.919, -2.1382)

[node name="L_Forearm" parent="Mannequin/Mannequin/Skeleton3D" index="8"]
transform = Transform3D(-7.91589e-07, -1, -8.80745e-05, 0.18733, 8.64665e-05, -0.982297, 0.982297, -1.73135e-05, 0.18733, -46.1631, 121.921, -2.13867)

[node name="L_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="9"]
transform = Transform3D(-6.37731e-07, -1, -8.66612e-05, 0.18733, 8.5107e-05, -0.982297, 0.982297, -1.68976e-05, 0.18733, -73.7776, 121.923, -2.13914)

[node name="R_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="10"]
transform = Transform3D(-5.54488e-07, 1, -8.65571e-05, -0.18733, -8.50614e-05, -0.982297, -0.982297, 1.5622e-05, 0.18733, 18.7632, 121.915, -2.13765)

[node name="R_Forearm" parent="Mannequin/Mannequin/Skeleton3D" index="11"]
transform = Transform3D(-4.95336e-07, 1, -8.70098e-05, -0.18733, -8.5495e-05, -0.982297, -0.982297, 1.57649e-05, 0.18733, 46.1679, 121.913, -2.13722)

[node name="R_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="12"]
transform = Transform3D(-4.72287e-07, 1, -8.64171e-05, -0.18733, -8.49085e-05, -0.982297, -0.982297, 1.56765e-05, 0.18733, 73.7824, 121.911, -2.1368)

[node name="GunTransform" parent="Mannequin/Mannequin/Skeleton3D/R_Hand" index="1"]
remote_path = NodePath("../../../../../Weapons")

[node name="L_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="13"]
transform = Transform3D(0.854838, -0.335306, -0.396007, 0.222194, -0.45313, 0.86331, -0.468915, -0.82598, -0.31285, -9.12505, 71.2341, 1.3013)

[node name="L_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="14"]
transform = Transform3D(0.958819, 0.282961, 0.0244673, 0.185524, -0.558757, -0.808314, -0.21505, 0.779567, -0.588243, -22.7383, 52.8373, -32.233)

[node name="L_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="15"]
transform = Transform3D(0.973667, 0.0345811, -0.225336, 0.0329368, -0.999397, -0.0110537, -0.225582, 0.00334057, -0.974218, -10.8259, 29.3142, 0.585957)

[node name="R_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="16"]
transform = Transform3D(0.899655, 0.33134, 0.284314, -0.170021, -0.333915, 0.927143, 0.402136, -0.882448, -0.244074, 9.12385, 71.2341, 1.3013)

[node name="R_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="17"]
transform = Transform3D(0.958144, -0.285608, 0.0197088, -0.209554, -0.746574, -0.631439, 0.195058, 0.600879, -0.775175, 22.5761, 57.6773, -34.5256)

[node name="R_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="18"]
transform = Transform3D(0.986036, -0.026441, 0.164423, -0.0329916, -0.998762, 0.0372372, 0.163235, -0.0421418, -0.985687, 10.5523, 26.2473, -9.22923)

[node name="AnimTree" parent="Mannequin" index="2"]
active = false
parameters/Run/Weapon/blend_amount = 0.0

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(-5.2908e-07, 0.999829, -8.63319e-05, -0.1873, -8.48982e-05, -0.982181, -0.982138, 1.5652e-05, 0.187308, 0.737824, 1.21911, -0.021368)

[node name="Slapper" parent="Weapons" instance=ExtResource("2_e1vp6")]
visible = false

[node name="Pistol" parent="Weapons" instance=ExtResource("3_igi5e")]
transform = Transform3D(0, 1, -4.37114e-08, 4.37114e-08, -4.37114e-08, -1, -1, 0, -4.37114e-08, 0.0272936, 0.089157, 0.0266681)
visible = false

[node name="SMG" parent="Weapons" instance=ExtResource("4_a7f61")]
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("5_nv5n8")]
transform = Transform3D(-8.88178e-16, 0.957797, -0.287444, 4.37114e-08, -0.287444, -0.957798, -1, -1.25646e-08, -4.18667e-08, 0.015795, 0.103196, 0.0286223)

[node name="Shotgun" parent="Weapons" instance=ExtResource("6_8xy63")]
visible = false

[node name="Sniper" parent="Weapons" instance=ExtResource("7_rtaje")]
visible = false

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="Camera" type="Camera3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.97237, 0.233445, 0, -0.233445, 0.97237, 0, 0.5, 0.75)
visible = false
cull_mask = 1048551

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
visible = false
target_position = Vector3(0, 0, -999)
collision_mask = 9
hit_back_faces = false
collide_with_areas = true

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("9_hj0ir")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("10_n02aa")
bus = &"SFX"

[node name="Footsteps" type="Node3D" parent="."]
script = ExtResource("11_ntang")

[node name="Footsteps1" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("12_8kevp")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps2" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("13_xgngd")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps3" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("14_df48h")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Hips/HipsArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Stomach/StomachArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Neck/NeckArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Head/HeadArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Foot/FootArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Foot/FootArea" to="." method="take_damage"]

[editable path="Mannequin"]
[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/SMG"]
[editable path="Weapons/SMG/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="Weapons/Shotgun"]
[editable path="Weapons/Sniper"]
