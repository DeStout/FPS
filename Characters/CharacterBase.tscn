[gd_scene load_steps=16 format=3 uid="uid://65jhlh1xbkow"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_hsiy1"]
[ext_resource type="PackedScene" uid="uid://bf4x61feslkq2" path="res://Characters/MannyBase.tscn" id="2_4yyna"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Weapons/Slapper/Slapper.tscn" id="2_e1vp6"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Weapons/Pistol/Pistol.tscn" id="3_igi5e"]
[ext_resource type="PackedScene" uid="uid://dh23vd3s1cpss" path="res://Props/Weapons/SMG/SMG.tscn" id="4_a7f61"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Weapons/Rifle/Rifle.tscn" id="5_nv5n8"]
[ext_resource type="PackedScene" uid="uid://barsvh0ntyosw" path="res://Props/Weapons/Shotgun/Shotgun.tscn" id="6_8xy63"]
[ext_resource type="PackedScene" uid="uid://dlgv171g6as4t" path="res://Props/Weapons/Sniper/Sniper.tscn" id="7_rtaje"]
[ext_resource type="Script" path="res://Characters/Multiplayer/Voice.gd" id="9_hj0ir"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Weapons/Slapper/Slap.ogg" id="10_n02aa"]
[ext_resource type="Script" path="res://RandomAudio.gd" id="11_ntang"]
[ext_resource type="AudioStream" uid="uid://b56r0e1ges6xc" path="res://Characters/Audio/footstep1.ogg" id="12_8kevp"]
[ext_resource type="AudioStream" uid="uid://doju4xf4dtgt" path="res://Characters/Audio/footstep2.ogg" id="13_xgngd"]
[ext_resource type="AudioStream" uid="uid://cxbr801up84rw" path="res://Characters/Audio/footstep4.ogg" id="14_df48h"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_hsiy1")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
visible = false
shape = SubResource("CapsuleShape3D_5yxej")

[node name="Mannequin" parent="." instance=ExtResource("2_4yyna")]

[node name="Skeleton3D" parent="Mannequin/Mannequin" index="0"]
bones/0/position = Vector3(6.75717e-06, 99.7919, -4.09133e-05)
bones/1/rotation = Quaternion(-0.0634837, 2.39117e-07, 6.14493e-06, 0.997983)
bones/2/rotation = Quaternion(-0.0156358, 1.45025e-06, -9.08738e-06, 0.999878)
bones/3/rotation = Quaternion(0.0504319, 2.8248e-06, 3.33405e-06, 0.998728)
bones/4/rotation = Quaternion(-2.56638e-05, 2.51555e-07, 6.12282e-10, 1)
bones/5/rotation = Quaternion(-0.026572, 2.33275e-06, -1.7648e-08, 0.999647)
bones/7/rotation = Quaternion(-0.592596, -0.456264, 0.484743, -0.453517)
bones/8/position = Vector3(-2.69485e-08, 12.9223, -5.94757e-06)
bones/8/rotation = Quaternion(0.586033, 0.241006, -0.175866, 0.753361)
bones/9/position = Vector3(2.43165e-05, 27.4047, 1.76582e-05)
bones/9/rotation = Quaternion(0.686411, -0.523924, 0.457718, 0.211749)
bones/10/position = Vector3(-1.08532e-06, 27.6145, -1.20881e-05)
bones/10/rotation = Quaternion(-0.0410005, 0.0718777, -0.0262852, 0.996224)
bones/11/position = Vector3(-3.00298, 3.78882, 2.16716)
bones/11/rotation = Quaternion(0.51073, 0.0207428, 0.272094, 0.815285)
bones/12/position = Vector3(6.13928e-06, 4.74499, 2.03461e-05)
bones/12/rotation = Quaternion(-0.172694, -0.104442, -0.39138, 0.897825)
bones/13/position = Vector3(-3.51667e-06, 4.38213, -1.58381e-05)
bones/13/rotation = Quaternion(0.00933054, 0.0223857, -0.384084, 0.92298)
bones/14/position = Vector3(-1.01031e-05, 3.45908, 3.62009e-06)
bones/15/position = Vector3(-2.82604, 11.9926, 0.314971)
bones/15/rotation = Quaternion(0.332846, 0.00107744, 0.0195846, 0.942777)
bones/16/position = Vector3(-3.50716e-06, 3.89196, 4.88272e-07)
bones/16/rotation = Quaternion(0.451057, -0.0924125, -0.0390397, 0.886839)
bones/17/position = Vector3(-1.2649e-06, 3.41516, 3.44107e-09)
bones/17/rotation = Quaternion(0.32533, -0.0421644, -0.00664822, 0.944637)
bones/18/position = Vector3(-4.39138e-07, 3.078, 8.10733e-06)
bones/19/position = Vector3(-0.0280959, 12.64, 0.484969)
bones/19/rotation = Quaternion(0.332845, 0.00107908, 0.0195802, 0.942778)
bones/20/position = Vector3(1.6769e-06, 3.61396, 1.09407e-05)
bones/20/rotation = Quaternion(0.451059, -0.0924111, -0.0390342, 0.886839)
bones/21/position = Vector3(0.0214792, 3.57819, 0.298666)
bones/21/rotation = Quaternion(0.32533, -0.0421653, -0.00664815, 0.944637)
bones/22/position = Vector3(-3.03975e-05, 3.68021, -1.40721e-06)
bones/23/position = Vector3(2.20945, 12.2409, 0.107092)
bones/23/rotation = Quaternion(0.332845, 0.00107752, 0.0195846, 0.942778)
bones/24/position = Vector3(1.02952e-06, 3.60118, -8.8596e-06)
bones/24/rotation = Quaternion(0.451057, -0.0924116, -0.0390417, 0.886839)
bones/25/position = Vector3(3.68422e-06, 3.30733, -2.95784e-07)
bones/25/rotation = Quaternion(0.32533, -0.0421628, -0.00664792, 0.944637)
bones/27/position = Vector3(4.76512, 11.2238, -0.459043)
bones/27/rotation = Quaternion(0.332847, 0.00103232, 0.0197131, 0.942774)
bones/28/position = Vector3(-6.01671e-07, 4.13665, 3.87598e-06)
bones/28/rotation = Quaternion(0.451062, -0.0923725, -0.0393611, 0.886826)
bones/29/position = Vector3(-2.21873e-06, 2.59482, 1.40102e-06)
bones/29/rotation = Quaternion(0.325344, -0.0420917, -0.00643035, 0.944637)
bones/30/position = Vector3(1.61577e-06, 2.92387, -9.35291e-06)
bones/31/rotation = Quaternion(0.57971, -0.452536, 0.505142, 0.45164)
bones/32/position = Vector3(6.02669e-07, 12.9223, 3.12811e-05)
bones/32/rotation = Quaternion(0.215238, -0.498808, -0.171278, 0.821905)
bones/33/position = Vector3(9.58176e-06, 27.4047, 6.75212e-07)
bones/33/rotation = Quaternion(-0.0937802, 0.156515, -0.795831, 0.577375)
bones/34/position = Vector3(5.48779e-06, 27.6145, 4.3867e-07)
bones/34/rotation = Quaternion(0.291463, 0.109848, 0.0659374, 0.947964)
bones/35/rotation = Quaternion(0.251896, 0.0594639, -0.221924, 0.940086)
bones/36/position = Vector3(1.46031e-05, 4.74495, -6.80754e-06)
bones/36/rotation = Quaternion(7.69705e-06, -1.23668e-07, -6.66827e-07, 1)
bones/37/position = Vector3(-7.74854e-06, 4.38214, 3.38425e-05)
bones/38/position = Vector3(1.446e-05, 3.45907, -2.63537e-05)
bones/39/position = Vector3(2.8216, 12.2518, 0.269641)
bones/39/rotation = Quaternion(-0.0230215, -0.12408, -0.198237, 0.971996)
bones/40/position = Vector3(-1.1496e-06, 3.89197, -5.76842e-08)
bones/40/rotation = Quaternion(0.00717315, 0.247708, 0.0236208, 0.96852)
bones/41/position = Vector3(-0.0356637, 3.18993, 0.521583)
bones/41/rotation = Quaternion(0.0539371, 0.0426329, 0.0104896, 0.997579)
bones/42/position = Vector3(3.25589e-06, 3.07799, 1.07334e-06)
bones/43/position = Vector3(0.000904694, 12.2513, 0.835535)
bones/44/position = Vector3(-2.33495e-06, 3.61397, 1.33322e-05)
bones/44/rotation = Quaternion(0.406754, 0.0937929, -0.0314836, 0.908165)
bones/45/position = Vector3(-0.0232953, 3.56527, 0.402708)
bones/45/rotation = Quaternion(0.256322, -0.00392594, 0.0158297, 0.966454)
bones/46/position = Vector3(2.99399e-05, 3.68019, -4.09499e-06)
bones/47/position = Vector3(-2.22008, 12.0455, 0.257927)
bones/47/rotation = Quaternion(0.694863, 0.0388502, 0.0236426, 0.717703)
bones/48/position = Vector3(-9.30491e-06, 3.6012, 4.29272e-06)
bones/48/rotation = Quaternion(0.406754, 0.0937932, -0.0314765, 0.908165)
bones/49/position = Vector3(-5.58954e-06, 3.30732, -4.58218e-06)
bones/49/rotation = Quaternion(0.256322, -0.00392772, 0.0158298, 0.966454)
bones/50/position = Vector3(3.01365e-05, 3.66012, 4.02804e-06)
bones/51/position = Vector3(-4.7228, 11.5487, -0.915092)
bones/52/position = Vector3(-1.58754e-05, 4.13664, -3.49946e-08)
bones/53/position = Vector3(-1.39891e-05, 2.59484, 6.36169e-06)
bones/53/rotation = Quaternion(0.256323, -0.00392717, 0.0158193, 0.966454)
bones/54/position = Vector3(-5.77799e-06, 2.92388, -8.15479e-06)
bones/55/rotation = Quaternion(2.03257e-05, -0.00635018, 0.999976, -0.00296964)
bones/56/rotation = Quaternion(-0.0181143, 0.000182681, -0.00592014, 0.999818)
bones/57/rotation = Quaternion(0.54055, 0.0143664, 0.0249511, 0.840819)
bones/58/rotation = Quaternion(0.227692, -0.0325216, -0.0153655, 0.973069)
bones/60/rotation = Quaternion(-1.82097e-05, -0.0063338, 0.999975, 0.00305746)
bones/61/rotation = Quaternion(-0.0181471, -0.000182844, 0.00592015, 0.999818)
bones/62/rotation = Quaternion(0.540564, -0.014366, -0.0249513, 0.84081)
bones/63/rotation = Quaternion(0.227709, 0.0321196, 0.0152579, 0.97308)

[node name="Hips" parent="Mannequin/Mannequin/Skeleton3D" index="2"]
transform = Transform3D(-1, 8.78096e-05, 3.02004e-06, 8.78096e-05, 1, 4.95416e-08, -3.02004e-06, 4.98068e-08, -1, 6.75717e-06, 99.7919, -4.09133e-05)

[node name="Stomach" parent="Mannequin/Mannequin/Skeleton3D" index="3"]
transform = Transform3D(-1, 9.90146e-05, 1.44251e-05, 0.000100044, 0.99194, 0.126711, -1.76256e-06, 0.126711, -0.99194, 1.47407e-05, 109.715, 1.22729)

[node name="Chest" parent="Mannequin/Mannequin/Skeleton3D" index="4"]
transform = Transform3D(-1, 8.03879e-05, 1.43297e-05, 8.16418e-05, 0.987493, 0.157665, -1.47609e-06, 0.157665, -0.987493, 0.00117638, 121.353, 2.71387)

[node name="Neck" parent="Mannequin/Mannequin/Skeleton3D" index="5"]
transform = Transform3D(-1, 8.77985e-05, -3.18406e-07, 8.76352e-05, 0.998349, 0.0574389, 5.36093e-06, 0.0574389, -0.998349, 0.00355235, 149.697, 4.82179)

[node name="Head" parent="Mannequin/Mannequin/Skeleton3D" index="6"]
transform = Transform3D(-1, 8.77801e-05, -3.18433e-07, 8.72084e-05, 0.993888, 0.110395, 1.0007e-05, 0.110395, -0.993888, 0.00445494, 160.182, 2.27743)

[node name="L_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="7"]
transform = Transform3D(-0.20201, -0.180422, 0.962621, 0.594173, -0.803918, -0.0259864, 0.778557, 0.566714, 0.269601, -18.7725, 141.627, 3.24725)

[node name="L_Forearm" parent="Mannequin/Mannequin/Skeleton3D" index="8"]
transform = Transform3D(0.906797, 0.0677837, -0.416081, 0.419304, -0.247147, 0.873558, -0.0436203, -0.966604, -0.252534, -23.7169, 119.596, 18.7779)

[node name="L_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="9"]
transform = Transform3D(0.950916, 0.145171, -0.273283, 0.305571, -0.301149, 0.903292, 0.0488325, -0.942462, -0.330728, -21.845, 112.771, -7.9144)

[node name="R_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="10"]
transform = Transform3D(-0.654429, 0.734289, -0.180398, -0.65061, -0.668409, -0.360467, -0.385266, -0.118531, 0.915161, 18.7849, 141.472, 3.60993)

[node name="R_Forearm" parent="Mannequin/Mannequin/Skeleton3D" index="11"]
transform = Transform3D(-0.484085, -0.726468, -0.487756, 0.850613, -0.259949, -0.457039, 0.205232, -0.636137, 0.74378, 38.9078, 123.154, 0.361615)

[node name="R_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="12"]
transform = Transform3D(-0.522694, -0.8438, -0.121622, 0.851163, -0.52457, -0.0186309, -0.0480783, -0.113258, 0.992402, 18.8468, 115.976, -17.205)

[node name="GunTransform" parent="Mannequin/Mannequin/Skeleton3D/R_Hand" index="1"]
remote_path = NodePath("../../../../../Weapons")

[node name="L_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="13"]
transform = Transform3D(0.999982, -0.00602672, -7.64613e-05, -0.0060272, -0.999901, -0.0126999, 8.4804e-08, 0.0127001, -0.999919, -9.12445, 93.1355, 0.0553351)

[node name="L_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="14"]
transform = Transform3D(0.999983, 0.00581173, 0.000285066, 0.00581872, -0.998786, -0.0489113, 4.60248e-07, 0.0489122, -0.998803, -9.36913, 52.5401, 0.570952)

[node name="L_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="15"]
transform = Transform3D(0.99866, -0.0237592, 0.0459725, -0.0517491, -0.458513, 0.88718, 2.52854e-07, -0.88837, -0.459128, -9.12446, 10.4922, 2.63011)

[node name="R_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="16"]
transform = Transform3D(0.999982, 0.0060267, 7.70567e-05, 0.00602719, -0.999902, -0.0126671, 7.08092e-07, 0.0126674, -0.99992, 9.12445, 93.1355, 0.0553383)

[node name="R_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="17"]
transform = Transform3D(0.999983, -0.00581177, -0.000284791, -0.00581875, -0.998785, -0.0489441, 7.97445e-09, 0.048945, -0.998802, 9.36913, 52.54, 0.569627)

[node name="R_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="18"]
transform = Transform3D(0.99866, 0.0237596, -0.0459722, 0.051749, -0.458513, 0.88718, 1.76718e-07, -0.88837, -0.459128, 9.12446, 10.4922, 2.63016)

[node name="AnimTree" parent="Mannequin" index="2"]
active = false
parameters/Run/Weapon/blend_amount = 0.0

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(-0.52261, -0.843657, -0.121607, 0.851026, -0.524481, -0.0186285, -0.0480706, -0.113239, 0.992285, 0.188468, 1.15976, -0.17205)

[node name="Slapper" parent="Weapons" instance=ExtResource("2_e1vp6")]
visible = false

[node name="Pistol" parent="Weapons" instance=ExtResource("3_igi5e")]
transform = Transform3D(0, 1, -4.37114e-08, 4.37114e-08, -4.37114e-08, -1, -1, 0, -4.37114e-08, 0.0272936, 0.089157, 0.0266681)
visible = false

[node name="SMG" parent="Weapons" instance=ExtResource("4_a7f61")]
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("5_nv5n8")]
transform = Transform3D(-8.88178e-16, 0.957797, -0.287444, 4.37114e-08, -0.287444, -0.957798, -1, -1.25646e-08, -4.18667e-08, 0.015795, 0.103196, 0.0286223)

[node name="Shotgun" parent="Weapons" instance=ExtResource("6_8xy63")]
visible = false

[node name="Sniper" parent="Weapons" instance=ExtResource("7_rtaje")]
visible = false

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="Camera" type="Camera3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.97237, 0.233445, 0, -0.233445, 0.97237, 0, 0.5, 0.75)
visible = false
cull_mask = 1048551

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
visible = false
target_position = Vector3(0, 0, -999)
collision_mask = 9
hit_back_faces = false
collide_with_areas = true

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("9_hj0ir")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("10_n02aa")
bus = &"SFX"

[node name="Footsteps" type="Node3D" parent="."]
script = ExtResource("11_ntang")

[node name="Footsteps1" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("12_8kevp")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps2" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("13_xgngd")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps3" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("14_df48h")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Hips/HipsArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Stomach/StomachArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Neck/NeckArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Head/HeadArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Foot/FootArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Foot/FootArea" to="." method="take_damage"]

[editable path="Mannequin"]
[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/SMG"]
[editable path="Weapons/SMG/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="Weapons/Shotgun"]
[editable path="Weapons/Sniper"]
