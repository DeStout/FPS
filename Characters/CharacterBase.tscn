[gd_scene load_steps=16 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_bax7o"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Weapons/Slapper/Slapper.tscn" id="2_26305"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Weapons/Pistol/Pistol.tscn" id="3_c6pft"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Weapons/Rifle/Rifle.tscn" id="4_7rqvl"]
[ext_resource type="Script" path="res://Characters/Voice.gd" id="4_8ihun"]
[ext_resource type="PackedScene" uid="uid://dh23vd3s1cpss" path="res://Props/Weapons/SMG/SMG.tscn" id="4_bxvtu"]
[ext_resource type="PackedScene" uid="uid://barsvh0ntyosw" path="res://Props/Weapons/Shotgun/Shotgun.tscn" id="5_gqd55"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Weapons/Slapper/Slap.ogg" id="5_tm5o4"]
[ext_resource type="PackedScene" uid="uid://bj70y5rv73685" path="res://Characters/PuppetBase.tscn" id="6_7o0ro"]
[ext_resource type="AudioStream" uid="uid://b56r0e1ges6xc" path="res://Characters/Audio/footstep1.ogg" id="9_4go11"]
[ext_resource type="Script" path="res://RandomAudio.gd" id="9_druge"]
[ext_resource type="AudioStream" uid="uid://doju4xf4dtgt" path="res://Characters/Audio/footstep2.ogg" id="10_i4x8w"]
[ext_resource type="AudioStream" uid="uid://brbwtdst5aopq" path="res://Characters/Audio/footstep3.ogg" id="11_ccipe"]
[ext_resource type="AudioStream" uid="uid://cxbr801up84rw" path="res://Characters/Audio/footstep4.ogg" id="12_hl0ln"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_bax7o")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(0.850801, -0.0730459, 0.520387, -0.234324, 0.833648, 0.500123, -0.470351, -0.547444, 0.692152, 0.166415, 1.4492, -0.376917)

[node name="Slapper" parent="Weapons" instance=ExtResource("2_26305")]
transform = Transform3D(-0.224442, -0.501342, 0.835634, -0.399893, 0.829368, 0.390176, -0.888659, -0.246592, -0.386628, 0.00662899, -0.0015403, 0.0135412)
visible = false

[node name="Pistol" parent="Weapons" instance=ExtResource("3_c6pft")]
transform = Transform3D(0.907643, -0.419078, 0.0236713, 0.0267876, 0.00155281, -0.99964, 0.41889, 0.90795, 0.0126354, -0.0382926, -0.0126591, 0.00222373)
visible = false

[node name="SMG" parent="Weapons" instance=ExtResource("4_bxvtu")]
transform = Transform3D(0.898794, -0.438371, 1.11759e-08, 9.31323e-09, -4.48199e-08, -1, 0.438371, 0.898794, -3.81842e-08, -0.033591, -0.0112215, -0.00850368)
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("4_7rqvl")]
transform = Transform3D(0.873686, -0.485679, 0.0280673, 0.0243102, -0.0140355, -0.999606, 0.485882, 0.874024, -0.000455644, -0.0376089, -0.0336642, 0.0125195)
visible = false

[node name="Shotgun" parent="Weapons" instance=ExtResource("5_gqd55")]
transform = Transform3D(0.877343, -0.479192, 0.0253764, 0.0240809, -0.00885019, -0.999671, 0.479259, 0.877665, 0.00377468, -0.044263, -0.00856596, 0.0186746)
visible = false

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="Camera" type="Camera3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.97237, 0.233445, 0, -0.233445, 0.97237, 0, 0.5, 0.75)
cull_mask = 1048551

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
target_position = Vector3(0, 0, -999)
collision_mask = 9
hit_back_faces = false
collide_with_areas = true

[node name="Puppet" parent="." instance=ExtResource("6_7o0ro")]

[node name="Skeleton3D" parent="Puppet" index="2"]
bones/1/position = Vector3(-1.11966e-09, 0.889966, -0.0641973)
bones/2/rotation = Quaternion(-0.1393, 0.000855339, 0.00275247, 0.990246)
bones/4/rotation = Quaternion(0.0869124, 0.0131852, 0.0183587, 0.99596)
bones/5/rotation = Quaternion(-0.0174661, -0.000110024, -0.000661574, 0.999847)
bones/7/rotation = Quaternion(-0.182469, 0.252645, -0.493235, 0.812154)
bones/8/rotation = Quaternion(0.260306, 0.0351969, -0.0506837, 0.963552)
bones/9/rotation = Quaternion(-0.0187913, -0.333911, -0.0118613, 0.942343)
bones/11/rotation = Quaternion(-0.138317, -0.0286758, 0.155554, 0.977675)
bones/14/rotation = Quaternion(0.0629955, -0.171239, -0.0825631, 0.979741)
bones/17/rotation = Quaternion(-0.310261, -0.0316354, 0.266054, 0.912115)
bones/20/rotation = Quaternion(0.186203, 0.107049, 0.516513, 0.828905)
bones/21/rotation = Quaternion(0.702595, -0.0254888, 0.136804, 0.697851)
bones/22/rotation = Quaternion(0.155239, 0.246294, -0.0561641, 0.955032)
bones/24/rotation = Quaternion(-0.138223, 0.0458764, -0.143575, 0.978865)
bones/25/rotation = Quaternion(-0.0653725, 0.0102975, 0.0287086, 0.997395)
bones/27/rotation = Quaternion(0.0992348, 0.158898, 0.109275, 0.976198)
bones/28/rotation = Quaternion(0.0855187, -0.135729, -0.0622418, 0.985084)
bones/30/rotation = Quaternion(-0.532155, -0.388731, 0.595173, 0.459857)
bones/33/rotation = Quaternion(-0.583537, 0.212126, -0.176903, 0.76367)
bones/34/rotation = Quaternion(-0.0998691, 0.00385178, 0.153008, 0.983158)
bones/35/rotation = Quaternion(0.271342, -0.130796, -0.636586, 0.709946)
bones/38/rotation = Quaternion(-0.523048, -0.0542379, 0.338768, 0.780202)
bones/39/rotation = Quaternion(-0.139903, -0.00378721, -0.214344, 0.96668)
bones/40/rotation = Quaternion(0.226105, 0.128049, 0.521886, 0.812475)

[node name="Head" parent="Puppet/Skeleton3D" index="1"]
transform = Transform3D(-0.999994, -0.00346895, 0.000445575, -0.00348949, 0.980996, -0.193995, 0.000235852, -0.193996, -0.981002, -0.000566066, 1.56965, -0.0443394)

[node name="Neck" parent="Puppet/Skeleton3D" index="2"]
transform = Transform3D(-0.999998, -0.00213217, 0.000323338, -0.00214971, 0.973626, -0.228141, 0.000171624, -0.228141, -0.973628, -0.00042921, 1.50716, -0.0296959)

[node name="Chest" parent="Puppet/Skeleton3D" index="3"]
transform = Transform3D(-0.999983, 0.00568964, -0.00092753, 0.0054227, 0.982992, 0.183569, 0.0019562, 0.183561, -0.983006, -2.02626e-09, 1.12813, -0.0868667)

[node name="Stomach" parent="Puppet/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78941e-09, -3.89234e-07, 3.31093e-08, 0.995501, -0.0947544, 3.87842e-07, -0.0947544, -0.995501, -1.11966e-09, 0.889966, -0.0641973)

[node name="R_UpperArm" parent="Puppet/Skeleton3D" index="5"]
transform = Transform3D(0.986628, 0.158661, -0.0373169, 0.143014, -0.732885, 0.665151, 0.0781846, -0.661594, -0.745776, 0.194665, 1.39035, -0.0358102)

[node name="R_Forearm" parent="Puppet/Skeleton3D" index="6"]
transform = Transform3D(0.964526, -0.263976, -0.00255139, 0.175318, 0.633297, 0.75379, -0.197366, -0.727497, 0.657111, 0.227773, 1.23741, -0.173866)

[node name="R_Hand" parent="Puppet/Skeleton3D" index="7"]
transform = Transform3D(0.850801, -0.0730459, 0.520387, -0.234324, 0.833648, 0.500123, -0.470352, -0.547444, 0.692152, 0.173581, 1.36743, -0.323217)

[node name="GunTransform" parent="Puppet/Skeleton3D/R_Hand" index="1"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, -2.98023e-08, 5.96046e-08, 0, 1, 0, 0.0980922, -5.96046e-08)
remote_path = NodePath("../../../../Weapons")

[node name="L_UpperArm" parent="Puppet/Skeleton3D" index="8"]
transform = Transform3D(0.977567, -0.189904, 0.0910966, -0.15354, -0.938594, -0.308976, 0.144179, 0.288058, -0.946697, -0.195256, 1.3899, -0.0357754)

[node name="L_Forearm" parent="Puppet/Skeleton3D" index="9"]
transform = Transform3D(0.976609, -0.00442556, 0.214978, -0.0487845, -0.978277, 0.201481, 0.209416, -0.207256, -0.95561, -0.234884, 1.19404, 0.0243342)

[node name="L_Hand" parent="Puppet/Skeleton3D" index="10"]
transform = Transform3D(0.893985, 0.0237558, -0.447466, 0.0985858, -0.984553, 0.144693, -0.437117, -0.173468, -0.882518, -0.235793, 0.993206, -0.0182139)

[node name="R_Thigh" parent="Puppet/Skeleton3D" index="11"]
transform = Transform3D(0.487977, 0.0617443, 0.87067, -0.313101, -0.918729, 0.240634, 0.814768, -0.390031, -0.428986, 0.0851499, 0.872477, -0.0593682)

[node name="R_Shin" parent="Puppet/Skeleton3D" index="12"]
transform = Transform3D(0.476196, 0.0223027, 0.879056, 0.111623, -0.993124, -0.0352706, 0.872226, 0.114918, -0.475411, 0.111092, 0.486463, -0.223244)

[node name="R_Foot" parent="Puppet/Skeleton3D" index="13"]
transform = Transform3D(0.245939, 0.0720782, 0.966602, -0.853541, -0.456466, 0.25121, 0.459327, -0.886817, -0.0507408, 0.119461, 0.113836, -0.180126)

[node name="L_Thigh" parent="Puppet/Skeleton3D" index="14"]
transform = Transform3D(0.498034, -0.0536583, -0.865496, -0.0856421, -0.996248, 0.0124834, -0.862918, 0.0679056, -0.500761, -0.0851499, 0.872476, -0.0593682)

[node name="L_Shin" parent="Puppet/Skeleton3D" index="15"]
transform = Transform3D(0.491603, -0.0313576, -0.870255, -0.381073, -0.906332, -0.182609, -0.783013, 0.421402, -0.457505, -0.107695, 0.453893, -0.030837)

[node name="L_Foot" parent="Puppet/Skeleton3D" index="16"]
transform = Transform3D(0.245938, -0.0720759, -0.966602, 0.853542, -0.456465, 0.251209, -0.459326, -0.886817, -0.0507426, -0.119461, 0.113831, 0.127276)

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("4_8ihun")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("5_tm5o4")
bus = &"SFX"

[node name="Footsteps" type="Node3D" parent="."]
script = ExtResource("9_druge")

[node name="Footsteps1" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("9_4go11")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps2" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("10_i4x8w")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps3" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("11_ccipe")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps4" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("12_hl0ln")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[connection signal="take_damage" from="Puppet/Skeleton3D/Head/HeadArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/Neck/NeckArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/Chest/ChestArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/Stomach/StomachArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/R_UpperArm/R_UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/R_Forearm/R_ForearmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/R_Hand/R_HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/L_UpperArm/L_UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/L_Forearm/L_ForearmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/L_Hand/L_HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/R_Thigh/R_ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/R_Shin/R_ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/R_Foot/R_FootArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/L_Thigh/L_ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/L_Shin/L_ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Puppet/Skeleton3D/L_Foot/L_FootArea" to="." method="take_damage"]

[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/SMG"]
[editable path="Weapons/SMG/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="Weapons/Shotgun"]
[editable path="Puppet"]
