[gd_scene load_steps=14 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_2ivhj"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Pistol.tscn" id="2_0n5ny"]
[ext_resource type="PackedScene" uid="uid://cmdilq5ptgg8g" path="res://Characters/PuppetBase.tscn" id="2_hk3ry"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Rifle.tscn" id="3_radhw"]
[ext_resource type="AudioStream" uid="uid://dorffy05scj1f" path="res://Characters/Death.ogg" id="3_rmkl3"]
[ext_resource type="AudioStream" uid="uid://b6xaykxcxbnky" path="res://Characters/Hurt1.ogg" id="4_diix5"]
[ext_resource type="AudioStream" uid="uid://cxb302ihv2n7h" path="res://Characters/Hurt2.ogg" id="5_brm8y"]
[ext_resource type="AudioStream" uid="uid://3m7adjbyrt67" path="res://Characters/Reuben_ImDying.ogg" id="5_q51va"]
[ext_resource type="AudioStream" uid="uid://wdi4vhf1xuc0" path="res://Characters/Reuben_Ow.ogg" id="5_xiyfn"]
[ext_resource type="AudioStream" uid="uid://baa48amuq07d8" path="res://Characters/Autumn_Dying.ogg" id="6_jyhq2"]
[ext_resource type="AudioStream" uid="uid://de1gfib320d8u" path="res://Characters/Autumn_Ow.ogg" id="6_okrld"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ulpgl"]
albedo_color = Color(0.839216, 0.6, 0.466667, 1)
subsurf_scatter_enabled = true
subsurf_scatter_strength = 1.0
subsurf_scatter_skin_mode = true

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_2ivhj")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
target_position = Vector3(0, 0, -99)
collision_mask = 13
collide_with_areas = true
debug_shape_thickness = 1

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(-0.220676, -0.162205, -0.961765, -0.961582, 0.201261, 0.186691, 0.163283, 0.966014, -0.200387, 0.175287, 1.38143, -0.271706)

[node name="Pistol" parent="Weapons" instance=ExtResource("2_0n5ny")]
transform = Transform3D(-0.249066, -0.429781, 0.867903, -0.310145, 0.884345, 0.348921, -0.917485, -0.182271, -0.353554, -0.0656749, -0.0175465, 0.0636245)
visible = false

[node name="Rifle" parent="Weapons" instance=ExtResource("3_radhw")]
transform = Transform3D(-0.247434, -0.469154, 0.847746, -0.310294, 0.867242, 0.389376, -0.917876, -0.166706, -0.360159, -0.0597211, 0.00324261, 0.0451551)
visible = false

[node name="PuppetBase" parent="." instance=ExtResource("2_hk3ry")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0529786)

[node name="AnimationTree" parent="PuppetBase" index="1"]
active = true
parameters/Idle/UpperIdle/blend_position = Vector2(0, 1)
parameters/Run/UpperRun/blend_position = Vector2(0, 1)

[node name="Skeleton" parent="PuppetBase" index="2"]
bones/1/position = Vector3(1.61993e-09, 0.895875, -0.0641973)
bones/2/rotation = Quaternion(0.0109513, 7.49845e-05, 0.000842995, 0.99994)
bones/4/rotation = Quaternion(0.0100894, 0.000105575, 0.000766609, 0.999949)
bones/5/rotation = Quaternion(0.0134069, 0.000121519, 0.00102419, 0.99991)
bones/7/rotation = Quaternion(0.00931719, 0.881627, 0.269781, 0.387124)
bones/8/rotation = Quaternion(-0.0180854, -0.723644, -0.0175625, 0.689712)
bones/9/rotation = Quaternion(-0.393497, 0.729273, 0.145978, 0.540381)
bones/10/rotation = Quaternion(2.38419e-07, -2.98023e-08, -1.19209e-07, 1)
bones/11/rotation = Quaternion(0.0323122, -0.0149716, -0.0734442, 0.996663)
bones/12/rotation = Quaternion(-5.96047e-08, -2.38419e-07, 2.38419e-07, 1)
bones/14/rotation = Quaternion(0.00326127, 0.00580931, -0.00302703, 0.999973)
bones/15/rotation = Quaternion(-5.96046e-08, 5.96046e-08, 1.78814e-07, 1)
bones/16/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/17/rotation = Quaternion(0.337552, 0.0690881, 0.0423448, 0.937813)
bones/18/rotation = Quaternion(-0.0177395, 0.184228, 0.00458947, 0.982713)
bones/20/rotation = Quaternion(-0.137006, 0.94927, 0.250781, 0.13124)
bones/21/rotation = Quaternion(0.243693, 0.395574, -0.23689, 0.85324)
bones/22/rotation = Quaternion(-0.265424, -0.831697, -0.123181, 0.471864)
bones/23/rotation = Quaternion(5.96046e-08, -5.96046e-08, 1.78814e-07, 1)
bones/24/rotation = Quaternion(0.0101539, 0.0227677, 0.0628905, 0.997709)
bones/25/rotation = Quaternion(-0.00136969, -0.020957, 0.00537893, 0.999765)
bones/27/rotation = Quaternion(-0.00564026, -0.01349, -0.0380003, 0.999171)
bones/28/rotation = Quaternion(0.00577012, -0.0402211, 0.00903357, 0.999133)
bones/29/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/30/rotation = Quaternion(-0.347497, 0.488322, -0.549943, 0.581678)
bones/31/rotation = Quaternion(-0.0929818, 0.136922, -0.113451, 0.979661)
bones/33/rotation = Quaternion(-0.139039, 0.0912957, 0.985888, -0.0189492)
bones/34/rotation = Quaternion(-0.00511581, 0.999881, 0.014506, 0.000902003)
bones/35/rotation = Quaternion(0.0820599, 0.771305, -0.620953, 0.113019)
bones/38/rotation = Quaternion(0.133293, -0.145743, 0.980144, -0.0175925)
bones/39/rotation = Quaternion(0.0348131, 0.994488, 0.0987159, -0.00613777)
bones/40/rotation = Quaternion(-0.0887536, 0.669564, -0.731297, -0.0949236)
bones/41/rotation = Quaternion(-4.21469e-08, 1, 5.96047e-08, -1.26441e-07)

[node name="Body" parent="PuppetBase/Skeleton" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_ulpgl")

[node name="Head" parent="PuppetBase/Skeleton" index="1"]
transform = Transform3D(0.999986, -0.00524378, 0.000785408, 0.00528541, 0.997614, -0.0688403, -0.00042255, 0.0688435, 0.997627, -0.000837385, 1.57535, -0.0407892)

[node name="Neck" parent="PuppetBase/Skeleton" index="2"]
transform = Transform3D(0.999999, -0.00168425, 0.000168424, 0.00168753, 0.999759, -0.0219012, -0.000131496, 0.0219014, 0.99976, 0.00169872, 1.45672, -0.0242601)

[node name="Chest" parent="PuppetBase/Skeleton" index="3"]
transform = Transform3D(0.999999, -0.00168425, 0.000168424, 0.00168753, 0.999759, -0.0219012, -0.000131496, 0.0219014, 0.99976, 7.13331e-10, 1.13404, -0.0868668)

[node name="Stomach" parent="PuppetBase/Skeleton" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61993e-09, 0.895875, -0.0641973)

[node name="R_UpperArm" parent="PuppetBase/Skeleton" index="5"]
transform = Transform3D(0.194978, -0.837361, -0.510695, -0.337802, 0.431501, -0.836479, 0.920801, 0.335609, -0.198729, 0.194526, 1.396, -0.0339768)

[node name="R_Forearm" parent="PuppetBase/Skeleton" index="6"]
transform = Transform3D(0.692838, -0.644179, 0.32405, 0.37582, -0.0609484, -0.924686, 0.615414, 0.762442, 0.199868, 0.229913, 1.24891, -0.177708)

[node name="R_Hand" parent="PuppetBase/Skeleton" index="7"]
transform = Transform3D(-0.220676, -0.162205, -0.961765, -0.961582, 0.201261, 0.186691, 0.163283, 0.966014, -0.200387, 0.175287, 1.38143, -0.324684)

[node name="GunTransform" parent="PuppetBase/Skeleton/R_Hand" index="1"]
remote_path = NodePath("../../../../Weapons")

[node name="L_UpperArm" parent="PuppetBase/Skeleton" index="8"]
transform = Transform3D(0.226329, 0.853416, 0.469528, -0.661694, 0.488446, -0.568842, -0.714798, -0.181939, 0.67525, -0.195395, 1.39534, -0.0339256)

[node name="L_Forearm" parent="PuppetBase/Skeleton" index="9"]
transform = Transform3D(0.459801, 0.863959, -0.205325, -0.535514, 0.454208, 0.711983, 0.708385, -0.217416, 0.671507, -0.236173, 1.20022, 0.0277947)

[node name="L_Hand" parent="PuppetBase/Skeleton" index="10"]
transform = Transform3D(-0.223006, 0.266755, 0.937609, -0.775062, 0.534829, -0.336507, -0.591225, -0.801748, 0.0874813, -0.238647, 0.998837, -0.0120241)

[node name="R_Thigh" parent="PuppetBase/Skeleton" index="11"]
transform = Transform3D(-0.963847, -0.00436663, 0.266421, -0.0733394, -0.956899, -0.281008, 0.256165, -0.290388, 0.921984, 0.0851499, 0.878386, -0.0593682)

[node name="R_Shin" parent="PuppetBase/Skeleton" index="12"]
transform = Transform3D(0.966225, -0.0199819, -0.256926, 0.00269578, -0.996151, 0.0876117, -0.257687, -0.0853452, -0.962452, 0.110138, 0.487601, -0.211676)

[node name="R_Foot" parent="PuppetBase/Skeleton" index="13"]
transform = Transform3D(-1, -1.04308e-07, -3.31551e-07, -3.55765e-07, 8.56817e-07, 1, -5.96046e-08, 1, -7.00355e-07, 0.11946, 0.113839, -0.180125)

[node name="L_Thigh" parent="PuppetBase/Skeleton" index="14"]
transform = Transform3D(-0.960618, 0.0119761, -0.277614, -0.062751, -0.982612, 0.174745, -0.270695, 0.185284, 0.944666, -0.0851499, 0.878386, -0.0593682)

[node name="L_Shin" parent="PuppetBase/Skeleton" index="15"]
transform = Transform3D(0.960986, 0.0137725, 0.276255, 0.0724333, -0.976436, -0.203289, 0.266945, 0.215368, -0.939339, -0.106578, 0.461247, -0.0138597)

[node name="L_Foot" parent="PuppetBase/Skeleton" index="16"]
transform = Transform3D(-1, -8.9407e-08, -3.05474e-07, -3.05474e-07, -2.38419e-07, 1, -1.19209e-07, 1, 3.42727e-07, -0.11946, 0.113835, 0.127275)

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="HurtSFX" type="Node3D" parent="."]

[node name="HurtSFX_Reuben" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_xiyfn")
volume_db = 4.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX_Autumn" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("6_okrld")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0
panning_strength = 0.5

[node name="HurtSFX_De1" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("4_diix5")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX2_De2" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_brm8y")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="DeathSFX" type="Node3D" parent="."]

[node name="DeathSFX_Reuben" type="AudioStreamPlayer3D" parent="DeathSFX"]
process_mode = 1
stream = ExtResource("5_q51va")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0

[node name="DeathSFX_Autumn" type="AudioStreamPlayer3D" parent="DeathSFX"]
process_mode = 1
stream = ExtResource("6_jyhq2")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0

[node name="Death_SFX_De" type="AudioStreamPlayer3D" parent="DeathSFX"]
process_mode = 1
stream = ExtResource("3_rmkl3")
unit_size = 5.0
max_db = 0.0

[connection signal="take_damage" from="PuppetBase/Skeleton/Head/HeadArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Neck/NeckArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Chest/ChestArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/Stomach/StomachArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_UpperArm/R_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Forearm/R_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Hand/R_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_UpperArm/L_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Forearm/L_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Hand/L_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Thigh/R_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Shin/R_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/R_Foot/R_FootArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Thigh/L_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Shin/L_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetBase/Skeleton/L_Foot/L_FootArea" to="." method="_take_damage"]

[editable path="PuppetBase"]
