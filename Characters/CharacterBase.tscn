[gd_scene load_steps=11 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="PackedScene" uid="uid://dmcns46qj2v0" path="res://Characters/PuppetBase.tscn" id="1_1iwo3"]
[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_2ivhj"]
[ext_resource type="AudioStream" uid="uid://dorffy05scj1f" path="res://Characters/Death.ogg" id="3_rmkl3"]
[ext_resource type="AudioStream" uid="uid://b6xaykxcxbnky" path="res://Characters/Hurt1.ogg" id="4_diix5"]
[ext_resource type="AudioStream" uid="uid://cxb302ihv2n7h" path="res://Characters/Hurt2.ogg" id="5_brm8y"]
[ext_resource type="AudioStream" uid="uid://3m7adjbyrt67" path="res://Characters/Reuben_ImDying.ogg" id="5_q51va"]
[ext_resource type="AudioStream" uid="uid://wdi4vhf1xuc0" path="res://Characters/Reuben_Ow.ogg" id="5_xiyfn"]
[ext_resource type="AudioStream" uid="uid://baa48amuq07d8" path="res://Characters/Autumn_Dying.ogg" id="6_jyhq2"]
[ext_resource type="AudioStream" uid="uid://de1gfib320d8u" path="res://Characters/Autumn_Ow.ogg" id="6_okrld"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D"]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_2ivhj")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65573, -0.058521)

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.105338)
target_position = Vector3(0, 0, -99)
collide_with_areas = true
debug_shape_thickness = 1

[node name="Weapons" type="Node3D" parent="AimHelper"]

[node name="PuppetAnimations" parent="." instance=ExtResource("1_1iwo3")]

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(-7.75525e-10, 0.879604, -0.0641972)
bones/1/rotation = Quaternion(7.33823e-09, 0.998875, -0.0474305, -1.94488e-07)
bones/2/rotation = Quaternion(-0.132908, 0.000763439, 0.00332784, 0.991123)
bones/4/rotation = Quaternion(0.0921108, 0.0133146, 0.018792, 0.995482)
bones/5/rotation = Quaternion(-0.00638465, -1.7441e-08, 5.40097e-08, 0.99998)
bones/7/rotation = Quaternion(-0.263898, 0.158716, -0.448151, 0.839242)
bones/8/rotation = Quaternion(0.325279, 0.0344379, -0.063336, 0.942866)
bones/10/rotation = Quaternion(0.204714, 0.153523, 0.508458, 0.822188)
bones/11/rotation = Quaternion(0.514028, -0.0310951, 0.100088, 0.851346)
bones/12/position = Vector3(0.266887, -0.111288, -0.0768378)
bones/12/rotation = Quaternion(0.154095, 0.216137, -0.579405, 0.770603)
bones/15/rotation = Quaternion(-0.0716247, -0.0320912, 0.111414, 0.99067)
bones/16/rotation = Quaternion(-0.0728706, -0.00440989, -0.0389535, 0.996571)
bones/21/rotation = Quaternion(0.0612661, -0.169755, -0.0869493, 0.979729)
bones/22/rotation = Quaternion(0.0688571, 0.146545, 0.0441171, 0.985818)
bones/27/rotation = Quaternion(-0.176079, 0.0204277, -0.217908, 0.959737)
bones/28/rotation = Quaternion(0.678899, 0.497763, 0.168787, 0.512679)
bones/29/rotation = Quaternion(0.673207, 0.369976, -0.0512399, 0.638189)
bones/30/position = Vector3(-0.207398, 0.129437, 0.321657)
bones/30/rotation = Quaternion(-0.588483, 0.334534, 0.398529, 0.618829)
bones/33/rotation = Quaternion(-0.125195, 0.0276595, -0.146019, 0.980938)
bones/34/rotation = Quaternion(-0.117604, -0.0172697, 0.137017, 0.983411)
bones/39/rotation = Quaternion(0.089804, 0.167209, 0.113941, 0.975189)
bones/40/rotation = Quaternion(0.017629, -0.161482, 0.0307546, 0.986239)
bones/45/rotation = Quaternion(-0.0361723, -0.0997375, 0.176228, 0.978615)
bones/46/rotation = Quaternion(-0.318184, -0.599818, 0.608155, -0.411247)
bones/47/rotation = Quaternion(0.251456, 0.580049, -0.512639, 0.58096)
bones/49/rotation = Quaternion(-0.576493, 0.195538, -0.197402, 0.76841)
bones/50/rotation = Quaternion(-0.132448, 0.00380088, 0.202922, 0.970189)
bones/52/rotation = Quaternion(-0.512931, -0.0329461, 0.357146, 0.779912)
bones/53/rotation = Quaternion(-0.155049, -0.00375675, -0.237548, 0.958914)
bones/54/position = Vector3(-0.11946, 0.113842, 0.126346)
bones/54/rotation = Quaternion(0.64937, -0.347814, -0.514224, 0.439225)
bones/56/rotation = Quaternion(0.00495412, -0.00577784, -0.163837, 0.986458)
bones/59/position = Vector3(-0.114721, 0.482147, -0.290625)
bones/60/position = Vector3(-0.333795, 1.27993, 0.495487)
bones/60/rotation = Quaternion(0.566484, -0.423523, -0.424356, 0.565373)
bones/61/position = Vector3(0.11946, 0.113841, -0.203503)
bones/61/rotation = Quaternion(0.64937, 0.347814, 0.514224, 0.439225)
bones/63/rotation = Quaternion(0.00495412, 0.00577784, 0.163837, 0.986458)
bones/66/position = Vector3(0.114721, 0.482147, -0.290625)
bones/67/position = Vector3(0.376083, 1.00141, 0.502386)
bones/67/rotation = Quaternion(0.566484, 0.423523, 0.424356, 0.565373)

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-1, -8.35791e-09, -3.86904e-07, 7.95579e-08, 0.971163, -0.238417, 3.77476e-07, -0.238417, -0.971163, -2.21304e-09, 1.55964, -0.0506895)

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, -1.21538e-07, -4.20958e-07, -1.66474e-08, 0.968039, -0.250798, 4.37722e-07, -0.250798, -0.968039, 5.58794e-09, 1.49751, -0.0345918)

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00679963, -0.000629105, 0.00659214, 0.985271, 0.170869, 0.00178169, 0.170861, -0.985293, -1.68211e-09, 1.11777, -0.0868667)

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78938e-09, -3.89234e-07, 3.31093e-08, 0.9955, -0.0947543, 3.87842e-07, -0.0947543, -0.995501, -7.75525e-10, 0.879604, -0.0641972)

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.960926, -0.212708, -0.177135, -0.260151, -0.912602, -0.3154, -0.0945658, 0.349158, -0.93228, -0.194961, 1.3804, -0.0391779)

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.990378, -0.137573, 0.0149793, -0.135419, -0.941149, 0.309677, -0.0285056, -0.308726, -0.950724, -0.239347, 1.18996, 0.0336816)

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.240441, -0.957652, -0.1584, -0.90008, 0.281059, -0.332958, 0.363378, 0.0625157, -0.929542, -0.267589, 0.996754, -0.0296981)

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.984361, 0.176084, 0.00526892, 0.118093, -0.681774, 0.721967, 0.13072, -0.710055, -0.691907, 0.194961, 1.3804, -0.0391778)

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.987936, -0.115138, -0.103567, 0.133618, 0.295663, 0.945901, -0.0782886, -0.948328, 0.307481, 0.231705, 1.23813, -0.187346)

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.45728, 0.887178, 0.0617277, -0.0498286, -0.0948603, 0.994242, 0.887926, 0.451571, 0.0875847, 0.208071, 1.2989, -0.382047)

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.499784, -0.0573957, -0.864246, -0.0397211, -0.998271, 0.043326, -0.865239, 0.012675, -0.5012, -0.0851499, 0.862115, -0.0593681)

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.488899, -0.0271689, -0.871917, -0.431156, -0.876422, -0.214447, -0.758342, 0.480775, -0.440196, -0.109265, 0.442681, -0.0540426)

[node name="L_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="13"]
transform = Transform3D(0.245938, -0.0720784, -0.966602, 0.853542, -0.456465, 0.251209, -0.459326, -0.886817, -0.0507401, -0.11946, 0.113842, 0.126346)

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.484954, 0.0651976, 0.872106, -0.360285, -0.893766, 0.267162, 0.796878, -0.443768, -0.409946, 0.0851499, 0.862115, -0.0593681)

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.471108, 0.0184337, 0.881883, 0.108129, -0.993448, -0.0369977, 0.875423, 0.112787, -0.470014, 0.112543, 0.486589, -0.245822)

[node name="R_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="16"]
transform = Transform3D(0.245938, 0.0720784, 0.966602, -0.853542, -0.456465, 0.251209, 0.459326, -0.886817, -0.0507401, 0.11946, 0.113841, -0.203503)

[node name="AnimationTree" parent="PuppetAnimations" index="2"]
parameters/Idle/IdleUpper_Blend/blend_position = Vector2(-1.37904, 0.10917)

[node name="DmgLbl" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="HurtSFX" type="Node3D" parent="."]

[node name="HurtSFX_Reuben" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_xiyfn")
volume_db = 4.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX_Autumn" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("6_okrld")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0
panning_strength = 0.5

[node name="HurtSFX_De1" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("4_diix5")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX2_De2" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_brm8y")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="DeathSFX" type="Node3D" parent="."]

[node name="DeathSFX_Reuben" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("5_q51va")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0

[node name="DeathSFX_Autumn" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("6_jyhq2")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0

[node name="Death_SFX_De" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("3_rmkl3")
unit_size = 5.0
max_db = 0.0

[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Head/HeadArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Neck/NeckArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Chest/ChestArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Stomach/StomachArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_UpperArm/L_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Forearm/L_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Hand/L_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_UpperArm/R_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Forearm/R_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Hand/R_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Thigh/L_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Shin/L_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Foot/L_FootArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Thigh/R_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Shin/R_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Foot/R_FootArea" to="." method="_take_damage"]

[editable path="PuppetAnimations"]
