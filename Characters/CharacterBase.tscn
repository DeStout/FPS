[gd_scene load_steps=11 format=3 uid="uid://1s5qidco641t"]

[ext_resource type="PackedScene" uid="uid://dmcns46qj2v0" path="res://Characters/PuppetBase.tscn" id="1_1iwo3"]
[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_2ivhj"]
[ext_resource type="AudioStream" uid="uid://dorffy05scj1f" path="res://Characters/Death.ogg" id="3_rmkl3"]
[ext_resource type="AudioStream" uid="uid://b6xaykxcxbnky" path="res://Characters/Hurt1.ogg" id="4_diix5"]
[ext_resource type="AudioStream" uid="uid://cxb302ihv2n7h" path="res://Characters/Hurt2.ogg" id="5_brm8y"]
[ext_resource type="AudioStream" uid="uid://3m7adjbyrt67" path="res://Characters/Reuben_ImDying.ogg" id="5_q51va"]
[ext_resource type="AudioStream" uid="uid://wdi4vhf1xuc0" path="res://Characters/Reuben_Ow.ogg" id="5_xiyfn"]
[ext_resource type="AudioStream" uid="uid://baa48amuq07d8" path="res://Characters/Autumn_Dying.ogg" id="6_jyhq2"]
[ext_resource type="AudioStream" uid="uid://de1gfib320d8u" path="res://Characters/Autumn_Ow.ogg" id="6_okrld"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_2ivhj")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_5yxej")

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
target_position = Vector3(0, 0, -99)
collision_mask = 13
collide_with_areas = true
debug_shape_thickness = 1

[node name="Weapons" type="Node3D" parent="AimHelper"]

[node name="PuppetAnimations" parent="." instance=ExtResource("1_1iwo3")]

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(-6.88948e-10, 0.882219, -0.0641972)
bones/2/rotation = Quaternion(-0.138129, 0.000780962, 0.00332377, 0.990408)
bones/4/rotation = Quaternion(0.0850591, 0.0131812, 0.0188858, 0.99611)
bones/5/rotation = Quaternion(0.00650993, -1.72118e-08, 5.42553e-08, 0.999979)
bones/7/rotation = Quaternion(-0.270028, 0.16802, -0.443998, 0.837687)
bones/8/rotation = Quaternion(0.346916, 0.0341447, -0.0675491, 0.934837)
bones/10/rotation = Quaternion(0.208306, 0.154979, 0.506659, 0.822123)
bones/11/rotation = Quaternion(0.512061, -0.0311399, 0.099705, 0.852574)
bones/12/position = Vector3(0.26644, -0.108135, -0.0757627)
bones/28/rotation = Quaternion(0.676188, 0.496867, 0.171407, 0.516249)
bones/29/rotation = Quaternion(0.669835, 0.370242, -0.0492898, 0.641727)
bones/30/position = Vector3(-0.20777, 0.130935, 0.322832)
bones/30/rotation = Quaternion(-0.579784, 0.336107, 0.399768, 0.625354)
bones/46/rotation = Quaternion(-0.314815, -0.598666, 0.613523, -0.407529)
bones/47/rotation = Quaternion(0.249032, 0.578505, -0.518841, 0.578031)
bones/49/rotation = Quaternion(-0.578069, 0.199136, -0.193, 0.767419)
bones/50/rotation = Quaternion(-0.125236, 0.00381344, 0.191871, 0.973389)
bones/52/rotation = Quaternion(-0.515233, -0.0366442, 0.353326, 0.77997)
bones/53/rotation = Quaternion(-0.148936, -0.00376943, -0.228184, 0.962152)
bones/60/position = Vector3(-0.337362, 1.28229, 0.496584)
bones/60/rotation = Quaternion(0.569455, -0.421281, -0.426581, 0.56238)
bones/67/position = Vector3(0.376082, 0.99709, 0.500283)
bones/67/rotation = Quaternion(0.569455, 0.421281, 0.426581, 0.56238)

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-1, 2.01285e-08, -4.04751e-07, 1.12163e-07, 0.970903, -0.239472, 3.88261e-07, -0.239472, -0.970903, 9.66228e-10, 1.56206, -0.0451505)

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, -8.28877e-08, -4.39584e-07, 1.46683e-08, 0.973938, -0.226811, 4.47035e-07, -0.226811, -0.973939, 6.28643e-09, 1.49955, -0.0305924)

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00679963, -0.0006291, 0.006573, 0.983416, 0.181244, 0.00185106, 0.181236, -0.983438, -1.59554e-09, 1.12039, -0.0868666)

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78937e-09, -3.89234e-07, 3.31092e-08, 0.9955, -0.0947542, 3.87842e-07, -0.0947542, -0.995501, -6.88948e-10, 0.882219, -0.0641972)

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.960566, -0.217274, -0.173506, -0.264266, -0.907431, -0.326698, -0.0864617, 0.359667, -0.929066, -0.194961, 1.3825, -0.0364125)

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.991062, -0.130661, 0.0268945, -0.131964, -0.930762, 0.340979, -0.0195201, -0.341481, -0.939686, -0.2403, 1.19314, 0.03864)

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.240441, -0.957652, -0.1584, -0.90386, 0.280384, -0.323143, 0.353871, 0.0654744, -0.932999, -0.267121, 1.00206, -0.0314634)

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.983945, 0.17846, 0.00191236, 0.119755, -0.668141, 0.734333, 0.132327, -0.722315, -0.678786, 0.194961, 1.3825, -0.0364124)

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.98742, -0.115678, -0.107798, 0.138832, 0.307962, 0.941214, -0.0756804, -0.94434, 0.320148, 0.2322, 1.24307, -0.187139)

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.453119, 0.890054, 0.0498794, -0.0487943, -0.0806323, 0.995548, 0.890114, 0.448668, 0.0799657, 0.208452, 1.3063, -0.381006)

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.499409, -0.0565474, -0.864519, -0.0496184, -0.998096, 0.0366212, -0.864944, 0.0246069, -0.501264, -0.0851499, 0.86473, -0.0593681)

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.489521, -0.028121, -0.871538, -0.419861, -0.883592, -0.207316, -0.764255, 0.467411, -0.444344, -0.108909, 0.445369, -0.0490292)

[node name="L_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="13"]
transform = Transform3D(0.245938, -0.072078, -0.966602, 0.853542, -0.456465, 0.251209, -0.459327, -0.886817, -0.0507405, -0.11946, 0.113842, 0.126346)

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.484505, 0.0642678, 0.872424, -0.351589, -0.898897, 0.261475, 0.801024, -0.433421, -0.412924, 0.0851499, 0.86473, -0.0593681)

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.471516, 0.0194777, 0.881642, 0.0983944, -0.994675, -0.0306481, 0.876351, 0.1012, -0.470922, 0.112153, 0.487049, -0.241475)

[node name="R_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="16"]
transform = Transform3D(0.245938, 0.072078, 0.966602, -0.853542, -0.456465, 0.251209, 0.459327, -0.886817, -0.0507405, 0.11946, 0.113841, -0.203503)

[node name="DmgLbl" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="HurtSFX" type="Node3D" parent="."]

[node name="HurtSFX_Reuben" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_xiyfn")
volume_db = 4.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX_Autumn" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("6_okrld")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0
panning_strength = 0.5

[node name="HurtSFX_De1" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("4_diix5")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="HurtSFX2_De2" type="AudioStreamPlayer3D" parent="HurtSFX"]
stream = ExtResource("5_brm8y")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0
panning_strength = 0.5

[node name="DeathSFX" type="Node3D" parent="."]

[node name="DeathSFX_Reuben" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("5_q51va")
volume_db = 2.0
unit_size = 7.0
max_db = 4.0

[node name="DeathSFX_Autumn" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("6_jyhq2")
volume_db = -6.0
unit_size = 7.0
max_db = 0.0

[node name="Death_SFX_De" type="AudioStreamPlayer3D" parent="DeathSFX"]
stream = ExtResource("3_rmkl3")
unit_size = 5.0
max_db = 0.0

[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Head/HeadArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Neck/NeckArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Chest/ChestArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/Stomach/StomachArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_UpperArm/L_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Forearm/L_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Hand/L_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_UpperArm/R_UpperArmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Forearm/R_ForearmArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Hand/R_HandArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Thigh/L_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Shin/L_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/L_Foot/L_FootArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Thigh/R_ThighArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Shin/R_ShinArea" to="." method="_take_damage"]
[connection signal="take_damage" from="PuppetAnimations/Character/Skeleton3D/R_Foot/R_FootArea" to="." method="_take_damage"]

[editable path="PuppetAnimations"]
