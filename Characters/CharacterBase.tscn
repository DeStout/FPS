[gd_scene load_steps=16 format=3 uid="uid://65jhlh1xbkow"]

[ext_resource type="Script" path="res://Characters/CharacterBase.gd" id="1_hsiy1"]
[ext_resource type="PackedScene" uid="uid://bf4x61feslkq2" path="res://Characters/MannyBase.tscn" id="2_4yyna"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Weapons/Slapper/Slapper.tscn" id="2_e1vp6"]
[ext_resource type="PackedScene" uid="uid://bwie7ixf4v1vw" path="res://Props/Weapons/Pistol/Pistol.tscn" id="3_igi5e"]
[ext_resource type="PackedScene" uid="uid://dh23vd3s1cpss" path="res://Props/Weapons/SMG/SMG.tscn" id="4_a7f61"]
[ext_resource type="PackedScene" uid="uid://bhxw75oi8yofw" path="res://Props/Weapons/Rifle/Rifle.tscn" id="5_nv5n8"]
[ext_resource type="PackedScene" uid="uid://barsvh0ntyosw" path="res://Props/Weapons/Shotgun/Shotgun.tscn" id="6_8xy63"]
[ext_resource type="PackedScene" uid="uid://dlgv171g6as4t" path="res://Props/Weapons/Sniper/Sniper.tscn" id="7_rtaje"]
[ext_resource type="Script" path="res://Characters/Multiplayer/Voice.gd" id="9_hj0ir"]
[ext_resource type="AudioStream" uid="uid://dvwslqt03fwb6" path="res://Props/Weapons/Slapper/Slap.ogg" id="10_n02aa"]
[ext_resource type="Script" path="res://RandomAudio.gd" id="11_ntang"]
[ext_resource type="AudioStream" uid="uid://b56r0e1ges6xc" path="res://Characters/Audio/footstep1.ogg" id="12_8kevp"]
[ext_resource type="AudioStream" uid="uid://doju4xf4dtgt" path="res://Characters/Audio/footstep2.ogg" id="13_xgngd"]
[ext_resource type="AudioStream" uid="uid://cxbr801up84rw" path="res://Characters/Audio/footstep4.ogg" id="14_df48h"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5yxej"]
radius = 0.35
height = 1.8

[node name="CharacterBase" type="CharacterBody3D" groups=["players"]]
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4278190080
script = ExtResource("1_hsiy1")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
visible = false
shape = SubResource("CapsuleShape3D_5yxej")

[node name="Mannequin" parent="." instance=ExtResource("2_4yyna")]

[node name="Skeleton3D" parent="Mannequin/Mannequin" index="0"]
bones/0/position = Vector3(6.75717e-06, 99.7919, -4.09133e-05)
bones/1/rotation = Quaternion(-0.00900091, -0.001659, 0.00247735, 0.999955)
bones/2/rotation = Quaternion(-0.00376358, -0.000401427, 0.000499017, 0.999993)
bones/3/rotation = Quaternion(0.0978689, -0.00153877, 0.00209363, 0.995196)
bones/4/rotation = Quaternion(-0.0566762, 0.0122611, 0.0908054, 0.994179)
bones/5/rotation = Quaternion(-0.106951, -0.00147644, 0.085162, 0.990609)
bones/7/rotation = Quaternion(-0.69072, -0.326988, 0.302094, -0.569846)
bones/8/position = Vector3(-4.68665e-07, 12.9223, 1.65459e-05)
bones/8/rotation = Quaternion(0.198702, -0.372699, 0.443798, 0.790352)
bones/9/position = Vector3(1.28724e-05, 27.4047, 2.33802e-05)
bones/9/rotation = Quaternion(0.427967, -0.822381, 0.19525, 0.320018)
bones/10/position = Vector3(4.2493e-06, 27.6145, 1.25882e-05)
bones/10/rotation = Quaternion(-0.0410005, 0.0718777, -0.0262852, 0.996224)
bones/11/position = Vector3(-3.00298, 3.78881, 2.16714)
bones/11/rotation = Quaternion(0.509501, 0.13933, 0.163111, 0.833301)
bones/12/position = Vector3(6.83967e-06, 4.74497, 1.89674e-05)
bones/12/rotation = Quaternion(-0.170731, -0.104495, -0.384413, 0.901198)
bones/13/position = Vector3(-5.18561e-06, 4.38212, -3.14545e-05)
bones/13/rotation = Quaternion(0.111461, 0.0639097, -0.109684, 0.985627)
bones/14/position = Vector3(7.26219e-06, 3.45908, 1.96934e-06)
bones/15/position = Vector3(-2.82605, 11.9926, 0.314952)
bones/15/rotation = Quaternion(-0.047104, -0.0367414, 0.00943903, 0.998169)
bones/16/position = Vector3(-2.31507e-06, 3.89196, 1.16939e-05)
bones/16/rotation = Quaternion(0.0530354, -0.129721, 0.0187278, 0.989954)
bones/17/position = Vector3(-3.64908e-06, 3.41516, 1.43086e-05)
bones/17/rotation = Quaternion(0.0615582, 0.00710975, -0.00484399, 0.998066)
bones/18/position = Vector3(2.6395e-06, 3.07799, 5.45998e-06)
bones/19/position = Vector3(-0.028111, 12.64, 0.484952)
bones/19/rotation = Quaternion(0.0253815, -0.0517418, 0.0216295, 0.998104)
bones/20/position = Vector3(1.17026e-06, 3.61397, 1.4517e-05)
bones/20/rotation = Quaternion(0.0842759, -0.137068, 0.042557, 0.986052)
bones/21/position = Vector3(0.0214811, 3.57819, 0.298654)
bones/21/rotation = Quaternion(-0.0829516, -0.0351328, 0.160422, 0.982929)
bones/22/position = Vector3(-1.70254e-05, 3.68019, 2.76197e-06)
bones/23/position = Vector3(2.20944, 12.2409, 0.107068)
bones/23/rotation = Quaternion(0.103516, 0.0810953, 0.0588935, 0.989565)
bones/24/position = Vector3(2.81777e-06, 3.60119, 9.15537e-07)
bones/24/rotation = Quaternion(0.129063, -0.0428055, 0.000116899, 0.990712)
bones/25/position = Vector3(1.30003e-06, 3.30732, -4.11048e-06)
bones/27/position = Vector3(4.76511, 11.2238, -0.459064)
bones/27/rotation = Quaternion(0.332847, 0.00103233, 0.0197131, 0.942774)
bones/28/position = Vector3(2.86343e-07, 4.13664, -1.36915e-06)
bones/28/rotation = Quaternion(0.145975, -0.0756228, -0.03545, 0.985756)
bones/29/position = Vector3(4.46462e-06, 2.5948, -1.46018e-06)
bones/29/rotation = Quaternion(0.325344, -0.0420917, -0.00643033, 0.944637)
bones/30/position = Vector3(4.04198e-06, 2.92386, -2.69684e-06)
bones/31/rotation = Quaternion(0.670828, -0.348153, 0.328112, 0.566677)
bones/32/position = Vector3(3.28088e-06, 12.9223, 2.56988e-05)
bones/32/rotation = Quaternion(0.248622, 0.00674354, -0.138851, 0.958573)
bones/33/position = Vector3(-4.06771e-06, 27.4047, -2.33482e-06)
bones/33/rotation = Quaternion(-0.0861973, 0.161418, -0.909693, 0.372791)
bones/34/position = Vector3(1.86008e-05, 27.6145, -8.1444e-06)
bones/34/rotation = Quaternion(-0.336119, 0.109676, 0.49887, 0.79128)
bones/34/scale = Vector3(1, 1, 1)
bones/35/rotation = Quaternion(0.251896, 0.0594639, -0.221924, 0.940086)
bones/36/position = Vector3(3.3915e-05, 4.74495, 1.06691e-07)
bones/36/rotation = Quaternion(7.70054e-06, -1.25531e-07, -6.72415e-07, 1)
bones/37/position = Vector3(1.07885e-05, 4.38215, 2.93126e-05)
bones/38/position = Vector3(1.93134e-05, 3.45905, -2.59462e-05)
bones/39/position = Vector3(2.8216, 12.2518, 0.269641)
bones/39/rotation = Quaternion(-0.0230215, -0.12408, -0.198237, 0.971996)
bones/40/position = Vector3(-1.84945e-05, 3.89196, 1.80494e-06)
bones/40/rotation = Quaternion(0.00717315, 0.247708, 0.0236208, 0.96852)
bones/41/position = Vector3(-0.0356608, 3.18992, 0.52158)
bones/41/rotation = Quaternion(0.0539371, 0.0426329, 0.0104896, 0.997579)
bones/42/position = Vector3(1.61662e-05, 3.07799, 1.58851e-06)
bones/43/position = Vector3(0.000916079, 12.2514, 0.835534)
bones/44/position = Vector3(-2.58788e-05, 3.61397, -3.08885e-06)
bones/44/rotation = Quaternion(0.406754, 0.093793, -0.0314836, 0.908165)
bones/45/position = Vector3(-0.023283, 3.56527, 0.402707)
bones/45/rotation = Quaternion(0.256322, -0.00392596, 0.0158297, 0.966454)
bones/46/position = Vector3(2.55627e-05, 3.68019, 6.14374e-07)
bones/47/position = Vector3(-2.22008, 12.0455, 0.257927)
bones/48/position = Vector3(-1.23149e-05, 3.6012, -1.1015e-06)
bones/48/rotation = Quaternion(0.406754, 0.0937932, -0.0314765, 0.908165)
bones/49/position = Vector3(-2.04907e-05, 3.30732, 1.13987e-06)
bones/49/rotation = Quaternion(0.256322, -0.00392773, 0.0158299, 0.966454)
bones/50/position = Vector3(2.12126e-05, 3.66012, 1.03036e-06)
bones/51/position = Vector3(-4.72281, 11.5487, -0.915094)
bones/52/position = Vector3(-2.02862e-05, 4.13664, 4.16713e-06)
bones/53/position = Vector3(-7.56937e-07, 2.59484, -1.26771e-06)
bones/53/rotation = Quaternion(0.256323, -0.00392717, 0.0158193, 0.966454)
bones/54/position = Vector3(3.04693e-05, 2.92388, -8.60839e-07)
bones/55/rotation = Quaternion(2.03257e-05, -0.00635018, 0.999976, -0.00296964)
bones/56/rotation = Quaternion(-0.0181143, 0.000182681, -0.00592014, 0.999818)
bones/57/rotation = Quaternion(0.54055, 0.0143664, 0.0249511, 0.840819)
bones/58/rotation = Quaternion(0.227692, -0.0325216, -0.0153655, 0.973069)
bones/60/rotation = Quaternion(-1.82097e-05, -0.0063338, 0.999975, 0.00305746)
bones/61/rotation = Quaternion(-0.0181471, -0.000182844, 0.00592015, 0.999818)
bones/62/rotation = Quaternion(0.540564, -0.014366, -0.0249513, 0.84081)
bones/63/rotation = Quaternion(0.227709, 0.0321196, 0.0152579, 0.97308)

[node name="Hips" parent="Mannequin/Mannequin/Skeleton3D" index="2"]
transform = Transform3D(-1, 8.78096e-05, 3.02004e-06, 8.78096e-05, 1, 4.95416e-08, -3.02004e-06, 4.98068e-08, -1, 6.75717e-06, 99.7919, -4.09133e-05)

[node name="Stomach" parent="Mannequin/Mannequin/Skeleton3D" index="3"]
transform = Transform3D(-0.999982, 0.00501235, 0.00336705, 0.00507215, 0.999825, 0.0179926, -0.00327627, 0.0180093, -0.999832, 1.47407e-05, 109.715, 1.22729)

[node name="Chest" parent="Mannequin/Mannequin/Skeleton3D" index="4"]
transform = Transform3D(-0.999973, 0.00598185, 0.00421127, 0.0060874, 0.999656, 0.0255133, -0.0040572, 0.0255383, -0.999666, 0.0588197, 121.445, 1.43857)

[node name="Neck" parent="Mannequin/Mannequin/Skeleton3D" index="5"]
transform = Transform3D(-0.981327, 0.192209, -0.00722299, 0.192312, 0.97978, -0.0551995, -0.0035329, -0.055558, -0.998449, 0.31188, 149.559, -1.63245)

[node name="Head" parent="Mannequin/Mannequin/Skeleton3D" index="6"]
transform = Transform3D(-0.934487, 0.35182, 0.0543684, 0.355988, 0.922477, 0.14936, 0.00239429, 0.15893, -0.987287, 2.27312, 159.499, -5.34346)

[node name="L_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="7"]
transform = Transform3D(-0.613644, 0.0964128, 0.783674, -0.76613, -0.312809, -0.561423, 0.191012, -0.94491, 0.265818, -16.1225, 140.875, -7.8397)

[node name="L_Forearm" parent="Mannequin/Mannequin/Skeleton3D" index="8"]
transform = Transform3D(0.750812, 0.525367, -0.400338, 0.120331, 0.487163, 0.864981, 0.649463, -0.697612, 0.30255, -13.4804, 132.303, -33.7347)

[node name="L_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="9"]
transform = Transform3D(0.767876, 0.591988, -0.244779, -0.0314754, 0.416515, 0.908584, 0.639825, -0.689975, 0.338465, 1.0274, 145.755, -52.9989)

[node name="R_UpperArm" parent="Mannequin/Mannequin/Skeleton3D" index="10"]
transform = Transform3D(-0.734016, 0.531812, -0.422372, -0.0875354, -0.690826, -0.717702, -0.673468, -0.489832, 0.55363, 17.2129, 140.939, -6.90249)

[node name="R_Forearm" parent="Mannequin/Mannequin/Skeleton3D" index="11"]
transform = Transform3D(0.128184, -0.682516, -0.719542, 0.523503, 0.662779, -0.535414, 0.842326, -0.308051, 0.442257, 31.7871, 122.008, -20.3262)

[node name="R_Hand" parent="Mannequin/Mannequin/Skeleton3D" index="12"]
transform = Transform3D(-0.0610272, 0.00477225, -0.998125, 0.997219, -0.0425562, -0.0611753, -0.0427685, -0.999083, -0.0021618, 12.9397, 140.31, -28.8328)
use_external_skeleton = true
external_skeleton = NodePath("..")

[node name="Weapons" type="Node3D" parent="Mannequin/Mannequin/Skeleton3D/R_Hand" index="1"]
unique_name_in_owner = true
transform = Transform3D(99.9928, 0, 0, 0, 99.9944, 0, 0, 0, 99.9984, 0, 0, 0)

[node name="Slapper" parent="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons" instance=ExtResource("2_e1vp6")]
visible = false

[node name="Pistol" parent="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons" instance=ExtResource("3_igi5e")]
transform = Transform3D(-4.37114e-08, 1, 0, 4.37114e-08, 0, -1, -1, -4.37114e-08, -4.37114e-08, 0.0193844, 0.0782966, 0.0245304)
visible = false

[node name="SMG" parent="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons" instance=ExtResource("4_a7f61")]
visible = false

[node name="Rifle" parent="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons" instance=ExtResource("5_nv5n8")]
transform = Transform3D(-4.37114e-08, 0.955618, -0.294608, 0, -0.294607, -0.955619, -1, -4.17714e-08, 1.28777e-08, -0.00265333, 0.095409, 0.0279529)
visible = false

[node name="Shotgun" parent="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons" instance=ExtResource("6_8xy63")]
visible = false

[node name="Sniper" parent="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons" instance=ExtResource("7_rtaje")]
visible = false

[node name="L_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="13"]
transform = Transform3D(0.999982, -0.00602672, -7.64613e-05, -0.0060272, -0.999901, -0.0126999, 8.4804e-08, 0.0127001, -0.999919, -9.12445, 93.1355, 0.0553351)

[node name="L_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="14"]
transform = Transform3D(0.999983, 0.00581173, 0.000285066, 0.00581872, -0.998786, -0.0489113, 4.60248e-07, 0.0489122, -0.998803, -9.36913, 52.5401, 0.570952)

[node name="L_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="15"]
transform = Transform3D(0.99866, -0.0237592, 0.0459725, -0.0517491, -0.458513, 0.88718, 2.52854e-07, -0.88837, -0.459128, -9.12446, 10.4922, 2.63011)

[node name="R_Thigh" parent="Mannequin/Mannequin/Skeleton3D" index="16"]
transform = Transform3D(0.999982, 0.0060267, 7.70567e-05, 0.00602719, -0.999902, -0.0126671, 7.08092e-07, 0.0126674, -0.99992, 9.12445, 93.1355, 0.0553383)

[node name="R_Shin" parent="Mannequin/Mannequin/Skeleton3D" index="17"]
transform = Transform3D(0.999983, -0.00581177, -0.000284791, -0.00581875, -0.998785, -0.0489441, 7.97445e-09, 0.048945, -0.998802, 9.36913, 52.54, 0.569627)

[node name="R_Foot" parent="Mannequin/Mannequin/Skeleton3D" index="18"]
transform = Transform3D(0.99866, 0.0237596, -0.0459722, 0.051749, -0.458513, 0.88718, 1.76718e-07, -0.88837, -0.459128, 9.12446, 10.4922, 2.63016)

[node name="AnimTree" parent="Mannequin" index="2"]
active = false
parameters/Run/Weapon/blend_amount = 0.0

[node name="AimHelper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)

[node name="Camera" type="Camera3D" parent="AimHelper"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.97237, 0.233445, 0, -0.233445, 0.97237, 0, 0.5, 0.75)
visible = false
cull_mask = 1048551

[node name="ShootCast" type="RayCast3D" parent="AimHelper"]
unique_name_in_owner = true
visible = false
target_position = Vector3(0, 0, -999)
collision_mask = 9
hit_back_faces = false
collide_with_areas = true

[node name="DmgLbl" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88315, 0)

[node name="Voice" type="Node3D" parent="."]
script = ExtResource("9_hj0ir")

[node name="Slapped" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("10_n02aa")
bus = &"SFX"

[node name="Footsteps" type="Node3D" parent="."]
script = ExtResource("11_ntang")

[node name="Footsteps1" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("12_8kevp")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps2" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("13_xgngd")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[node name="Footsteps3" type="AudioStreamPlayer3D" parent="Footsteps"]
stream = ExtResource("14_df48h")
unit_size = 2.0
max_distance = 3.0
bus = &"SFX"

[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Hips/HipsArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Stomach/StomachArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Neck/NeckArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/Head/HeadArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_UpperArm/UpperArmArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Hand/HandArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/L_Foot/FootArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Thigh/ThighArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Shin/ShinArea" to="." method="take_damage"]
[connection signal="take_damage" from="Mannequin/Mannequin/Skeleton3D/R_Foot/FootArea" to="." method="take_damage"]

[editable path="Mannequin"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/Pistol"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/Pistol/Mesh"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/SMG"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/SMG/Mesh"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/Rifle"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/Shotgun"]
[editable path="Mannequin/Mannequin/Skeleton3D/R_Hand/Weapons/Sniper"]
