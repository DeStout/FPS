[gd_scene load_steps=13 format=3 uid="uid://bvtob15rpepds"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_a23yl"]
[ext_resource type="Script" path="res://Characters/Player.gd" id="2_aqpim"]
[ext_resource type="PackedScene" uid="uid://0r6eljbdbyqv" path="res://Props/FPSlapper.tscn" id="3_mqij6"]
[ext_resource type="PackedScene" uid="uid://by7wwhoru7x60" path="res://Props/FPPistol.tscn" id="4_wj3q8"]
[ext_resource type="PackedScene" uid="uid://btj7bcwc5cjwk" path="res://Props/FPRifle.tscn" id="5_ubj5j"]
[ext_resource type="Texture2D" uid="uid://dwg7182f40h5u" path="res://Characters/CrossHair.png" id="5_wk7d6"]
[ext_resource type="Script" path="res://Characters/Pause.gd" id="6_qlm7s"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hykio"]
radius = 0.25
height = 1.75

[sub_resource type="LabelSettings" id="LabelSettings_lhp81"]
font_size = 76
font_color = Color(0.862745, 0.0980392, 0.0862745, 1)

[sub_resource type="LabelSettings" id="LabelSettings_kxml2"]
font_size = 68
font_color = Color(0.254902, 0, 1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ue0id"]
font_size = 48

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tin5q"]
albedo_color = Color(0.839216, 0.6, 0.466667, 1)
subsurf_scatter_enabled = true
subsurf_scatter_strength = 1.0
subsurf_scatter_skin_mode = true

[node name="Player" instance=ExtResource("1_a23yl")]
script = ExtResource("2_aqpim")

[node name="Collision" parent="." index="0"]
shape = SubResource("CapsuleShape3D_hykio")

[node name="AimHelper" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)

[node name="ShootCast" parent="AimHelper" index="0"]
collision_mask = 9

[node name="MainCamera" type="Camera3D" parent="AimHelper" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.105338)
cull_mask = 1048573

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="AimHelper/MainCamera" index="0"]
remote_path = NodePath("../../../CanvasLayer/GunViewContainer/GunView/GunCamera")

[node name="FPWeapons" type="Node3D" parent="AimHelper" index="2"]

[node name="Slapper" parent="AimHelper/FPWeapons" index="0" instance=ExtResource("3_mqij6")]
transform = Transform3D(-0.983385, -0.110577, 0.14397, 0.109524, 0.271082, 0.956305, -0.144773, 0.956184, -0.254467, 0.14, -0.205, -0.31)

[node name="Pistol" parent="AimHelper/FPWeapons" index="1" instance=ExtResource("4_wj3q8")]
transform = Transform3D(-1, 0, -2.62268e-07, 0, 1, 0, 2.62268e-07, 0, -1, 0.115, -0.14, -0.31)
visible = false
layers = 2

[node name="Rifle" parent="AimHelper/FPWeapons" index="2" instance=ExtResource("5_ubj5j")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.125, -0.21, -0.315)
visible = false
layers = 2

[node name="Weapons" parent="." index="2"]
transform = Transform3D(-0.207909, -0.185098, -0.960475, -0.975003, 0.117893, 0.188334, 0.0783732, 0.975623, -0.204982, 0.170474, 1.34151, -0.267713)

[node name="Mesh" parent="Weapons/Pistol" index="0"]
cast_shadow = 3

[node name="Mesh" parent="Weapons/Rifle" index="0"]
cast_shadow = 3

[node name="CanvasLayer" type="CanvasLayer" parent="." index="3"]
layer = 2

[node name="GunViewContainer" type="SubViewportContainer" parent="CanvasLayer" index="0"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="GunView" type="SubViewport" parent="CanvasLayer/GunViewContainer" index="0"]
transparent_bg = true
handle_input_locally = false
gui_disable_input = true
positional_shadow_atlas_size = 4096
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GunCamera" type="Camera3D" parent="CanvasLayer/GunViewContainer/GunView" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.105338)
cull_mask = 14
fov = 74.96
near = 0.01

[node name="UI" type="Control" parent="CanvasLayer" index="1"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 960.0
offset_top = 540.0
offset_right = -960.0
offset_bottom = -540.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4

[node name="Crosshairs" type="Sprite2D" parent="CanvasLayer/UI" index="0"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("5_wk7d6")

[node name="Health" type="BoxContainer" parent="CanvasLayer/UI" index="1"]
layout_mode = 0
offset_left = -852.0
offset_top = -481.0
offset_right = -686.0
offset_bottom = -273.0
theme_override_constants/separation = -20
vertical = true

[node name="Health" type="Label" parent="CanvasLayer/UI/Health" index="0"]
unique_name_in_owner = true
layout_mode = 2
text = "100"
label_settings = SubResource("LabelSettings_lhp81")
vertical_alignment = 1

[node name="Armor" type="Label" parent="CanvasLayer/UI/Health" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_kxml2")

[node name="Weapon" type="VBoxContainer" parent="CanvasLayer/UI" index="2"]
layout_mode = 0
offset_left = 610.0
offset_top = 340.0
offset_right = 905.0
offset_bottom = 484.0
alignment = 2

[node name="AmmoInMag" type="Label" parent="CanvasLayer/UI/Weapon" index="0"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 6
text = "0 / 0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="ExtraAmmo" type="Label" parent="CanvasLayer/UI/Weapon" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="Skeleton" parent="PuppetBase" index="2"]
bones/1/position = Vector3(1.61993e-09, 0.879208, -0.0641973)
bones/2/rotation = Quaternion(8.91976e-05, 5.42796e-07, 6.8747e-06, 1)
bones/4/rotation = Quaternion(7.83844e-05, -2.82603e-08, 6.17534e-06, 1)
bones/5/rotation = Quaternion(0.000104007, -1.5026e-08, 8.17029e-06, 1)
bones/7/rotation = Quaternion(0.0189005, 0.887793, 0.278114, 0.366222)
bones/8/rotation = Quaternion(-0.0157607, -0.721581, -0.0153212, 0.691981)
bones/9/rotation = Quaternion(-0.406244, 0.721159, 0.121521, 0.54784)
bones/11/rotation = Quaternion(0.0299448, -0.0209653, -0.0711388, 0.996796)
bones/14/rotation = Quaternion(3.3334e-05, 5.99513e-05, -3.14765e-05, 1)
bones/17/rotation = Quaternion(0.323285, 0.0434236, 0.0472346, 0.944124)
bones/20/rotation = Quaternion(-0.128606, 0.949562, 0.271595, 0.0896053)
bones/21/rotation = Quaternion(0.254386, 0.377574, -0.247285, 0.855322)
bones/22/rotation = Quaternion(-0.191883, -0.847325, -0.155974, 0.469992)
bones/24/rotation = Quaternion(0.01385, 0.0237955, 0.0873672, 0.995796)
bones/25/rotation = Quaternion(-8.53012e-06, -0.000113103, 2.97368e-05, 1)
bones/27/rotation = Quaternion(-0.00820034, -0.0141102, -0.0517533, 0.998527)
bones/28/rotation = Quaternion(1.44415e-05, -0.000114057, 2.7115e-05, 1)
bones/30/rotation = Quaternion(-0.340633, 0.50997, -0.575064, 0.541481)
bones/33/rotation = Quaternion(-0.141543, 0.044627, 0.988885, -0.00902811)
bones/34/rotation = Quaternion(-0.0405688, 0.992507, 0.115037, 0.00715258)
bones/35/rotation = Quaternion(0.0708245, 0.806699, -0.574969, 0.116753)
bones/38/rotation = Quaternion(0.133432, -0.18295, 0.973678, -0.0260076)
bones/39/rotation = Quaternion(0.0606474, 0.983175, 0.171972, -0.0106924)
bones/40/rotation = Quaternion(-0.0812527, 0.69802, -0.704544, -0.0989172)

[node name="Body" parent="PuppetBase/Skeleton" index="0"]
cast_shadow = 3
surface_material_override/0 = SubResource("StandardMaterial3D_tin5q")

[node name="Head" parent="PuppetBase/Skeleton" index="1"]
transform = Transform3D(1, -4.24402e-05, 1.0105e-06, 4.24407e-05, 1, -0.000543177, -9.87445e-07, 0.000543177, 1, -6.79516e-06, 1.55927, -0.0516326)

[node name="HeadArea" parent="PuppetBase/Skeleton/Head" index="0"]
collision_layer = 4

[node name="Neck" parent="PuppetBase/Skeleton" index="2"]
transform = Transform3D(1, -1.37493e-05, 1.08682e-06, 1.37495e-05, 1, -0.000178395, -1.08437e-06, 0.000178395, 1, 0.00223061, 1.44133, -0.031284)

[node name="NeckArea" parent="PuppetBase/Skeleton/Neck" index="0"]
collision_layer = 4

[node name="Chest" parent="PuppetBase/Skeleton" index="3"]
transform = Transform3D(1, -1.37493e-05, 1.08682e-06, 1.37495e-05, 1, -0.000178395, -1.08437e-06, 0.000178395, 1, 7.13329e-10, 1.11738, -0.0868668)

[node name="ChestArea" parent="PuppetBase/Skeleton/Chest" index="0"]
collision_layer = 4

[node name="Stomach" parent="PuppetBase/Skeleton" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61993e-09, 0.879208, -0.0641973)

[node name="StomachArea" parent="PuppetBase/Skeleton/Stomach" index="0"]
collision_layer = 4

[node name="R_UpperArm" parent="PuppetBase/Skeleton" index="5"]
transform = Transform3D(0.195571, -0.8194, -0.538828, -0.240196, 0.492681, -0.836404, 0.95082, 0.293001, -0.100463, 0.194957, 1.38009, -0.0396471)

[node name="R_UpperArmArea" parent="PuppetBase/Skeleton/R_UpperArm" index="0"]
collision_layer = 4

[node name="R_Forearm" parent="PuppetBase/Skeleton" index="6"]
transform = Transform3D(0.720921, -0.626698, 0.29584, 0.389355, 0.0131276, -0.920994, 0.573302, 0.779151, 0.253472, 0.224004, 1.21698, -0.16651)

[node name="R_ForearmArea" parent="PuppetBase/Skeleton/R_Forearm" index="0"]
collision_layer = 4

[node name="R_Hand" parent="PuppetBase/Skeleton" index="7"]
transform = Transform3D(-0.207909, -0.185098, -0.960475, -0.975003, 0.117893, 0.188334, 0.0783732, 0.975623, -0.204982, 0.170474, 1.34151, -0.320691)

[node name="R_HandArea" parent="PuppetBase/Skeleton/R_Hand" index="0"]
collision_layer = 4

[node name="L_UpperArm" parent="PuppetBase/Skeleton" index="8"]
transform = Transform3D(0.23727, 0.844584, 0.47998, -0.639613, 0.507701, -0.577179, -0.731162, -0.170054, 0.660669, -0.194965, 1.38008, -0.0396468)

[node name="L_UpperArmArea" parent="PuppetBase/Skeleton/L_UpperArm" index="0"]
collision_layer = 4

[node name="L_Forearm" parent="PuppetBase/Skeleton" index="9"]
transform = Transform3D(0.470937, 0.854339, -0.219827, -0.549137, 0.478927, 0.684893, 0.690411, -0.201826, 0.694693, -0.232269, 1.1828, 0.0172071)

[node name="L_ForearmArea" parent="PuppetBase/Skeleton/L_Forearm" index="0"]
collision_layer = 4

[node name="L_Hand" parent="PuppetBase/Skeleton" index="10"]
transform = Transform3D(-0.224241, 0.267794, 0.937018, -0.787387, 0.516764, -0.33612, -0.574228, -0.813168, 0.0949775, -0.230592, 0.982848, -0.0292795)

[node name="L_HandArea" parent="PuppetBase/Skeleton/L_Hand" index="0"]
collision_layer = 4

[node name="R_Thigh" parent="PuppetBase/Skeleton" index="11"]
transform = Transform3D(-0.963039, 0.00182308, 0.269357, -0.0994692, -0.931705, -0.349329, 0.250324, -0.36321, 0.89745, 0.0851499, 0.861719, -0.0593682)

[node name="R_ThighArea" parent="PuppetBase/Skeleton/R_Thigh" index="0"]
collision_layer = 4

[node name="R_Shin" parent="PuppetBase/Skeleton" index="12"]
transform = Transform3D(0.967227, -0.0259506, -0.252585, -0.0235998, -0.999645, 0.0123325, -0.252815, -0.00596744, -0.967496, 0.112628, 0.484003, -0.241331)

[node name="R_ShinArea" parent="PuppetBase/Skeleton/R_Shin" index="0"]
collision_layer = 4

[node name="R_Foot" parent="PuppetBase/Skeleton" index="13"]
transform = Transform3D(-1, 5.96046e-08, -4.33298e-07, -4.54485e-07, 3.27826e-07, 1, 7.45058e-08, 1, -2.468e-07, 0.119459, 0.113885, -0.180125)

[node name="R_FootArea" parent="PuppetBase/Skeleton/R_Foot" index="0"]
collision_layer = 4

[node name="L_Thigh" parent="PuppetBase/Skeleton" index="14"]
transform = Transform3D(-0.959768, 0.00522226, -0.280745, -0.0304888, -0.995854, 0.0857062, -0.279133, 0.0908176, 0.955948, -0.0851499, 0.861719, -0.0593682)

[node name="L_ThighArea" parent="PuppetBase/Skeleton/L_Thigh" index="0"]
collision_layer = 4

[node name="L_Shin" parent="PuppetBase/Skeleton" index="15"]
transform = Transform3D(0.962705, 0.019991, 0.269813, 0.106925, -0.944192, -0.311558, 0.248527, 0.328788, -0.911116, -0.109297, 0.442288, -0.0539133)

[node name="L_ShinArea" parent="PuppetBase/Skeleton/L_Shin" index="0"]
collision_layer = 4

[node name="L_Foot" parent="PuppetBase/Skeleton" index="16"]
transform = Transform3D(-1, 4.76837e-07, -7.45058e-09, -6.70552e-08, -2.08616e-07, 1, 4.17233e-07, 1, -2.98023e-08, -0.11946, 0.113885, 0.127272)

[node name="L_FootArea" parent="PuppetBase/Skeleton/L_Foot" index="0"]
collision_layer = 4

[node name="Pause" type="Node" parent="." index="7"]
process_mode = 3
script = ExtResource("6_qlm7s")

[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="PuppetBase"]
