[gd_scene load_steps=13 format=3 uid="uid://bvtob15rpepds"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_a23yl"]
[ext_resource type="Script" path="res://Characters/Player.gd" id="2_aqpim"]
[ext_resource type="PackedScene" uid="uid://0r6eljbdbyqv" path="res://Props/FPSlapper.tscn" id="3_mqij6"]
[ext_resource type="PackedScene" uid="uid://by7wwhoru7x60" path="res://Props/FPPistol.tscn" id="4_wj3q8"]
[ext_resource type="PackedScene" uid="uid://btj7bcwc5cjwk" path="res://Props/FPRifle.tscn" id="5_ubj5j"]
[ext_resource type="Texture2D" uid="uid://dwg7182f40h5u" path="res://Characters/CrossHair.png" id="5_wk7d6"]
[ext_resource type="Script" path="res://Characters/Pause.gd" id="6_qlm7s"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hykio"]
radius = 0.25
height = 1.75

[sub_resource type="LabelSettings" id="LabelSettings_lhp81"]
font_size = 76
font_color = Color(0.862745, 0.0980392, 0.0862745, 1)

[sub_resource type="LabelSettings" id="LabelSettings_kxml2"]
font_size = 68
font_color = Color(0.254902, 0, 1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ue0id"]
font_size = 48

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tin5q"]
albedo_color = Color(0.839216, 0.6, 0.466667, 1)
subsurf_scatter_enabled = true
subsurf_scatter_strength = 1.0
subsurf_scatter_skin_mode = true

[node name="Player" instance=ExtResource("1_a23yl")]
script = ExtResource("2_aqpim")

[node name="Collision" parent="." index="0"]
shape = SubResource("CapsuleShape3D_hykio")

[node name="AimHelper" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)

[node name="ShootCast" parent="AimHelper" index="0"]
collision_mask = 9

[node name="MainCamera" type="Camera3D" parent="AimHelper" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.105338)
cull_mask = 1048573

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="AimHelper/MainCamera" index="0"]
remote_path = NodePath("../../../CanvasLayer/GunViewContainer/GunView/GunCamera")

[node name="FPWeapons" type="Node3D" parent="AimHelper" index="2"]

[node name="Slapper" parent="AimHelper/FPWeapons" index="0" instance=ExtResource("3_mqij6")]
transform = Transform3D(-0.983385, -0.110577, 0.14397, 0.109524, 0.271082, 0.956305, -0.144773, 0.956184, -0.254467, 0.14, -0.205, -0.31)

[node name="Pistol" parent="AimHelper/FPWeapons" index="1" instance=ExtResource("4_wj3q8")]
transform = Transform3D(-1, 0, -2.62268e-07, 0, 1, 0, 2.62268e-07, 0, -1, 0.115, -0.14, -0.31)
visible = false
layers = 2

[node name="Rifle" parent="AimHelper/FPWeapons" index="2" instance=ExtResource("5_ubj5j")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.125, -0.21, -0.315)
visible = false
layers = 2

[node name="Weapons" parent="." index="2"]
transform = Transform3D(-0.212051, -0.180276, -0.960487, -0.97183, 0.142347, 0.187838, 0.102859, 0.973261, -0.205383, 0.171847, 1.35289, -0.268878)

[node name="Mesh" parent="Weapons/Pistol" index="0"]
cast_shadow = 3

[node name="Mesh" parent="Weapons/Rifle" index="0"]
cast_shadow = 3

[node name="CanvasLayer" type="CanvasLayer" parent="." index="3"]
layer = 2

[node name="GunViewContainer" type="SubViewportContainer" parent="CanvasLayer" index="0"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="GunView" type="SubViewport" parent="CanvasLayer/GunViewContainer" index="0"]
transparent_bg = true
handle_input_locally = false
gui_disable_input = true
positional_shadow_atlas_size = 4096
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GunCamera" type="Camera3D" parent="CanvasLayer/GunViewContainer/GunView" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.105338)
cull_mask = 2

[node name="UI" type="Control" parent="CanvasLayer" index="1"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 960.0
offset_top = 540.0
offset_right = -960.0
offset_bottom = -540.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4

[node name="Crosshairs" type="Sprite2D" parent="CanvasLayer/UI" index="0"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("5_wk7d6")

[node name="Health" type="BoxContainer" parent="CanvasLayer/UI" index="1"]
layout_mode = 0
offset_left = -852.0
offset_top = -481.0
offset_right = -686.0
offset_bottom = -273.0
theme_override_constants/separation = -20
vertical = true

[node name="Health" type="Label" parent="CanvasLayer/UI/Health" index="0"]
unique_name_in_owner = true
layout_mode = 2
text = "100"
label_settings = SubResource("LabelSettings_lhp81")
vertical_alignment = 1

[node name="Armor" type="Label" parent="CanvasLayer/UI/Health" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_kxml2")

[node name="Weapon" type="VBoxContainer" parent="CanvasLayer/UI" index="2"]
layout_mode = 0
offset_left = 610.0
offset_top = 340.0
offset_right = 905.0
offset_bottom = 484.0
alignment = 2

[node name="AmmoInMag" type="Label" parent="CanvasLayer/UI/Weapon" index="0"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 6
text = "0 / 0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="ExtraAmmo" type="Label" parent="CanvasLayer/UI/Weapon" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="Skeleton" parent="PuppetBase" index="2"]
bones/1/position = Vector3(1.61993e-09, 0.883925, -0.0641973)
bones/2/rotation = Quaternion(0.0032977, 2.05881e-05, 0.000254169, 0.999995)
bones/4/rotation = Quaternion(0.00290336, 1.81799e-05, 0.000223655, 0.999996)
bones/5/rotation = Quaternion(0.00384693, 2.32016e-05, 0.000296403, 0.999993)
bones/7/rotation = Quaternion(0.0158786, 0.885964, 0.275609, 0.372633)
bones/8/rotation = Quaternion(-0.0162119, -0.721996, -0.0157714, 0.691527)
bones/9/rotation = Quaternion(-0.402897, 0.723364, 0.128057, 0.545912)
bones/10/rotation = Quaternion(2.38419e-07, -2.98023e-08, -1.19209e-07, 1)
bones/11/rotation = Quaternion(0.0306605, -0.0191523, -0.0718365, 0.996761)
bones/12/rotation = Quaternion(-5.96047e-08, -2.38419e-07, 2.38419e-07, 1)
bones/14/rotation = Quaternion(0.00099353, 0.00177794, -0.00092912, 0.999997)
bones/15/rotation = Quaternion(-5.96046e-08, 5.96046e-08, 1.78814e-07, 1)
bones/16/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/17/rotation = Quaternion(0.32739, 0.0507218, 0.0457902, 0.942415)
bones/18/rotation = Quaternion(-0.0177395, 0.184228, 0.00458947, 0.982713)
bones/20/rotation = Quaternion(-0.13091, 0.949633, 0.266003, 0.101497)
bones/21/rotation = Quaternion(0.251601, 0.382305, -0.244577, 0.854823)
bones/22/rotation = Quaternion(-0.212864, -0.843452, -0.145388, 0.471317)
bones/23/rotation = Quaternion(5.96046e-08, -5.96046e-08, 1.78814e-07, 1)
bones/24/rotation = Quaternion(0.0128606, 0.0235178, 0.0803968, 0.996403)
bones/25/rotation = Quaternion(-0.000432512, -0.00598732, 0.0015679, 0.999981)
bones/27/rotation = Quaternion(-0.00746529, -0.0139222, -0.047882, 0.998728)
bones/28/rotation = Quaternion(0.00150721, -0.011491, 0.00268404, 0.999929)
bones/29/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/30/rotation = Quaternion(-0.342491, 0.50409, -0.56793, 0.553217)
bones/31/rotation = Quaternion(-0.0929818, 0.136922, -0.113451, 0.979661)
bones/33/rotation = Quaternion(-0.141025, 0.0554699, 0.988385, -0.0113843)
bones/34/rotation = Quaternion(-0.0322525, 0.995271, 0.0914549, 0.00568642)
bones/35/rotation = Quaternion(0.0735353, 0.798526, -0.586092, 0.115955)
bones/38/rotation = Quaternion(0.133435, -0.173353, 0.975488, -0.0238183)
bones/39/rotation = Quaternion(0.0540252, 0.986672, 0.153194, -0.00952503)
bones/40/rotation = Quaternion(-0.0832066, 0.690829, -0.711507, -0.0979284)
bones/41/rotation = Quaternion(-4.21469e-08, 1, 5.96047e-08, -1.26441e-07)

[node name="Body" parent="PuppetBase/Skeleton" index="0"]
cast_shadow = 3
surface_material_override/0 = SubResource("StandardMaterial3D_tin5q")

[node name="Head" parent="PuppetBase/Skeleton" index="1"]
transform = Transform3D(0.999999, -0.00154709, 0.00013949, 0.00154959, 0.999797, -0.0200945, -0.000108374, 0.0200947, 0.999798, -0.00025146, 1.56384, -0.0484462)

[node name="HeadArea" parent="PuppetBase/Skeleton/Head" index="0"]
collision_layer = 4

[node name="Neck" parent="PuppetBase/Skeleton" index="2"]
transform = Transform3D(1, -0.000508198, 4.28524e-05, 0.00050847, 0.999978, -0.00659535, -3.94997e-05, 0.00659537, 0.999978, 0.00207274, 1.44568, -0.0292064)

[node name="NeckArea" parent="PuppetBase/Skeleton/Neck" index="0"]
collision_layer = 4

[node name="Chest" parent="PuppetBase/Skeleton" index="3"]
transform = Transform3D(1, -0.000508198, 4.28524e-05, 0.00050847, 0.999978, -0.00659535, -3.94997e-05, 0.00659537, 0.999978, 7.13329e-10, 1.12209, -0.0868668)

[node name="ChestArea" parent="PuppetBase/Skeleton/Chest" index="0"]
collision_layer = 4

[node name="Stomach" parent="PuppetBase/Skeleton" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61993e-09, 0.883925, -0.0641973)

[node name="StomachArea" parent="PuppetBase/Skeleton/Stomach" index="0"]
collision_layer = 4

[node name="R_UpperArm" parent="PuppetBase/Skeleton" index="5"]
transform = Transform3D(0.19481, -0.82444, -0.531364, -0.268544, 0.476211, -0.837321, 0.943363, 0.305813, -0.128627, 0.194829, 1.3846, -0.0379698)

[node name="R_UpperArmArea" parent="PuppetBase/Skeleton/R_UpperArm" index="0"]
collision_layer = 4

[node name="R_Forearm" parent="PuppetBase/Skeleton" index="6"]
transform = Transform3D(0.713385, -0.631691, 0.303395, 0.384901, -0.00859062, -0.922918, 0.585605, 0.775173, 0.23701, 0.225643, 1.22583, -0.169839)

[node name="R_ForearmArea" parent="PuppetBase/Skeleton/R_Forearm" index="0"]
collision_layer = 4

[node name="R_Hand" parent="PuppetBase/Skeleton" index="7"]
transform = Transform3D(-0.212051, -0.180276, -0.960487, -0.97183, 0.142347, 0.187838, 0.102859, 0.973261, -0.205383, 0.171847, 1.35289, -0.321856)

[node name="R_HandArea" parent="PuppetBase/Skeleton/R_Hand" index="0"]
collision_layer = 4

[node name="L_UpperArm" parent="PuppetBase/Skeleton" index="8"]
transform = Transform3D(0.233838, 0.847314, 0.476843, -0.646633, 0.501782, -0.574526, -0.726075, -0.173997, 0.665237, -0.195092, 1.3844, -0.0379544)

[node name="L_UpperArmArea" parent="PuppetBase/Skeleton/L_UpperArm" index="0"]
collision_layer = 4

[node name="L_Forearm" parent="PuppetBase/Skeleton" index="9"]
transform = Transform3D(0.467686, 0.857189, -0.21563, -0.545351, 0.471824, 0.692802, 0.695602, -0.20642, 0.688134, -0.233462, 1.18777, 0.020452)

[node name="L_ForearmArea" parent="PuppetBase/Skeleton/L_Forearm" index="0"]
collision_layer = 4

[node name="L_Hand" parent="PuppetBase/Skeleton" index="10"]
transform = Transform3D(-0.224331, 0.267698, 0.937024, -0.784454, 0.520886, -0.336616, -0.578194, -0.810565, 0.0931456, -0.232994, 0.987378, -0.0241243)

[node name="L_HandArea" parent="PuppetBase/Skeleton/L_Hand" index="0"]
collision_layer = 4

[node name="R_Thigh" parent="PuppetBase/Skeleton" index="11"]
transform = Transform3D(-0.963256, 0.00020624, 0.268586, -0.0927316, -0.938763, -0.331851, 0.25207, -0.344564, 0.904288, 0.0851499, 0.866436, -0.0593682)

[node name="R_ThighArea" parent="PuppetBase/Skeleton/R_Thigh" index="0"]
collision_layer = 4

[node name="R_Shin" parent="PuppetBase/Skeleton" index="12"]
transform = Transform3D(0.966974, -0.0243904, -0.253707, -0.0168992, -0.999356, 0.031665, -0.254316, -0.0263318, -0.966763, 0.111978, 0.485119, -0.23376)

[node name="R_ShinArea" parent="PuppetBase/Skeleton/R_Shin" index="0"]
collision_layer = 4

[node name="R_Foot" parent="PuppetBase/Skeleton" index="13"]
transform = Transform3D(-1, -4.76837e-07, -1.80677e-07, -2.00234e-07, 2.96161e-07, 1, -4.76837e-07, 1, -2.21655e-07, 0.119459, 0.113841, -0.180125)

[node name="R_FootArea" parent="PuppetBase/Skeleton/R_Foot" index="0"]
collision_layer = 4

[node name="L_Thigh" parent="PuppetBase/Skeleton" index="14"]
transform = Transform3D(-0.959965, 0.00685886, -0.280037, -0.0381494, -0.993587, 0.10644, -0.277511, 0.112862, 0.95407, -0.0851499, 0.866436, -0.0593682)

[node name="L_ThighArea" parent="PuppetBase/Skeleton/L_Thigh" index="0"]
collision_layer = 4

[node name="L_Shin" parent="PuppetBase/Skeleton" index="15"]
transform = Transform3D(0.962294, 0.0184814, 0.271383, 0.0989896, -0.953072, -0.286102, 0.25336, 0.302178, -0.918965, -0.108636, 0.447192, -0.0445964)

[node name="L_ShinArea" parent="PuppetBase/Skeleton/L_Shin" index="0"]
collision_layer = 4

[node name="L_Foot" parent="PuppetBase/Skeleton" index="16"]
transform = Transform3D(-1, 3.8743e-07, -1.49012e-07, -1.78814e-07, 0, 1, 3.8743e-07, 1, -1.19209e-07, -0.11946, 0.11384, 0.127273)

[node name="L_FootArea" parent="PuppetBase/Skeleton/L_Foot" index="0"]
collision_layer = 4

[node name="Pause" type="Node" parent="." index="7"]
process_mode = 3
script = ExtResource("6_qlm7s")

[editable path="Weapons/Pistol"]
[editable path="Weapons/Pistol/Mesh"]
[editable path="Weapons/Rifle"]
[editable path="PuppetBase"]
