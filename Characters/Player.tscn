[gd_scene load_steps=10 format=3 uid="uid://bvtob15rpepds"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_l1vxh"]
[ext_resource type="Script" path="res://Characters/Player.gd" id="2_pimkv"]
[ext_resource type="Script" path="res://Characters/Pause.gd" id="3_dkci2"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Slapper.tscn" id="3_iyass"]
[ext_resource type="Texture2D" uid="uid://dwg7182f40h5u" path="res://Characters/CrossHair.png" id="4_vym86"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hykio"]
radius = 0.25
height = 1.75

[sub_resource type="LabelSettings" id="LabelSettings_lhp81"]
font_size = 76
font_color = Color(0.862745, 0.0980392, 0.0862745, 1)

[sub_resource type="LabelSettings" id="LabelSettings_kxml2"]
font_size = 68
font_color = Color(0.254902, 0, 1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ue0id"]
font_size = 48

[node name="Player" instance=ExtResource("1_l1vxh")]
script = ExtResource("2_pimkv")

[node name="Collision" parent="." index="0"]
shape = SubResource("CapsuleShape3D_hykio")

[node name="AimHelper" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)

[node name="ShootCast" parent="AimHelper" index="0"]
collision_mask = 9

[node name="MainCamera" type="Camera3D" parent="AimHelper" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.105338)
cull_mask = 1048573

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="AimHelper/MainCamera" index="0"]
remote_path = NodePath("../../../CanvasLayer/GunViewContainer/GunView/GunCamera")

[node name="Slapper" parent="AimHelper" index="3" instance=ExtResource("3_iyass")]
transform = Transform3D(0.983385, -0.110576, -0.143971, -0.109524, 0.271082, -0.956305, 0.144773, 0.956184, 0.254467, 0.14, -0.205, -0.31)
visible = false

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(-5.8321e-10, 0.885413, -0.0641972)
bones/1/rotation = Quaternion(7.33823e-09, 0.998875, -0.0474306, -1.94488e-07)
bones/2/rotation = Quaternion(-0.133603, 0.000477509, 0.00338509, 0.991029)
bones/4/rotation = Quaternion(0.10275, 0.0135964, 0.0184552, 0.994443)
bones/5/rotation = Quaternion(0.0121801, 0.00123001, -0.00239939, 0.999922)
bones/7/rotation = Quaternion(0.652291, -0.185353, -0.549684, 0.487861)
bones/8/rotation = Quaternion(0.17798, 0.0358953, -0.034655, 0.982768)
bones/10/rotation = Quaternion(0.498181, 0.222477, 0.604138, 0.580806)
bones/11/rotation = Quaternion(0.441401, -0.0326015, 0.0859465, 0.892589)
bones/12/position = Vector3(-0.0204401, 0.317987, 0.338304)
bones/12/rotation = Quaternion(-0.420903, -0.17798, -0.539718, 0.707013)
bones/15/rotation = Quaternion(-0.136752, -0.0311937, 0.100512, 0.984999)
bones/16/rotation = Quaternion(-0.352684, -0.0473181, -0.50171, 0.788455)
bones/21/rotation = Quaternion(0.00413222, -0.168782, -0.154747, 0.973421)
bones/22/rotation = Quaternion(-0.394365, 0.0948889, -0.480339, 0.777654)
bones/26/rotation = Quaternion(-0.368907, -0.0234359, 0.416803, 0.830442)
bones/27/rotation = Quaternion(-0.105765, -0.0530162, -0.0569686, 0.991341)
bones/28/rotation = Quaternion(0.498909, 0.316198, -0.136072, 0.795357)
bones/29/rotation = Quaternion(0.435695, 0.22848, -0.187196, 0.85025)
bones/30/position = Vector3(-0.0488821, 0.328512, 0.332899)
bones/30/rotation = Quaternion(-0.42215, 0.0391671, 0.481032, 0.767374)
bones/33/rotation = Quaternion(-0.244851, 0.183849, 0.0430019, 0.950999)
bones/34/rotation = Quaternion(-0.38701, -0.00258394, 0.473995, 0.790914)
bones/39/rotation = Quaternion(-0.0280183, 0.194239, 0.268623, 0.943042)
bones/40/rotation = Quaternion(-0.46123, -0.0717649, 0.471175, 0.748405)
bones/44/rotation = Quaternion(-0.240005, -0.529209, 0.632703, 0.511881)
bones/45/rotation = Quaternion(-0.209561, -0.246504, 0.40331, 0.855956)
bones/46/rotation = Quaternion(-0.195129, -0.597977, 0.777169, -0.0188726)
bones/47/rotation = Quaternion(0.113472, 0.423023, -0.734824, 0.51789)
bones/49/rotation = Quaternion(-0.549038, 0.308195, -0.268461, 0.729042)
bones/50/rotation = Quaternion(-0.115776, 0.00382881, 0.177378, 0.977301)
bones/52/rotation = Quaternion(-0.515299, -0.140222, 0.432982, 0.726176)
bones/53/rotation = Quaternion(-0.141079, -0.00378494, -0.216145, 0.966108)
bones/54/rotation = Quaternion(0.64937, -0.347814, -0.514224, 0.439225)
bones/56/rotation = Quaternion(0.00495412, -0.00577784, -0.163837, 0.986458)
bones/60/position = Vector3(-0.324582, 0.962178, -0.428659)
bones/60/rotation = Quaternion(0.565929, -0.423939, -0.423939, 0.565929)
bones/61/rotation = Quaternion(0.64937, 0.347814, 0.514224, 0.439225)
bones/63/rotation = Quaternion(0.00495412, 0.00577784, 0.163837, 0.986458)
bones/67/position = Vector3(0.177047, 0.971755, -0.536806)
bones/67/rotation = Quaternion(0.565929, 0.423939, 0.423939, 0.565929)

[node name="Body" parent="PuppetAnimations/Character/Skeleton3D" index="0"]
cast_shadow = 3

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-0.999986, -0.00493303, -0.00200863, -0.00412633, 0.955956, -0.293479, 0.0033679, -0.293466, -0.955963, 1.48974e-05, 1.56504, -0.0513965)

[node name="HeadArea" parent="PuppetAnimations/Character/Skeleton3D/Head" index="0"]
collision_layer = 4

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, -0.000114186, 0.000390097, -0.000215309, 0.962832, -0.270101, -0.000344755, -0.270101, -0.962832, 2.22265e-05, 1.50324, -0.0340599)

[node name="NeckArea" parent="PuppetAnimations/Character/Skeleton3D/Neck" index="0"]
collision_layer = 4

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00683714, -4.23097e-05, 0.00672766, 0.98503, 0.172249, 0.00121937, 0.172245, -0.985053, -1.48981e-09, 1.12358, -0.0868667)

[node name="ChestArea" parent="PuppetAnimations/Character/Skeleton3D/Chest" index="0"]
collision_layer = 4

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78941e-09, -3.89234e-07, 3.31093e-08, 0.9955, -0.0947544, 3.87842e-07, -0.0947544, -0.995501, -5.8321e-10, 0.885413, -0.0641972)

[node name="StomachArea" parent="PuppetAnimations/Character/Skeleton3D/Stomach" index="0"]
collision_layer = 4

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.864395, 0.481773, 0.14393, -0.221659, 0.108178, 0.969105, 0.451319, -0.869593, 0.200298, -0.194952, 1.38617, -0.0389214)

[node name="L_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/L_UpperArm" index="0"]
collision_layer = 4

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.8215, 0.57001, 0.0150284, -0.30687, 0.419741, 0.854194, 0.480591, -0.706333, 0.519737, -0.0944194, 1.40874, -0.220381)

[node name="L_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/L_Forearm" index="0"]
collision_layer = 4

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.35827, -0.912531, -0.197307, -0.480179, -0.00113767, 0.877169, -0.800669, 0.409007, -0.43777, 0.0225994, 1.49494, -0.365368)

[node name="L_HandArea" parent="PuppetAnimations/Character/Skeleton3D/L_Hand" index="0"]
collision_layer = 4

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.948257, -0.316731, -0.0221259, -0.0190954, -0.126453, 0.991788, -0.316928, -0.940049, -0.125958, 0.19497, 1.38611, -0.0386985)

[node name="R_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/R_UpperArm" index="0"]
collision_layer = 4

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.889786, -0.378724, 0.254655, 0.0984374, 0.704121, 0.703223, -0.445636, -0.60065, 0.663798, 0.128877, 1.35973, -0.23486)

[node name="R_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/R_Forearm" index="0"]
collision_layer = 4

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.529294, 0.772576, 0.350676, 0.617921, 0.0677906, 0.783312, 0.581396, 0.631293, -0.513272, 0.0511129, 1.50419, -0.358265)

[node name="R_HandArea" parent="PuppetAnimations/Character/Skeleton3D/R_Hand" index="0"]
collision_layer = 4

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.720017, -0.0515485, -0.692039, -0.0631193, -0.997968, 0.00866517, -0.69108, 0.0374417, -0.721808, -0.0851499, 0.867923, -0.0593681)

[node name="L_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/L_Thigh" index="0"]
collision_layer = 4

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.690464, -0.141528, -0.709386, -0.404681, -0.888425, -0.216639, -0.599577, 0.436657, -0.6707, -0.106809, 0.448617, -0.0436366)

[node name="L_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/L_Shin" index="0"]
collision_layer = 4

[node name="L_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="13"]
transform = Transform3D(0.245937, -0.0720779, -0.966602, 0.853542, -0.456465, 0.251209, -0.459327, -0.886817, -0.0507405, -0.11946, 0.113842, 0.126346)

[node name="L_FootArea" parent="PuppetAnimations/Character/Skeleton3D/L_Foot" index="0"]
collision_layer = 4

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.684263, -0.0677307, 0.726083, -0.340186, -0.910347, 0.235673, 0.645025, -0.408266, -0.645957, 0.0851499, 0.867923, -0.0593681)

[node name="R_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/R_Thigh" index="0"]
collision_layer = 4

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.698114, 0.0310611, 0.715313, 0.0869302, -0.995344, -0.0416191, 0.71069, 0.0912371, -0.697564, 0.0566921, 0.485432, -0.230905)

[node name="R_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/R_Shin" index="0"]
collision_layer = 4

[node name="R_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="16"]
transform = Transform3D(0.245937, 0.0720779, 0.966602, -0.853542, -0.456465, 0.251209, 0.459327, -0.886817, -0.0507405, 0.11946, 0.113841, -0.203503)

[node name="R_FootArea" parent="PuppetAnimations/Character/Skeleton3D/R_Foot" index="0"]
collision_layer = 4

[node name="AnimationTree" parent="PuppetAnimations" index="2"]
parameters/Idle/IdleUpper_Blend/blend_position = Vector2(1, 1)
parameters/Run/RunUpper_Blend/blend_position = Vector2(1, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="." index="3"]
layer = 2

[node name="GunViewContainer" type="SubViewportContainer" parent="CanvasLayer" index="0"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="GunView" type="SubViewport" parent="CanvasLayer/GunViewContainer" index="0"]
transparent_bg = true
handle_input_locally = false
gui_disable_input = true
positional_shadow_atlas_size = 4096
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GunCamera" type="Camera3D" parent="CanvasLayer/GunViewContainer/GunView" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.105338)
cull_mask = 14
fov = 74.96
near = 0.01

[node name="UI" type="Control" parent="CanvasLayer" index="1"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 960.0
offset_top = 540.0
offset_right = -960.0
offset_bottom = -540.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4

[node name="Crosshairs" type="Sprite2D" parent="CanvasLayer/UI" index="0"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_vym86")

[node name="Health" type="BoxContainer" parent="CanvasLayer/UI" index="1"]
layout_mode = 0
offset_left = -852.0
offset_top = -481.0
offset_right = -686.0
offset_bottom = -273.0
theme_override_constants/separation = -20
vertical = true

[node name="Health" type="Label" parent="CanvasLayer/UI/Health" index="0"]
unique_name_in_owner = true
layout_mode = 2
text = "100"
label_settings = SubResource("LabelSettings_lhp81")
vertical_alignment = 1

[node name="Armor" type="Label" parent="CanvasLayer/UI/Health" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_kxml2")

[node name="Weapon" type="VBoxContainer" parent="CanvasLayer/UI" index="2"]
layout_mode = 0
offset_left = 610.0
offset_top = 340.0
offset_right = 905.0
offset_bottom = 484.0
alignment = 2

[node name="AmmoInMag" type="Label" parent="CanvasLayer/UI/Weapon" index="0"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 6
text = "0 / 0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="ExtraAmmo" type="Label" parent="CanvasLayer/UI/Weapon" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="Pause" type="Node" parent="." index="7"]
process_mode = 3
script = ExtResource("3_dkci2")

[editable path="PuppetAnimations"]
