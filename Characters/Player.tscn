[gd_scene load_steps=10 format=3 uid="uid://bvtob15rpepds"]

[ext_resource type="PackedScene" uid="uid://1s5qidco641t" path="res://Characters/CharacterBase.tscn" id="1_l1vxh"]
[ext_resource type="Script" path="res://Characters/Player.gd" id="2_pimkv"]
[ext_resource type="Script" path="res://Characters/Pause.gd" id="3_dkci2"]
[ext_resource type="PackedScene" uid="uid://ckqtvo1inhvtn" path="res://Props/Slapper.tscn" id="3_iyass"]
[ext_resource type="Texture2D" uid="uid://dwg7182f40h5u" path="res://Characters/CrossHair.png" id="4_vym86"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hykio"]
radius = 0.25
height = 1.75

[sub_resource type="LabelSettings" id="LabelSettings_lhp81"]
font_size = 76
font_color = Color(0.862745, 0.0980392, 0.0862745, 1)

[sub_resource type="LabelSettings" id="LabelSettings_kxml2"]
font_size = 68
font_color = Color(0.254902, 0, 1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ue0id"]
font_size = 48

[node name="Player" instance=ExtResource("1_l1vxh")]
script = ExtResource("2_pimkv")

[node name="Collision" parent="." index="0"]
shape = SubResource("CapsuleShape3D_hykio")

[node name="AimHelper" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)

[node name="ShootCast" parent="AimHelper" index="0"]
collision_mask = 9

[node name="MainCamera" type="Camera3D" parent="AimHelper" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.105338)
cull_mask = 1048573

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="AimHelper/MainCamera" index="0"]
remote_path = NodePath("../../../CanvasLayer/GunViewContainer/GunView/GunCamera")

[node name="Slapper" parent="AimHelper" index="3" instance=ExtResource("3_iyass")]
transform = Transform3D(0.983385, -0.110576, -0.143971, -0.109524, 0.271082, -0.956305, 0.144773, 0.956184, 0.254467, 0.14, -0.205, -0.31)
visible = false

[node name="Skeleton3D" parent="PuppetAnimations/Character" index="0"]
bones/1/position = Vector3(-7.52032e-10, 0.880314, -0.0641973)
bones/1/rotation = Quaternion(7.33823e-09, 0.998875, -0.0474306, -1.94488e-07)
bones/2/rotation = Quaternion(-0.1238, 0.000444023, 0.00338965, 0.992301)
bones/4/rotation = Quaternion(0.103677, 0.0136137, 0.0184422, 0.994347)
bones/5/rotation = Quaternion(0.0148903, 0.00123681, -0.00239711, 0.999886)
bones/7/rotation = Quaternion(0.650158, -0.177051, -0.547944, 0.495686)
bones/8/rotation = Quaternion(0.178076, 0.0358946, -0.0346737, 0.98275)
bones/10/rotation = Quaternion(0.493783, 0.215411, 0.602332, 0.589044)
bones/11/rotation = Quaternion(0.441801, -0.032594, 0.0860244, 0.892384)
bones/12/position = Vector3(-0.0205017, 0.309455, 0.339458)
bones/12/rotation = Quaternion(-0.420903, -0.17798, -0.539718, 0.707013)
bones/15/rotation = Quaternion(-0.136752, -0.0311937, 0.100512, 0.984999)
bones/16/rotation = Quaternion(-0.352684, -0.0473181, -0.50171, 0.788455)
bones/21/rotation = Quaternion(0.00413222, -0.168782, -0.154747, 0.973421)
bones/22/rotation = Quaternion(-0.394365, 0.0948889, -0.480339, 0.777654)
bones/26/rotation = Quaternion(-0.368907, -0.0234359, 0.416803, 0.830442)
bones/27/rotation = Quaternion(-0.105765, -0.0530162, -0.0569686, 0.991341)
bones/28/rotation = Quaternion(0.506747, 0.314838, -0.139191, 0.790387)
bones/29/rotation = Quaternion(0.444079, 0.226618, -0.189446, 0.845901)
bones/30/position = Vector3(-0.0489361, 0.320505, 0.334217)
bones/30/rotation = Quaternion(-0.42215, 0.0391671, 0.481032, 0.767374)
bones/33/rotation = Quaternion(-0.244851, 0.183849, 0.0430019, 0.950999)
bones/34/rotation = Quaternion(-0.38701, -0.00258394, 0.473995, 0.790914)
bones/39/rotation = Quaternion(-0.0280183, 0.194239, 0.268623, 0.943042)
bones/40/rotation = Quaternion(-0.46123, -0.0717649, 0.471175, 0.748405)
bones/44/rotation = Quaternion(-0.240005, -0.529209, 0.632703, 0.511881)
bones/45/rotation = Quaternion(-0.209561, -0.246504, 0.40331, 0.855956)
bones/46/rotation = Quaternion(-0.195306, -0.590266, 0.783042, -0.0169428)
bones/47/rotation = Quaternion(0.118586, 0.415738, -0.73897, 0.516743)
bones/49/rotation = Quaternion(-0.547185, 0.3006, -0.27784, 0.730091)
bones/50/rotation = Quaternion(-0.13053, 0.00380432, 0.199984, 0.971058)
bones/52/rotation = Quaternion(-0.512024, -0.132283, 0.440794, 0.725281)
bones/53/rotation = Quaternion(-0.153415, -0.00376024, -0.235045, 0.959793)
bones/54/rotation = Quaternion(0.64937, -0.347814, -0.514224, 0.439225)
bones/56/rotation = Quaternion(0.00495412, -0.00577784, -0.163837, 0.986458)
bones/60/position = Vector3(-0.324582, 0.962178, -0.428659)
bones/60/rotation = Quaternion(0.565929, -0.423939, -0.423939, 0.565929)
bones/61/rotation = Quaternion(0.64937, 0.347814, 0.514224, 0.439225)
bones/63/rotation = Quaternion(0.00495412, 0.00577784, 0.163837, 0.986458)
bones/67/position = Vector3(0.177047, 0.971755, -0.536806)
bones/67/rotation = Quaternion(0.565929, 0.423939, 0.423939, 0.565929)

[node name="Body" parent="PuppetAnimations/Character/Skeleton3D" index="0"]
cast_shadow = 3

[node name="Head" parent="PuppetAnimations/Character/Skeleton3D" index="1"]
transform = Transform3D(-0.999986, -0.00493301, -0.00200863, -0.00403368, 0.947667, -0.319233, 0.0034783, -0.319221, -0.947674, 1.48979e-05, 1.56052, -0.0602457)

[node name="HeadArea" parent="PuppetAnimations/Character/Skeleton3D/Head" index="0"]
collision_layer = 4

[node name="Neck" parent="PuppetAnimations/Character/Skeleton3D" index="2"]
transform = Transform3D(-1, -0.000114174, 0.00039009, -0.00022269, 0.956763, -0.290867, -0.000340013, -0.290867, -0.956763, 2.22262e-05, 1.49911, -0.0415761)

[node name="NeckArea" parent="PuppetAnimations/Character/Skeleton3D/Neck" index="0"]
collision_layer = 4

[node name="Chest" parent="PuppetAnimations/Character/Skeleton3D" index="3"]
transform = Transform3D(-0.999977, 0.00683714, -4.231e-05, 0.00675045, 0.988243, 0.152741, 0.00108613, 0.152738, -0.988266, -1.65863e-09, 1.11848, -0.0868667)

[node name="ChestArea" parent="PuppetAnimations/Character/Skeleton3D/Chest" index="0"]
collision_layer = 4

[node name="Stomach" parent="PuppetAnimations/Character/Skeleton3D" index="4"]
transform = Transform3D(-1, -3.78941e-09, -3.89234e-07, 3.31093e-08, 0.9955, -0.0947544, 3.87842e-07, -0.0947544, -0.995501, -7.52032e-10, 0.880314, -0.0641973)

[node name="StomachArea" parent="PuppetAnimations/Character/Skeleton3D/Stomach" index="0"]
collision_layer = 4

[node name="L_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="5"]
transform = Transform3D(0.862841, 0.478357, 0.163338, -0.223297, 0.0708205, 0.972174, 0.453479, -0.875305, 0.167923, -0.194952, 1.38196, -0.0441222)

[node name="L_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/L_UpperArm" index="0"]
collision_layer = 4

[node name="L_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="6"]
transform = Transform3D(0.818517, 0.573466, 0.0341565, -0.306699, 0.385935, 0.870051, 0.485762, -0.722628, 0.491777, -0.0951322, 1.39674, -0.226774)

[node name="L_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/L_Forearm" index="0"]
collision_layer = 4

[node name="L_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="7"]
transform = Transform3D(-0.35827, -0.912531, -0.197307, -0.495914, 0.00694854, 0.868343, -0.791019, 0.408949, -0.455026, 0.0226026, 1.47601, -0.375098)

[node name="L_HandArea" parent="PuppetAnimations/Character/Skeleton3D/L_Hand" index="0"]
collision_layer = 4

[node name="R_UpperArm" parent="PuppetAnimations/Character/Skeleton3D" index="8"]
transform = Transform3D(0.950194, -0.309498, -0.0366535, -0.0160175, -0.165947, 0.986004, -0.311249, -0.936308, -0.162639, 0.19497, 1.38191, -0.0438982)

[node name="R_UpperArmArea" parent="PuppetAnimations/Character/Skeleton3D/R_UpperArm" index="0"]
collision_layer = 4

[node name="R_Forearm" parent="PuppetAnimations/Character/Skeleton3D" index="9"]
transform = Transform3D(0.890588, -0.386045, 0.240462, 0.0958607, 0.676159, 0.730492, -0.444593, -0.627517, 0.639186, 0.130386, 1.34729, -0.239279)

[node name="R_ForearmArea" parent="PuppetAnimations/Character/Skeleton3D/R_Forearm" index="0"]
collision_layer = 4

[node name="R_Hand" parent="PuppetAnimations/Character/Skeleton3D" index="10"]
transform = Transform3D(-0.529294, 0.772576, 0.350676, 0.629294, 0.0802579, 0.773011, 0.569066, 0.629829, -0.528658, 0.0511122, 1.48594, -0.368262)

[node name="R_HandArea" parent="PuppetAnimations/Character/Skeleton3D/R_Hand" index="0"]
collision_layer = 4

[node name="L_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="11"]
transform = Transform3D(0.720716, -0.0464071, -0.691676, -0.0428361, -0.998831, 0.0223806, -0.691906, 0.0134985, -0.721861, -0.0851499, 0.862824, -0.0593682)

[node name="L_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/L_Thigh" index="0"]
collision_layer = 4

[node name="L_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="12"]
transform = Transform3D(0.68629, -0.147459, -0.712223, -0.427688, -0.873861, -0.231191, -0.588293, 0.463274, -0.662789, -0.104648, 0.443155, -0.0536966)

[node name="L_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/L_Shin" index="0"]
collision_layer = 4

[node name="L_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="13"]
transform = Transform3D(0.245937, -0.0720779, -0.966602, 0.853542, -0.456465, 0.251209, -0.459327, -0.886817, -0.0507405, -0.11946, 0.113842, 0.126346)

[node name="L_FootArea" parent="PuppetAnimations/Character/Skeleton3D/L_Foot" index="0"]
collision_layer = 4

[node name="R_Thigh" parent="PuppetAnimations/Character/Skeleton3D" index="14"]
transform = Transform3D(0.682626, -0.071605, 0.727251, -0.357833, -0.900466, 0.247216, 0.637163, -0.428991, -0.640305, 0.0851499, 0.862824, -0.0593682)

[node name="R_ThighArea" parent="PuppetAnimations/Character/Skeleton3D/R_Thigh" index="0"]
collision_layer = 4

[node name="R_Shin" parent="PuppetAnimations/Character/Skeleton3D" index="15"]
transform = Transform3D(0.697105, 0.0355733, 0.716086, 0.10657, -0.992814, -0.0544253, 0.709005, 0.114254, -0.695887, 0.0550643, 0.484484, -0.239613)

[node name="R_ShinArea" parent="PuppetAnimations/Character/Skeleton3D/R_Shin" index="0"]
collision_layer = 4

[node name="R_Foot" parent="PuppetAnimations/Character/Skeleton3D" index="16"]
transform = Transform3D(0.245937, 0.0720779, 0.966602, -0.853542, -0.456465, 0.251209, 0.459327, -0.886817, -0.0507405, 0.11946, 0.113841, -0.203503)

[node name="R_FootArea" parent="PuppetAnimations/Character/Skeleton3D/R_Foot" index="0"]
collision_layer = 4

[node name="AnimationTree" parent="PuppetAnimations" index="2"]
parameters/Idle/IdleUpper_Blend/blend_position = Vector2(1, 1)
parameters/Run/RunUpper_Blend/blend_position = Vector2(1, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="." index="3"]
layer = 2

[node name="GunViewContainer" type="SubViewportContainer" parent="CanvasLayer" index="0"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="GunView" type="SubViewport" parent="CanvasLayer/GunViewContainer" index="0"]
transparent_bg = true
handle_input_locally = false
gui_disable_input = true
positional_shadow_atlas_size = 4096
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GunCamera" type="Camera3D" parent="CanvasLayer/GunViewContainer/GunView" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.105338)
cull_mask = 14
fov = 74.96
near = 0.01

[node name="UI" type="Control" parent="CanvasLayer" index="1"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 960.0
offset_top = 540.0
offset_right = -960.0
offset_bottom = -540.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4

[node name="Crosshairs" type="Sprite2D" parent="CanvasLayer/UI" index="0"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_vym86")

[node name="Health" type="BoxContainer" parent="CanvasLayer/UI" index="1"]
layout_mode = 0
offset_left = -852.0
offset_top = -481.0
offset_right = -686.0
offset_bottom = -273.0
theme_override_constants/separation = -20
vertical = true

[node name="Health" type="Label" parent="CanvasLayer/UI/Health" index="0"]
unique_name_in_owner = true
layout_mode = 2
text = "100"
label_settings = SubResource("LabelSettings_lhp81")
vertical_alignment = 1

[node name="Armor" type="Label" parent="CanvasLayer/UI/Health" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_kxml2")

[node name="Weapon" type="VBoxContainer" parent="CanvasLayer/UI" index="2"]
layout_mode = 0
offset_left = 610.0
offset_top = 340.0
offset_right = 905.0
offset_bottom = 484.0
alignment = 2

[node name="AmmoInMag" type="Label" parent="CanvasLayer/UI/Weapon" index="0"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 6
text = "0 / 0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="ExtraAmmo" type="Label" parent="CanvasLayer/UI/Weapon" index="1"]
unique_name_in_owner = true
layout_mode = 2
text = "0"
label_settings = SubResource("LabelSettings_ue0id")
horizontal_alignment = 2
vertical_alignment = 1

[node name="Pause" type="Node" parent="." index="7"]
process_mode = 3
script = ExtResource("3_dkci2")

[editable path="PuppetAnimations"]
