[gd_scene load_steps=9 format=3 uid="uid://dovfhhiq57x4g"]

[ext_resource type="Script" path="res://Props/Weapons/Grenade/Grenade.gd" id="1_p8qrt"]
[ext_resource type="AudioStream" uid="uid://cuwmcsge0stbu" path="res://Props/Weapons/Grenade/Throw.wav" id="2_jhnqf"]
[ext_resource type="Script" path="res://addons/TrailRenderer/Runtime/GD/trail_renderer.gd" id="2_k4txq"]
[ext_resource type="PackedScene" uid="uid://dj5j6pqg1rgbd" path="res://Props/Weapons/Grenade/GrenadeBase.tscn" id="2_mk7f6"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_cckbe"]
friction = 5.0
bounce = 0.1

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_stevy"]
points = PackedVector3Array(-0.0325312, -0.0574894, 0.200156, -0.0913662, -0.0574894, 0.181034, -0.0562682, -0.109526, 0.17304, -0.00621745, -0.123467, 0.181034, 0.0289196, -0.0627805, 0.199216, -0.000595525, 0.00752184, 0.193573, 0.00014627, 0.0191162, 0.192202, -0.0258161, 0.119003, 0.177586, -0.0593915, 0.0191162, 0.182758, -0.05986, 0.00752184, 0.184169, -0.140558, -0.0627805, 0.144161, -0.1014, -0.123467, 0.150078, -0.083558, 0.119003, 0.158855, -0.113112, 0.0191162, 0.155407, -0.113346, 0.00752184, 0.156935, -0.0488114, -0.15595, 0.150078, 0.0110388, -0.169798, 0.144161, 0.0550381, -0.128344, 0.169474, 0.0936889, -0.0627805, 0.178173, 0.0597621, 0.00752184, 0.183973, 0.0593717, 0.0191162, 0.182797, 0.0289586, 0.114264, 0.178408, 0.00553395, 0.161193, 0.161363, -0.0491237, 0.165564, 0.151057, -0.128338, 0.114264, 0.127311, -0.155511, 0.0191162, 0.11297, -0.156526, 0.00752184, 0.113675, -0.180575, -0.0627805, 0.0890671, -0.144189, -0.128344, 0.104741, -0.0937087, -0.169798, 0.110109, -0.0993697, 0.161193, 0.127311, -0.0340538, -0.196438, 0.104741, 0.0289196, -0.205594, 0.0890671, 0.075769, -0.169798, 0.123119, 0.111414, -0.123467, 0.142789, 0.143935, -0.0574894, 0.142789, 0.114225, 0.00752184, 0.156269, 0.112819, 0.0191162, 0.155564, 0.0813909, 0.114264, 0.161363, 0.0499628, 0.148265, 0.15384, 0.0434429, 0.190179, 0.133816, -0.00988731, 0.20251, 0.128487, -0.0675902, 0.20251, 0.109757, -0.130876, 0.148265, 0.0950624, -0.160781, 0.114264, 0.0826799, -0.182762, 0.0191162, 0.0595217, -0.184284, 0.00752184, 0.0592474, -0.200408, -0.0574894, 0.0309168, -0.174133, -0.123467, 0.0499998, -0.133726, -0.169798, 0.0550546, -0.0758278, -0.205594, 0.0550546, -0.113854, 0.190179, 0.0826799, -0.0162901, -0.221007, 0.0499998, 0.042545, -0.221007, 0.0309168, 0.089082, -0.196438, 0.0647333, 0.127694, -0.15595, 0.0927504, 0.147214, -0.109526, 0.106935, 0.180282, -0.0574894, 0.0927504, 0.156662, 0.00752184, 0.113793, 0.155452, 0.0191162, 0.112931, 0.125273, 0.119003, 0.128526, 0.0903704, 0.161193, 0.133816, 0.0834991, 0.20251, 0.098158, 0.0303251, 0.226251, 0.0933774, -0.0258161, 0.234394, 0.0794276, -0.0794587, 0.226251, 0.05768, -0.151802, 0.161193, 0.055133, -0.176905, 0.119003, 0.030329, -0.200408, -0.0574894, -0.030956, -0.18202, -0.109526, -3.91901e-05, -0.192171, 0.0191162, -1.49012e-08, -0.193654, 0.00752184, -1.49012e-08, -0.157853, -0.15595, -1.49012e-08, -0.110145, -0.196438, -1.49012e-08, -0.0526374, -0.221007, -1.49012e-08, -0.125293, 0.20251, 0.030329, -9.89437e-06, -0.221789, -3.91901e-05, 0.042545, -0.221007, -0.030956, 0.0936498, -0.205594, -1.49012e-08, 0.140499, -0.169798, 0.0340124, 0.170249, -0.123467, 0.0618336, 0.198397, -0.0627805, 0.0340124, 0.183913, 0.00752184, 0.0603446, 0.18282, 0.0191162, 0.0592474, 0.160918, 0.119003, 0.0794276, 0.128514, 0.165564, 0.0933774, 0.119183, 0.20251, 0.0490594, 0.0675313, 0.234394, 0.0490594, 0.0144744, 0.248151, 0.0445923, -0.0379579, 0.248151, 0.0275469, -0.083558, 0.234394, -1.49012e-08, -0.158868, 0.165564, -1.49012e-08, -0.176905, 0.119003, -0.0303682, -0.180575, -0.0627805, -0.0891063, -0.174133, -0.123467, -0.050039, -0.182762, 0.0191162, -0.0595609, -0.184323, 0.00752184, -0.0592866, -0.133726, -0.169798, -0.0550939, -0.0758278, -0.205594, -0.0550939, -0.0162901, -0.221007, -0.050039, -0.125293, 0.20251, -0.0303682, 0.0289196, -0.205594, -0.0891063, 0.089082, -0.196438, -0.0647725, 0.140499, -0.169798, -0.0340516, 0.178174, -0.128344, -1.49012e-08, 0.198397, -0.0627805, -0.0340516, 0.193439, 0.00752184, -1.49012e-08, 0.19219, 0.0191162, -1.49012e-08, 0.178642, 0.114264, 0.0275469, 0.155179, 0.161193, 0.0445923, 0.0981786, 0.226251, -1.49012e-08, 0.140694, 0.190179, -1.49012e-08, 0.0468785, 0.248151, -1.49012e-08, -9.89437e-06, 0.248243, -3.91901e-05, -0.0379579, 0.248151, -0.0275861, -0.0794587, 0.226251, -0.0577192, -0.151802, 0.161193, -0.0551722, -0.160781, 0.114264, -0.0827192, -0.155511, 0.0191162, -0.113009, -0.156526, 0.00752184, -0.113714, -0.140558, -0.0627805, -0.1442, -0.144189, -0.128344, -0.10478, -0.0937087, -0.169798, -0.110149, -0.0340538, -0.196438, -0.10478, -0.113854, 0.190179, -0.0827192, 0.0110388, -0.169798, -0.1442, 0.075769, -0.169798, -0.123158, 0.127694, -0.15595, -0.0927897, 0.170249, -0.123467, -0.0618728, 0.180282, -0.0574894, -0.0927897, 0.183913, 0.00752184, -0.0603838, 0.18282, 0.0191162, -0.0592866, 0.178642, 0.114264, -0.0275861, 0.161738, 0.148265, -3.91901e-05, 0.119183, 0.20251, -0.0490986, 0.0675313, 0.234394, -0.0490986, 0.155179, 0.161193, -0.0446315, 0.0144744, 0.248151, -0.0446315, -0.0258161, 0.234394, -0.0794668, -0.0675902, 0.20251, -0.109796, -0.130876, 0.148265, -0.0951016, -0.128338, 0.114264, -0.127351, -0.113112, 0.0191162, -0.155446, -0.113346, 0.00752184, -0.156974, -0.0913662, -0.0574894, -0.181073, -0.1014, -0.123467, -0.150117, -0.0488114, -0.15595, -0.150117, -0.0993697, 0.161193, -0.127351, -0.00621745, -0.123467, -0.181073, 0.0550381, -0.128344, -0.169514, 0.111414, -0.123467, -0.142829, 0.147214, -0.109526, -0.106975, 0.143935, -0.0574894, -0.142829, 0.156662, 0.00752184, -0.113832, 0.155452, 0.0191162, -0.11297, 0.160918, 0.119003, -0.0794668, 0.0834991, 0.20251, -0.0981972, 0.128514, 0.165564, -0.0934166, 0.0303251, 0.226251, -0.0934166, -0.00988731, 0.20251, -0.128526, -0.0491237, 0.165564, -0.151097, -0.083558, 0.119003, -0.158894, -0.0593915, 0.0191162, -0.182797, -0.05986, 0.00752184, -0.184208, -0.0325312, -0.0574894, -0.200156, -0.0562682, -0.109526, -0.173119, 0.0289196, -0.0627805, -0.199255, 0.0936889, -0.0627805, -0.178213, 0.114225, 0.00752184, -0.156308, 0.112819, 0.0191162, -0.155603, 0.125273, 0.119003, -0.128565, 0.0903704, 0.161193, -0.133855, 0.0434429, 0.190179, -0.133855, 0.00553395, 0.161193, -0.161402, -0.0258161, 0.119003, -0.177625, 0.00014627, 0.0191162, -0.192241, -0.000595525, 0.00752184, -0.193612, 0.0289586, 0.114264, -0.178448, 0.0593717, 0.0191162, -0.182836, 0.0597621, 0.00752184, -0.184012, 0.0813909, 0.114264, -0.161402, 0.0499628, 0.148265, -0.153879)

[sub_resource type="Curve" id="Curve_t4y64"]
max_value = 0.1
_data = [Vector2(0, 0), 0.0, 0.025, 0, 1, Vector2(1, 0.025), 0.025, 0.0, 1, 0]
point_count = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_okui4"]
transparency = 1
cull_mode = 2
vertex_color_use_as_albedo = true
albedo_color = Color(1, 0.814642, 0, 1)
roughness = 0.0
emission_enabled = true
emission = Color(1, 0.249978, 0, 1)
emission_energy_multiplier = 8.0

[node name="Grenade" type="RigidBody3D"]
physics_interpolation_mode = 1
collision_layer = 256
collision_mask = 15
input_ray_pickable = false
mass = 12.0
physics_material_override = SubResource("PhysicsMaterial_cckbe")
can_sleep = false
continuous_cd = true
script = ExtResource("1_p8qrt")

[node name="Grenade" parent="." instance=ExtResource("2_mk7f6")]

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_stevy")

[node name="TrailRenderer" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0771772, 0)
script = ExtResource("2_k4txq")
lifetime = 0.25
min_vertex_distance = 0.1
curve = SubResource("Curve_t4y64")
alignment = 0
material = SubResource("StandardMaterial3D_okui4")

[node name="Explode" type="Timer" parent="."]

[node name="Throw" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("2_jhnqf")
unit_size = 3.0
pitch_scale = 2.0
autoplay = true
max_distance = 5.0
bus = &"SFX"

[connection signal="timeout" from="Explode" to="." method="_explode"]
